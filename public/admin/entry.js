var SK=Object.create;var dS=Object.defineProperty;var CK=Object.getOwnPropertyDescriptor;var kK=Object.getOwnPropertyNames;var AK=Object.getPrototypeOf,TK=Object.prototype.hasOwnProperty;var zI=(e,t)=>()=>(e&&(t=e(e=0)),t);var rl=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),fS=(e,t)=>{for(var r in t)dS(e,r,{get:t[r],enumerable:!0})},DK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of kK(t))!TK.call(e,i)&&i!==r&&dS(e,i,{get:()=>t[i],enumerable:!(n=CK(t,i))||n.enumerable});return e};var A=(e,t,r)=>(r=e!=null?SK(AK(e)):{},DK(t||!e||!e.__esModule?dS(r,"default",{value:e,enumerable:!0}):r,e));var IK,VI,FK,HI,RK,MK,Sn,_K,as,Vc=zI(()=>{"use strict";w();IK=Object.create,VI=Object.defineProperty,FK=Object.getOwnPropertyDescriptor,HI=Object.getOwnPropertyNames,RK=Object.getPrototypeOf,MK=Object.prototype.hasOwnProperty,Sn=(e,t)=>function(){return t||(0,e[HI(e)[0]])((t={exports:{}}).exports,t),t.exports},_K=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of HI(t))!MK.call(e,i)&&i!==r&&VI(e,i,{get:()=>t[i],enumerable:!(n=FK(t,i))||n.enumerable});return e},as=(e,t,r)=>(r=e!=null?IK(RK(e)):{},_K(t||!e||!e.__esModule?VI(r,"default",{value:e,enumerable:!0}):r,e))});var OK,C,w=zI(()=>{"use strict";OK=new Set(["FORCE_COLOR","NODE_ENV"]),C={env:new Proxy({},{get(e,t){OK.has(t)||console.warn(`process.env.${t} is not defined on the client. If this variable is required in the browser, prefix the variable with PUBLIC_ and restart Alinea.`)}})}});var bF=rl(lt=>{"use strict";w();var dm=Symbol.for("react.element"),xY=Symbol.for("react.portal"),EY=Symbol.for("react.fragment"),SY=Symbol.for("react.strict_mode"),CY=Symbol.for("react.profiler"),kY=Symbol.for("react.provider"),AY=Symbol.for("react.context"),TY=Symbol.for("react.forward_ref"),DY=Symbol.for("react.suspense"),IY=Symbol.for("react.memo"),FY=Symbol.for("react.lazy"),cF=Symbol.iterator;function RY(e){return e===null||typeof e!="object"?null:(e=cF&&e[cF]||e["@@iterator"],typeof e=="function"?e:null)}var hF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pF=Object.assign,mF={};function wf(e,t,r){this.props=e,this.context=t,this.refs=mF,this.updater=r||hF}wf.prototype.isReactComponent={};wf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gF(){}gF.prototype=wf.prototype;function TS(e,t,r){this.props=e,this.context=t,this.refs=mF,this.updater=r||hF}var DS=TS.prototype=new gF;DS.constructor=TS;pF(DS,wf.prototype);DS.isPureReactComponent=!0;var dF=Array.isArray,vF=Object.prototype.hasOwnProperty,IS={current:null},yF={key:!0,ref:!0,__self:!0,__source:!0};function wF(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)vF.call(t,n)&&!yF.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:dm,type:e,key:o,ref:a,props:i,_owner:IS.current}}function MY(e,t){return{$$typeof:dm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function FS(e){return typeof e=="object"&&e!==null&&e.$$typeof===dm}function _Y(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fF=/\/+/g;function AS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_Y(""+e.key):t.toString(36)}function f1(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case dm:case xY:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+AS(a,0):n,dF(i)?(r="",e!=null&&(r=e.replace(fF,"$&/")+"/"),f1(i,t,r,"",function(u){return u})):i!=null&&(FS(i)&&(i=MY(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(fF,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",dF(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+AS(o,s);a+=f1(o,t,r,l,i)}else if(l=RY(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+AS(o,s++),a+=f1(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function d1(e,t,r){if(e==null)return e;var n=[],i=0;return f1(e,n,"","",function(o){return t.call(r,o,i++)}),n}function OY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ci={current:null},h1={transition:null},BY={ReactCurrentDispatcher:ci,ReactCurrentBatchConfig:h1,ReactCurrentOwner:IS};lt.Children={map:d1,forEach:function(e,t,r){d1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return d1(e,function(){t++}),t},toArray:function(e){return d1(e,function(t){return t})||[]},only:function(e){if(!FS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lt.Component=wf;lt.Fragment=EY;lt.Profiler=CY;lt.PureComponent=TS;lt.StrictMode=SY;lt.Suspense=DY;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BY;lt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=pF({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=IS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)vF.call(t,l)&&!yF.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:dm,type:e.type,key:i,ref:o,props:n,_owner:a}};lt.createContext=function(e){return e={$$typeof:AY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kY,_context:e},e.Consumer=e};lt.createElement=wF;lt.createFactory=function(e){var t=wF.bind(null,e);return t.type=e,t};lt.createRef=function(){return{current:null}};lt.forwardRef=function(e){return{$$typeof:TY,render:e}};lt.isValidElement=FS;lt.lazy=function(e){return{$$typeof:FY,_payload:{_status:-1,_result:e},_init:OY}};lt.memo=function(e,t){return{$$typeof:IY,type:e,compare:t===void 0?null:t}};lt.startTransition=function(e){var t=h1.transition;h1.transition={};try{e()}finally{h1.transition=t}};lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};lt.useCallback=function(e,t){return ci.current.useCallback(e,t)};lt.useContext=function(e){return ci.current.useContext(e)};lt.useDebugValue=function(){};lt.useDeferredValue=function(e){return ci.current.useDeferredValue(e)};lt.useEffect=function(e,t){return ci.current.useEffect(e,t)};lt.useId=function(){return ci.current.useId()};lt.useImperativeHandle=function(e,t,r){return ci.current.useImperativeHandle(e,t,r)};lt.useInsertionEffect=function(e,t){return ci.current.useInsertionEffect(e,t)};lt.useLayoutEffect=function(e,t){return ci.current.useLayoutEffect(e,t)};lt.useMemo=function(e,t){return ci.current.useMemo(e,t)};lt.useReducer=function(e,t,r){return ci.current.useReducer(e,t,r)};lt.useRef=function(e){return ci.current.useRef(e)};lt.useState=function(e){return ci.current.useState(e)};lt.useSyncExternalStore=function(e,t,r){return ci.current.useSyncExternalStore(e,t,r)};lt.useTransition=function(){return ci.current.useTransition()};lt.version="18.2.0"});var $=rl((k2e,xF)=>{"use strict";w();xF.exports=bF()});var RF=rl(Yt=>{"use strict";w();function OS(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(0<p1(i,t))e[n]=t,e[r]=i,r=n;else break e}}function ya(e){return e.length===0?null:e[0]}function g1(e){if(e.length===0)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,o=i>>>1;n<o;){var a=2*(n+1)-1,s=e[a],l=a+1,u=e[l];if(0>p1(s,r))l<i&&0>p1(u,s)?(e[n]=u,e[l]=r,n=l):(e[n]=s,e[a]=r,n=a);else if(l<i&&0>p1(u,r))e[n]=u,e[l]=r,n=l;else break e}}return t}function p1(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(EF=performance,Yt.unstable_now=function(){return EF.now()}):(RS=Date,SF=RS.now(),Yt.unstable_now=function(){return RS.now()-SF});var EF,RS,SF,us=[],ou=[],NY=1,Lo=null,Vn=3,v1=!1,jc=!1,hm=!1,AF=typeof setTimeout=="function"?setTimeout:null,TF=typeof clearTimeout=="function"?clearTimeout:null,CF=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function BS(e){for(var t=ya(ou);t!==null;){if(t.callback===null)g1(ou);else if(t.startTime<=e)g1(ou),t.sortIndex=t.expirationTime,OS(us,t);else break;t=ya(ou)}}function NS(e){if(hm=!1,BS(e),!jc)if(ya(us)!==null)jc=!0,LS(PS);else{var t=ya(ou);t!==null&&zS(NS,t.startTime-e)}}function PS(e,t){jc=!1,hm&&(hm=!1,TF(pm),pm=-1),v1=!0;var r=Vn;try{for(BS(t),Lo=ya(us);Lo!==null&&(!(Lo.expirationTime>t)||e&&!FF());){var n=Lo.callback;if(typeof n=="function"){Lo.callback=null,Vn=Lo.priorityLevel;var i=n(Lo.expirationTime<=t);t=Yt.unstable_now(),typeof i=="function"?Lo.callback=i:Lo===ya(us)&&g1(us),BS(t)}else g1(us);Lo=ya(us)}if(Lo!==null)var o=!0;else{var a=ya(ou);a!==null&&zS(NS,a.startTime-t),o=!1}return o}finally{Lo=null,Vn=r,v1=!1}}var y1=!1,m1=null,pm=-1,DF=5,IF=-1;function FF(){return!(Yt.unstable_now()-IF<DF)}function MS(){if(m1!==null){var e=Yt.unstable_now();IF=e;var t=!0;try{t=m1(!0,e)}finally{t?fm():(y1=!1,m1=null)}}else y1=!1}var fm;typeof CF=="function"?fm=function(){CF(MS)}:typeof MessageChannel<"u"?(_S=new MessageChannel,kF=_S.port2,_S.port1.onmessage=MS,fm=function(){kF.postMessage(null)}):fm=function(){AF(MS,0)};var _S,kF;function LS(e){m1=e,y1||(y1=!0,fm())}function zS(e,t){pm=AF(function(){e(Yt.unstable_now())},t)}Yt.unstable_IdlePriority=5;Yt.unstable_ImmediatePriority=1;Yt.unstable_LowPriority=4;Yt.unstable_NormalPriority=3;Yt.unstable_Profiling=null;Yt.unstable_UserBlockingPriority=2;Yt.unstable_cancelCallback=function(e){e.callback=null};Yt.unstable_continueExecution=function(){jc||v1||(jc=!0,LS(PS))};Yt.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):DF=0<e?Math.floor(1e3/e):5};Yt.unstable_getCurrentPriorityLevel=function(){return Vn};Yt.unstable_getFirstCallbackNode=function(){return ya(us)};Yt.unstable_next=function(e){switch(Vn){case 1:case 2:case 3:var t=3;break;default:t=Vn}var r=Vn;Vn=t;try{return e()}finally{Vn=r}};Yt.unstable_pauseExecution=function(){};Yt.unstable_requestPaint=function(){};Yt.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=Vn;Vn=e;try{return t()}finally{Vn=r}};Yt.unstable_scheduleCallback=function(e,t,r){var n=Yt.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,e={id:NY++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,OS(ou,e),ya(us)===null&&e===ya(ou)&&(hm?(TF(pm),pm=-1):hm=!0,zS(NS,r-n))):(e.sortIndex=i,OS(us,e),jc||v1||(jc=!0,LS(PS))),e};Yt.unstable_shouldYield=FF;Yt.unstable_wrapCallback=function(e){var t=Vn;return function(){var r=Vn;Vn=t;try{return e.apply(this,arguments)}finally{Vn=r}}}});var _F=rl((I2e,MF)=>{"use strict";w();MF.exports=RF()});var z_=rl(po=>{"use strict";w();var VR=$(),fo=_F();function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HR=new Set,Nm={};function td(e,t){Vf(e,t),Vf(e+"Capture",t)}function Vf(e,t){for(Nm[e]=t,e=0;e<t.length;e++)HR.add(t[e])}var ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lC=Object.prototype.hasOwnProperty,PY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OF={},BF={};function LY(e){return lC.call(BF,e)?!0:lC.call(OF,e)?!1:PY.test(e)?BF[e]=!0:(OF[e]=!0,!1)}function zY(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VY(e,t,r,n){if(t===null||typeof t>"u"||zY(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hi(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){An[e]=new hi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];An[t]=new hi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){An[e]=new hi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){An[e]=new hi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){An[e]=new hi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){An[e]=new hi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){An[e]=new hi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){An[e]=new hi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){An[e]=new hi(e,5,!1,e.toLowerCase(),null,!1,!1)});var ek=/[\-:]([a-z])/g;function tk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ek,tk);An[t]=new hi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ek,tk);An[t]=new hi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ek,tk);An[t]=new hi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){An[e]=new hi(e,1,!1,e.toLowerCase(),null,!1,!1)});An.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){An[e]=new hi(e,1,!1,e.toLowerCase(),null,!0,!0)});function rk(e,t,r,n){var i=An.hasOwnProperty(t)?An[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VY(t,r,i,n)&&(r=null),n||i===null?LY(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var hl=VR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w1=Symbol.for("react.element"),Ef=Symbol.for("react.portal"),Sf=Symbol.for("react.fragment"),nk=Symbol.for("react.strict_mode"),uC=Symbol.for("react.profiler"),jR=Symbol.for("react.provider"),$R=Symbol.for("react.context"),ik=Symbol.for("react.forward_ref"),cC=Symbol.for("react.suspense"),dC=Symbol.for("react.suspense_list"),ok=Symbol.for("react.memo"),su=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var UR=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var NF=Symbol.iterator;function mm(e){return e===null||typeof e!="object"?null:(e=NF&&e[NF]||e["@@iterator"],typeof e=="function"?e:null)}var yr=Object.assign,VS;function Sm(e){if(VS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);VS=t&&t[1]||""}return`
`+VS+e}var HS=!1;function jS(e,t){if(!e||HS)return"";HS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{HS=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Sm(e):""}function HY(e){switch(e.tag){case 5:return Sm(e.type);case 16:return Sm("Lazy");case 13:return Sm("Suspense");case 19:return Sm("SuspenseList");case 0:case 2:case 15:return e=jS(e.type,!1),e;case 11:return e=jS(e.type.render,!1),e;case 1:return e=jS(e.type,!0),e;default:return""}}function fC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sf:return"Fragment";case Ef:return"Portal";case uC:return"Profiler";case nk:return"StrictMode";case cC:return"Suspense";case dC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $R:return(e.displayName||"Context")+".Consumer";case jR:return(e._context.displayName||"Context")+".Provider";case ik:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ok:return t=e.displayName||null,t!==null?t:fC(e.type)||"Memo";case su:t=e._payload,e=e._init;try{return fC(e(t))}catch{}}return null}function jY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fC(t);case 8:return t===nk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function WR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $Y(e){var t=WR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function b1(e){e._valueTracker||(e._valueTracker=$Y(e))}function qR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=WR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Y1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hC(e,t){var r=t.checked;return yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function PF(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=xu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function KR(e,t){t=t.checked,t!=null&&rk(e,"checked",t,!1)}function pC(e,t){KR(e,t);var r=xu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mC(e,t.type,r):t.hasOwnProperty("defaultValue")&&mC(e,t.type,xu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function LF(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function mC(e,t,r){(t!=="number"||Y1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Cm=Array.isArray;function Of(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xu(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function gC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zF(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(Cm(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xu(r)}}function YR(e,t){var r=xu(t.value),n=xu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function VF(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function GR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?GR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var x1,JR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(x1=x1||document.createElement("div"),x1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=x1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Tm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UY=["Webkit","ms","Moz","O"];Object.keys(Tm).forEach(function(e){UY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tm[t]=Tm[e]})});function QR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Tm.hasOwnProperty(e)&&Tm[e]?(""+t).trim():t+"px"}function XR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=QR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var WY=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yC(e,t){if(t){if(WY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function wC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bC=null;function ak(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xC=null,Bf=null,Nf=null;function HF(e){if(e=t0(e)){if(typeof xC!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Ey(t),xC(e.stateNode,e.type,t))}}function ZR(e){Bf?Nf?Nf.push(e):Nf=[e]:Bf=e}function eM(){if(Bf){var e=Bf,t=Nf;if(Nf=Bf=null,HF(e),t)for(e=0;e<t.length;e++)HF(t[e])}}function tM(e,t){return e(t)}function rM(){}var $S=!1;function nM(e,t,r){if($S)return e(t,r);$S=!0;try{return tM(e,t,r)}finally{$S=!1,(Bf!==null||Nf!==null)&&(rM(),eM())}}function Lm(e,t){var r=e.stateNode;if(r===null)return null;var n=Ey(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var EC=!1;if(ul)try{bf={},Object.defineProperty(bf,"passive",{get:function(){EC=!0}}),window.addEventListener("test",bf,bf),window.removeEventListener("test",bf,bf)}catch{EC=!1}var bf;function qY(e,t,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Dm=!1,G1=null,J1=!1,SC=null,KY={onError:function(e){Dm=!0,G1=e}};function YY(e,t,r,n,i,o,a,s,l){Dm=!1,G1=null,qY.apply(KY,arguments)}function GY(e,t,r,n,i,o,a,s,l){if(YY.apply(this,arguments),Dm){if(Dm){var u=G1;Dm=!1,G1=null}else throw Error(ne(198));J1||(J1=!0,SC=u)}}function rd(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function iM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jF(e){if(rd(e)!==e)throw Error(ne(188))}function JY(e){var t=e.alternate;if(!t){if(t=rd(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return jF(i),e;if(o===n)return jF(i),t;o=o.sibling}throw Error(ne(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function oM(e){return e=JY(e),e!==null?aM(e):null}function aM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aM(e);if(t!==null)return t;e=e.sibling}return null}var sM=fo.unstable_scheduleCallback,$F=fo.unstable_cancelCallback,QY=fo.unstable_shouldYield,XY=fo.unstable_requestPaint,Pr=fo.unstable_now,ZY=fo.unstable_getCurrentPriorityLevel,sk=fo.unstable_ImmediatePriority,lM=fo.unstable_UserBlockingPriority,Q1=fo.unstable_NormalPriority,eG=fo.unstable_LowPriority,uM=fo.unstable_IdlePriority,yy=null,hs=null;function tG(e){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot(yy,e,void 0,(e.current.flags&128)===128)}catch{}}var Sa=Math.clz32?Math.clz32:iG,rG=Math.log,nG=Math.LN2;function iG(e){return e>>>=0,e===0?32:31-(rG(e)/nG|0)|0}var E1=64,S1=4194304;function km(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function X1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=km(s):(o&=a,o!==0&&(n=km(o)))}else a=r&~i,a!==0?n=km(a):o!==0&&(n=km(o));if(n===0)return 0;if(t!==0&&t!==n&&(t&i)===0&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Sa(t),i=1<<r,n|=e[r],t&=~i;return n}function oG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Sa(o),s=1<<a,l=i[a];l===-1?((s&r)===0||(s&n)!==0)&&(i[a]=oG(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function CC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cM(){var e=E1;return E1<<=1,(E1&4194240)===0&&(E1=64),e}function US(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sa(t),e[t]=r}function sG(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Sa(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function lk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Sa(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Mt=0;function dM(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var fM,uk,hM,pM,mM,kC=!1,C1=[],hu=null,pu=null,mu=null,zm=new Map,Vm=new Map,uu=[],lG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UF(e,t){switch(e){case"focusin":case"focusout":hu=null;break;case"dragenter":case"dragleave":pu=null;break;case"mouseover":case"mouseout":mu=null;break;case"pointerover":case"pointerout":zm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vm.delete(t.pointerId)}}function gm(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=t0(t),t!==null&&uk(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function uG(e,t,r,n,i){switch(t){case"focusin":return hu=gm(hu,e,t,r,n,i),!0;case"dragenter":return pu=gm(pu,e,t,r,n,i),!0;case"mouseover":return mu=gm(mu,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return zm.set(o,gm(zm.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Vm.set(o,gm(Vm.get(o)||null,e,t,r,n,i)),!0}return!1}function gM(e){var t=Wc(e.target);if(t!==null){var r=rd(t);if(r!==null){if(t=r.tag,t===13){if(t=iM(r),t!==null){e.blockedOn=t,mM(e.priority,function(){hM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function L1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=AC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);bC=n,r.target.dispatchEvent(n),bC=null}else return t=t0(r),t!==null&&uk(t),e.blockedOn=r,!1;t.shift()}return!0}function WF(e,t,r){L1(e)&&r.delete(t)}function cG(){kC=!1,hu!==null&&L1(hu)&&(hu=null),pu!==null&&L1(pu)&&(pu=null),mu!==null&&L1(mu)&&(mu=null),zm.forEach(WF),Vm.forEach(WF)}function vm(e,t){e.blockedOn===t&&(e.blockedOn=null,kC||(kC=!0,fo.unstable_scheduleCallback(fo.unstable_NormalPriority,cG)))}function Hm(e){function t(i){return vm(i,e)}if(0<C1.length){vm(C1[0],e);for(var r=1;r<C1.length;r++){var n=C1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(hu!==null&&vm(hu,e),pu!==null&&vm(pu,e),mu!==null&&vm(mu,e),zm.forEach(t),Vm.forEach(t),r=0;r<uu.length;r++)n=uu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<uu.length&&(r=uu[0],r.blockedOn===null);)gM(r),r.blockedOn===null&&uu.shift()}var Pf=hl.ReactCurrentBatchConfig,Z1=!0;function dG(e,t,r,n){var i=Mt,o=Pf.transition;Pf.transition=null;try{Mt=1,ck(e,t,r,n)}finally{Mt=i,Pf.transition=o}}function fG(e,t,r,n){var i=Mt,o=Pf.transition;Pf.transition=null;try{Mt=4,ck(e,t,r,n)}finally{Mt=i,Pf.transition=o}}function ck(e,t,r,n){if(Z1){var i=AC(e,t,r,n);if(i===null)QS(e,t,n,ey,r),UF(e,n);else if(uG(i,e,t,r,n))n.stopPropagation();else if(UF(e,n),t&4&&-1<lG.indexOf(e)){for(;i!==null;){var o=t0(i);if(o!==null&&fM(o),o=AC(e,t,r,n),o===null&&QS(e,t,n,ey,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else QS(e,t,n,null,r)}}var ey=null;function AC(e,t,r,n){if(ey=null,e=ak(n),e=Wc(e),e!==null)if(t=rd(e),t===null)e=null;else if(r=t.tag,r===13){if(e=iM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ey=e,null}function vM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZY()){case sk:return 1;case lM:return 4;case Q1:case eG:return 16;case uM:return 536870912;default:return 16}default:return 16}}var du=null,dk=null,z1=null;function yM(){if(z1)return z1;var e,t=dk,r=t.length,n,i="value"in du?du.value:du.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return z1=i.slice(e,1<n?1-n:void 0)}function V1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function k1(){return!0}function qF(){return!1}function ho(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?k1:qF,this.isPropagationStopped=qF,this}return yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=k1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=k1)},persist:function(){},isPersistent:k1}),t}var Kf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fk=ho(Kf),e0=yr({},Kf,{view:0,detail:0}),hG=ho(e0),WS,qS,ym,wy=yr({},e0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ym&&(ym&&e.type==="mousemove"?(WS=e.screenX-ym.screenX,qS=e.screenY-ym.screenY):qS=WS=0,ym=e),WS)},movementY:function(e){return"movementY"in e?e.movementY:qS}}),KF=ho(wy),pG=yr({},wy,{dataTransfer:0}),mG=ho(pG),gG=yr({},e0,{relatedTarget:0}),KS=ho(gG),vG=yr({},Kf,{animationName:0,elapsedTime:0,pseudoElement:0}),yG=ho(vG),wG=yr({},Kf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bG=ho(wG),xG=yr({},Kf,{data:0}),YF=ho(xG),EG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CG[e])?!!t[e]:!1}function hk(){return kG}var AG=yr({},e0,{key:function(e){if(e.key){var t=EG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=V1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SG[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hk,charCode:function(e){return e.type==="keypress"?V1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?V1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TG=ho(AG),DG=yr({},wy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GF=ho(DG),IG=yr({},e0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hk}),FG=ho(IG),RG=yr({},Kf,{propertyName:0,elapsedTime:0,pseudoElement:0}),MG=ho(RG),_G=yr({},wy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OG=ho(_G),BG=[9,13,27,32],pk=ul&&"CompositionEvent"in window,Im=null;ul&&"documentMode"in document&&(Im=document.documentMode);var NG=ul&&"TextEvent"in window&&!Im,wM=ul&&(!pk||Im&&8<Im&&11>=Im),JF=" ",QF=!1;function bM(e,t){switch(e){case"keyup":return BG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cf=!1;function PG(e,t){switch(e){case"compositionend":return xM(t);case"keypress":return t.which!==32?null:(QF=!0,JF);case"textInput":return e=t.data,e===JF&&QF?null:e;default:return null}}function LG(e,t){if(Cf)return e==="compositionend"||!pk&&bM(e,t)?(e=yM(),z1=dk=du=null,Cf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wM&&t.locale!=="ko"?null:t.data;default:return null}}var zG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zG[e.type]:t==="textarea"}function EM(e,t,r,n){ZR(n),t=ty(t,"onChange"),0<t.length&&(r=new fk("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fm=null,jm=null;function VG(e){_M(e,0)}function by(e){var t=Tf(e);if(qR(t))return e}function HG(e,t){if(e==="change")return t}var SM=!1;ul&&(ul?(T1="oninput"in document,T1||(YS=document.createElement("div"),YS.setAttribute("oninput","return;"),T1=typeof YS.oninput=="function"),A1=T1):A1=!1,SM=A1&&(!document.documentMode||9<document.documentMode));var A1,T1,YS;function ZF(){Fm&&(Fm.detachEvent("onpropertychange",CM),jm=Fm=null)}function CM(e){if(e.propertyName==="value"&&by(jm)){var t=[];EM(t,jm,e,ak(e)),nM(VG,t)}}function jG(e,t,r){e==="focusin"?(ZF(),Fm=t,jm=r,Fm.attachEvent("onpropertychange",CM)):e==="focusout"&&ZF()}function $G(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return by(jm)}function UG(e,t){if(e==="click")return by(t)}function WG(e,t){if(e==="input"||e==="change")return by(t)}function qG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ka=typeof Object.is=="function"?Object.is:qG;function $m(e,t){if(ka(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!lC.call(t,i)||!ka(e[i],t[i]))return!1}return!0}function eR(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tR(e,t){var r=eR(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=eR(r)}}function kM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AM(){for(var e=window,t=Y1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Y1(e.document)}return t}function mk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function KG(e){var t=AM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kM(r.ownerDocument.documentElement,r)){if(n!==null&&mk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=tR(r,o);var a=tR(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var YG=ul&&"documentMode"in document&&11>=document.documentMode,kf=null,TC=null,Rm=null,DC=!1;function rR(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;DC||kf==null||kf!==Y1(n)||(n=kf,"selectionStart"in n&&mk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rm&&$m(Rm,n)||(Rm=n,n=ty(TC,"onSelect"),0<n.length&&(t=new fk("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=kf)))}function D1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Af={animationend:D1("Animation","AnimationEnd"),animationiteration:D1("Animation","AnimationIteration"),animationstart:D1("Animation","AnimationStart"),transitionend:D1("Transition","TransitionEnd")},GS={},TM={};ul&&(TM=document.createElement("div").style,"AnimationEvent"in window||(delete Af.animationend.animation,delete Af.animationiteration.animation,delete Af.animationstart.animation),"TransitionEvent"in window||delete Af.transitionend.transition);function xy(e){if(GS[e])return GS[e];if(!Af[e])return e;var t=Af[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in TM)return GS[e]=t[r];return e}var DM=xy("animationend"),IM=xy("animationiteration"),FM=xy("animationstart"),RM=xy("transitionend"),MM=new Map,nR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Su(e,t){MM.set(e,t),td(t,[e])}for(I1=0;I1<nR.length;I1++)F1=nR[I1],iR=F1.toLowerCase(),oR=F1[0].toUpperCase()+F1.slice(1),Su(iR,"on"+oR);var F1,iR,oR,I1;Su(DM,"onAnimationEnd");Su(IM,"onAnimationIteration");Su(FM,"onAnimationStart");Su("dblclick","onDoubleClick");Su("focusin","onFocus");Su("focusout","onBlur");Su(RM,"onTransitionEnd");Vf("onMouseEnter",["mouseout","mouseover"]);Vf("onMouseLeave",["mouseout","mouseover"]);Vf("onPointerEnter",["pointerout","pointerover"]);Vf("onPointerLeave",["pointerout","pointerover"]);td("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));td("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));td("onBeforeInput",["compositionend","keypress","textInput","paste"]);td("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));td("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));td("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Am="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Am));function aR(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,GY(n,t,void 0,e),e.currentTarget=null}function _M(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;aR(i,s,u),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;aR(i,s,u),o=l}}}if(J1)throw e=SC,J1=!1,SC=null,e}function rr(e,t){var r=t[_C];r===void 0&&(r=t[_C]=new Set);var n=e+"__bubble";r.has(n)||(OM(t,e,2,!1),r.add(n))}function JS(e,t,r){var n=0;t&&(n|=4),OM(r,e,n,t)}var R1="_reactListening"+Math.random().toString(36).slice(2);function Um(e){if(!e[R1]){e[R1]=!0,HR.forEach(function(r){r!=="selectionchange"&&(GG.has(r)||JS(r,!1,e),JS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[R1]||(t[R1]=!0,JS("selectionchange",!1,t))}}function OM(e,t,r,n){switch(vM(t)){case 1:var i=dG;break;case 4:i=fG;break;default:i=ck}r=i.bind(null,t,r,e),i=void 0,!EC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function QS(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Wc(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}nM(function(){var u=o,c=ak(r),d=[];e:{var f=MM.get(e);if(f!==void 0){var h=fk,p=e;switch(e){case"keypress":if(V1(r)===0)break e;case"keydown":case"keyup":h=TG;break;case"focusin":p="focus",h=KS;break;case"focusout":p="blur",h=KS;break;case"beforeblur":case"afterblur":h=KS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=KF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=mG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=FG;break;case DM:case IM:case FM:h=yG;break;case RM:h=MG;break;case"scroll":h=hG;break;case"wheel":h=OG;break;case"copy":case"cut":case"paste":h=bG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=GF}var m=(t&4)!==0,v=!m&&e==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,b;y!==null;){b=y;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,g!==null&&(x=Lm(y,g),x!=null&&m.push(Wm(y,x,b)))),v)break;y=y.return}0<m.length&&(f=new h(f,p,null,r,c),d.push({event:f,listeners:m}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&r!==bC&&(p=r.relatedTarget||r.fromElement)&&(Wc(p)||p[cl]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?Wc(p):null,p!==null&&(v=rd(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(m=KF,x="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=GF,x="onPointerLeave",g="onPointerEnter",y="pointer"),v=h==null?f:Tf(h),b=p==null?f:Tf(p),f=new m(x,y+"leave",h,r,c),f.target=v,f.relatedTarget=b,x=null,Wc(c)===u&&(m=new m(g,y+"enter",p,r,c),m.target=b,m.relatedTarget=v,x=m),v=x,h&&p)t:{for(m=h,g=p,y=0,b=m;b;b=xf(b))y++;for(b=0,x=g;x;x=xf(x))b++;for(;0<y-b;)m=xf(m),y--;for(;0<b-y;)g=xf(g),b--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=xf(m),g=xf(g)}m=null}else m=null;h!==null&&sR(d,f,h,m,!1),p!==null&&v!==null&&sR(d,v,p,m,!0)}}e:{if(f=u?Tf(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=HG;else if(XF(f))if(SM)S=WG;else{S=$G;var E=jG}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=UG);if(S&&(S=S(e,u))){EM(d,S,r,c);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&mC(f,"number",f.value)}switch(E=u?Tf(u):window,e){case"focusin":(XF(E)||E.contentEditable==="true")&&(kf=E,TC=u,Rm=null);break;case"focusout":Rm=TC=kf=null;break;case"mousedown":DC=!0;break;case"contextmenu":case"mouseup":case"dragend":DC=!1,rR(d,r,c);break;case"selectionchange":if(YG)break;case"keydown":case"keyup":rR(d,r,c)}var I;if(pk)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Cf?bM(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(wM&&r.locale!=="ko"&&(Cf||k!=="onCompositionStart"?k==="onCompositionEnd"&&Cf&&(I=yM()):(du=c,dk="value"in du?du.value:du.textContent,Cf=!0)),E=ty(u,k),0<E.length&&(k=new YF(k,e,null,r,c),d.push({event:k,listeners:E}),I?k.data=I:(I=xM(r),I!==null&&(k.data=I)))),(I=NG?PG(e,r):LG(e,r))&&(u=ty(u,"onBeforeInput"),0<u.length&&(c=new YF("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=I))}_M(d,t)})}function Wm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ty(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Lm(e,r),o!=null&&n.unshift(Wm(e,o,i)),o=Lm(e,t),o!=null&&n.push(Wm(e,o,i))),e=e.return}return n}function xf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sR(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Lm(r,o),l!=null&&a.unshift(Wm(r,l,s))):i||(l=Lm(r,o),l!=null&&a.push(Wm(r,l,s)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var JG=/\r\n?/g,QG=/\u0000|\uFFFD/g;function lR(e){return(typeof e=="string"?e:""+e).replace(JG,`
`).replace(QG,"")}function M1(e,t,r){if(t=lR(t),lR(e)!==t&&r)throw Error(ne(425))}function ry(){}var IC=null,FC=null;function RC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var MC=typeof setTimeout=="function"?setTimeout:void 0,XG=typeof clearTimeout=="function"?clearTimeout:void 0,uR=typeof Promise=="function"?Promise:void 0,ZG=typeof queueMicrotask=="function"?queueMicrotask:typeof uR<"u"?function(e){return uR.resolve(null).then(e).catch(eJ)}:MC;function eJ(e){setTimeout(function(){throw e})}function XS(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Hm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Hm(t)}function gu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cR(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yf=Math.random().toString(36).slice(2),fs="__reactFiber$"+Yf,qm="__reactProps$"+Yf,cl="__reactContainer$"+Yf,_C="__reactEvents$"+Yf,tJ="__reactListeners$"+Yf,rJ="__reactHandles$"+Yf;function Wc(e){var t=e[fs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[cl]||r[fs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=cR(e);e!==null;){if(r=e[fs])return r;e=cR(e)}return t}e=r,r=e.parentNode}return null}function t0(e){return e=e[fs]||e[cl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Ey(e){return e[qm]||null}var OC=[],Df=-1;function Cu(e){return{current:e}}function nr(e){0>Df||(e.current=OC[Df],OC[Df]=null,Df--)}function Gt(e,t){Df++,OC[Df]=e.current,e.current=t}var Eu={},Un=Cu(Eu),Li=Cu(!1),Jc=Eu;function Hf(e,t){var r=e.type.contextTypes;if(!r)return Eu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function zi(e){return e=e.childContextTypes,e!=null}function ny(){nr(Li),nr(Un)}function dR(e,t,r){if(Un.current!==Eu)throw Error(ne(168));Gt(Un,t),Gt(Li,r)}function BM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ne(108,jY(e)||"Unknown",i));return yr({},r,n)}function iy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eu,Jc=Un.current,Gt(Un,e),Gt(Li,Li.current),!0}function fR(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=BM(e,t,Jc),n.__reactInternalMemoizedMergedChildContext=e,nr(Li),nr(Un),Gt(Un,e)):nr(Li),Gt(Li,r)}var ol=null,Sy=!1,ZS=!1;function NM(e){ol===null?ol=[e]:ol.push(e)}function nJ(e){Sy=!0,NM(e)}function ku(){if(!ZS&&ol!==null){ZS=!0;var e=0,t=Mt;try{var r=ol;for(Mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ol=null,Sy=!1}catch(i){throw ol!==null&&(ol=ol.slice(e+1)),sM(sk,ku),i}finally{Mt=t,ZS=!1}}return null}var If=[],Ff=0,oy=null,ay=0,zo=[],Vo=0,Qc=null,al=1,sl="";function $c(e,t){If[Ff++]=ay,If[Ff++]=oy,oy=e,ay=t}function PM(e,t,r){zo[Vo++]=al,zo[Vo++]=sl,zo[Vo++]=Qc,Qc=e;var n=al;e=sl;var i=32-Sa(n)-1;n&=~(1<<i),r+=1;var o=32-Sa(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,al=1<<32-Sa(t)+i|r<<i|n,sl=o+e}else al=1<<o|r<<i|n,sl=e}function gk(e){e.return!==null&&($c(e,1),PM(e,1,0))}function vk(e){for(;e===oy;)oy=If[--Ff],If[Ff]=null,ay=If[--Ff],If[Ff]=null;for(;e===Qc;)Qc=zo[--Vo],zo[Vo]=null,sl=zo[--Vo],zo[Vo]=null,al=zo[--Vo],zo[Vo]=null}var co=null,uo=null,ur=!1,Ea=null;function LM(e,t){var r=Ho(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hR(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,co=e,uo=gu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,co=e,uo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qc!==null?{id:al,overflow:sl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ho(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,co=e,uo=null,!0):!1;default:return!1}}function BC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function NC(e){if(ur){var t=uo;if(t){var r=t;if(!hR(e,t)){if(BC(e))throw Error(ne(418));t=gu(r.nextSibling);var n=co;t&&hR(e,t)?LM(n,r):(e.flags=e.flags&-4097|2,ur=!1,co=e)}}else{if(BC(e))throw Error(ne(418));e.flags=e.flags&-4097|2,ur=!1,co=e}}}function pR(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;co=e}function _1(e){if(e!==co)return!1;if(!ur)return pR(e),ur=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!RC(e.type,e.memoizedProps)),t&&(t=uo)){if(BC(e))throw zM(),Error(ne(418));for(;t;)LM(e,t),t=gu(t.nextSibling)}if(pR(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){uo=gu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}uo=null}}else uo=co?gu(e.stateNode.nextSibling):null;return!0}function zM(){for(var e=uo;e;)e=gu(e.nextSibling)}function jf(){uo=co=null,ur=!1}function yk(e){Ea===null?Ea=[e]:Ea.push(e)}var iJ=hl.ReactCurrentBatchConfig;function ba(e,t){if(e&&e.defaultProps){t=yr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var sy=Cu(null),ly=null,Rf=null,wk=null;function bk(){wk=Rf=ly=null}function xk(e){var t=sy.current;nr(sy),e._currentValue=t}function PC(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Lf(e,t){ly=e,wk=Rf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Pi=!0),e.firstContext=null)}function $o(e){var t=e._currentValue;if(wk!==e)if(e={context:e,memoizedValue:t,next:null},Rf===null){if(ly===null)throw Error(ne(308));Rf=e,ly.dependencies={lanes:0,firstContext:e}}else Rf=Rf.next=e;return t}var qc=null;function Ek(e){qc===null?qc=[e]:qc.push(e)}function VM(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Ek(t)):(r.next=i.next,i.next=r),t.interleaved=r,dl(e,n)}function dl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var lu=!1;function Sk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ll(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(mt&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,dl(e,r)}return i=n.interleaved,i===null?(t.next=t,Ek(n)):(t.next=i.next,i.next=t),n.interleaved=t,dl(e,r)}function H1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,lk(e,r)}}function mR(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function uy(e,t,r,n){var i=e.updateQueue;lu=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var f=s.lane,h=s.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=yr({},d,f);break e;case 2:lu=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Zc|=a,e.lanes=a,e.memoizedState=d}}function gR(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ne(191,i));i.call(n)}}}var jM=new VR.Component().refs;function LC(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:yr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cy={isMounted:function(e){return(e=e._reactInternals)?rd(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fi(),i=wu(e),o=ll(n,i);o.payload=t,r!=null&&(o.callback=r),t=vu(e,o,i),t!==null&&(Ca(t,e,i,n),H1(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fi(),i=wu(e),o=ll(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=vu(e,o,i),t!==null&&(Ca(t,e,i,n),H1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fi(),n=wu(e),i=ll(r,n);i.tag=2,t!=null&&(i.callback=t),t=vu(e,i,n),t!==null&&(Ca(t,e,n,r),H1(t,e,n))}};function vR(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!$m(r,n)||!$m(i,o):!0}function $M(e,t,r){var n=!1,i=Eu,o=t.contextType;return typeof o=="object"&&o!==null?o=$o(o):(i=zi(t)?Jc:Un.current,n=t.contextTypes,o=(n=n!=null)?Hf(e,i):Eu),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yR(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cy.enqueueReplaceState(t,t.state,null)}function zC(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=jM,Sk(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=$o(o):(o=zi(t)?Jc:Un.current,i.context=Hf(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(LC(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Cy.enqueueReplaceState(i,i.state,null),uy(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function wm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===jM&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function O1(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wR(e){var t=e._init;return t(e._payload)}function UM(e){function t(g,y){if(e){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=bu(g,y),g.index=0,g.sibling=null,g}function o(g,y,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=2,y):b):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,y,b,x){return y===null||y.tag!==6?(y=aC(b,g.mode,x),y.return=g,y):(y=i(y,b),y.return=g,y)}function l(g,y,b,x){var S=b.type;return S===Sf?c(g,y,b.props.children,x,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===su&&wR(S)===y.type)?(x=i(y,b.props),x.ref=wm(g,y,b),x.return=g,x):(x=K1(b.type,b.key,b.props,null,g.mode,x),x.ref=wm(g,y,b),x.return=g,x)}function u(g,y,b,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=sC(b,g.mode,x),y.return=g,y):(y=i(y,b.children||[]),y.return=g,y)}function c(g,y,b,x,S){return y===null||y.tag!==7?(y=Gc(b,g.mode,x,S),y.return=g,y):(y=i(y,b),y.return=g,y)}function d(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=aC(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case w1:return b=K1(y.type,y.key,y.props,null,g.mode,b),b.ref=wm(g,null,y),b.return=g,b;case Ef:return y=sC(y,g.mode,b),y.return=g,y;case su:var x=y._init;return d(g,x(y._payload),b)}if(Cm(y)||mm(y))return y=Gc(y,g.mode,b,null),y.return=g,y;O1(g,y)}return null}function f(g,y,b,x){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:s(g,y,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case w1:return b.key===S?l(g,y,b,x):null;case Ef:return b.key===S?u(g,y,b,x):null;case su:return S=b._init,f(g,y,S(b._payload),x)}if(Cm(b)||mm(b))return S!==null?null:c(g,y,b,x,null);O1(g,b)}return null}function h(g,y,b,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(b)||null,s(y,g,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case w1:return g=g.get(x.key===null?b:x.key)||null,l(y,g,x,S);case Ef:return g=g.get(x.key===null?b:x.key)||null,u(y,g,x,S);case su:var E=x._init;return h(g,y,b,E(x._payload),S)}if(Cm(x)||mm(x))return g=g.get(b)||null,c(y,g,x,S,null);O1(y,x)}return null}function p(g,y,b,x){for(var S=null,E=null,I=y,k=y=0,D=null;I!==null&&k<b.length;k++){I.index>k?(D=I,I=null):D=I.sibling;var F=f(g,I,b[k],x);if(F===null){I===null&&(I=D);break}e&&I&&F.alternate===null&&t(g,I),y=o(F,y,k),E===null?S=F:E.sibling=F,E=F,I=D}if(k===b.length)return r(g,I),ur&&$c(g,k),S;if(I===null){for(;k<b.length;k++)I=d(g,b[k],x),I!==null&&(y=o(I,y,k),E===null?S=I:E.sibling=I,E=I);return ur&&$c(g,k),S}for(I=n(g,I);k<b.length;k++)D=h(I,g,k,b[k],x),D!==null&&(e&&D.alternate!==null&&I.delete(D.key===null?k:D.key),y=o(D,y,k),E===null?S=D:E.sibling=D,E=D);return e&&I.forEach(function(T){return t(g,T)}),ur&&$c(g,k),S}function m(g,y,b,x){var S=mm(b);if(typeof S!="function")throw Error(ne(150));if(b=S.call(b),b==null)throw Error(ne(151));for(var E=S=null,I=y,k=y=0,D=null,F=b.next();I!==null&&!F.done;k++,F=b.next()){I.index>k?(D=I,I=null):D=I.sibling;var T=f(g,I,F.value,x);if(T===null){I===null&&(I=D);break}e&&I&&T.alternate===null&&t(g,I),y=o(T,y,k),E===null?S=T:E.sibling=T,E=T,I=D}if(F.done)return r(g,I),ur&&$c(g,k),S;if(I===null){for(;!F.done;k++,F=b.next())F=d(g,F.value,x),F!==null&&(y=o(F,y,k),E===null?S=F:E.sibling=F,E=F);return ur&&$c(g,k),S}for(I=n(g,I);!F.done;k++,F=b.next())F=h(I,g,k,F.value,x),F!==null&&(e&&F.alternate!==null&&I.delete(F.key===null?k:F.key),y=o(F,y,k),E===null?S=F:E.sibling=F,E=F);return e&&I.forEach(function(R){return t(g,R)}),ur&&$c(g,k),S}function v(g,y,b,x){if(typeof b=="object"&&b!==null&&b.type===Sf&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case w1:e:{for(var S=b.key,E=y;E!==null;){if(E.key===S){if(S=b.type,S===Sf){if(E.tag===7){r(g,E.sibling),y=i(E,b.props.children),y.return=g,g=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===su&&wR(S)===E.type){r(g,E.sibling),y=i(E,b.props),y.ref=wm(g,E,b),y.return=g,g=y;break e}r(g,E);break}else t(g,E);E=E.sibling}b.type===Sf?(y=Gc(b.props.children,g.mode,x,b.key),y.return=g,g=y):(x=K1(b.type,b.key,b.props,null,g.mode,x),x.ref=wm(g,y,b),x.return=g,g=x)}return a(g);case Ef:e:{for(E=b.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(g,y.sibling),y=i(y,b.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=sC(b,g.mode,x),y.return=g,g=y}return a(g);case su:return E=b._init,v(g,y,E(b._payload),x)}if(Cm(b))return p(g,y,b,x);if(mm(b))return m(g,y,b,x);O1(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(g,y.sibling),y=i(y,b),y.return=g,g=y):(r(g,y),y=aC(b,g.mode,x),y.return=g,g=y),a(g)):r(g,y)}return v}var $f=UM(!0),WM=UM(!1),r0={},ps=Cu(r0),Km=Cu(r0),Ym=Cu(r0);function Kc(e){if(e===r0)throw Error(ne(174));return e}function Ck(e,t){switch(Gt(Ym,t),Gt(Km,e),Gt(ps,r0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vC(t,e)}nr(ps),Gt(ps,t)}function Uf(){nr(ps),nr(Km),nr(Ym)}function qM(e){Kc(Ym.current);var t=Kc(ps.current),r=vC(t,e.type);t!==r&&(Gt(Km,e),Gt(ps,r))}function kk(e){Km.current===e&&(nr(ps),nr(Km))}var gr=Cu(0);function cy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eC=[];function Ak(){for(var e=0;e<eC.length;e++)eC[e]._workInProgressVersionPrimary=null;eC.length=0}var j1=hl.ReactCurrentDispatcher,tC=hl.ReactCurrentBatchConfig,Xc=0,vr=null,Jr=null,un=null,dy=!1,Mm=!1,Gm=0,oJ=0;function Hn(){throw Error(ne(321))}function Tk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ka(e[r],t[r]))return!1;return!0}function Dk(e,t,r,n,i,o){if(Xc=o,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j1.current=e===null||e.memoizedState===null?uJ:cJ,e=r(n,i),Mm){o=0;do{if(Mm=!1,Gm=0,25<=o)throw Error(ne(301));o+=1,un=Jr=null,t.updateQueue=null,j1.current=dJ,e=r(n,i)}while(Mm)}if(j1.current=fy,t=Jr!==null&&Jr.next!==null,Xc=0,un=Jr=vr=null,dy=!1,t)throw Error(ne(300));return e}function Ik(){var e=Gm!==0;return Gm=0,e}function ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?vr.memoizedState=un=e:un=un.next=e,un}function Uo(){if(Jr===null){var e=vr.alternate;e=e!==null?e.memoizedState:null}else e=Jr.next;var t=un===null?vr.memoizedState:un.next;if(t!==null)un=t,Jr=e;else{if(e===null)throw Error(ne(310));Jr=e,e={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},un===null?vr.memoizedState=un=e:un=un.next=e}return un}function Jm(e,t){return typeof t=="function"?t(e):t}function rC(e){var t=Uo(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=Jr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Xc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=n):l=l.next=d,vr.lanes|=c,Zc|=c}u=u.next}while(u!==null&&u!==o);l===null?a=n:l.next=s,ka(n,t.memoizedState)||(Pi=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,vr.lanes|=o,Zc|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nC(e){var t=Uo(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);ka(o,t.memoizedState)||(Pi=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function KM(){}function YM(e,t){var r=vr,n=Uo(),i=t(),o=!ka(n.memoizedState,i);if(o&&(n.memoizedState=i,Pi=!0),n=n.queue,Fk(QM.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||un!==null&&un.memoizedState.tag&1){if(r.flags|=2048,Qm(9,JM.bind(null,r,n,i,t),void 0,null),cn===null)throw Error(ne(349));(Xc&30)!==0||GM(r,t,i)}return i}function GM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function JM(e,t,r,n){t.value=r,t.getSnapshot=n,XM(t)&&ZM(e)}function QM(e,t,r){return r(function(){XM(t)&&ZM(e)})}function XM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ka(e,r)}catch{return!0}}function ZM(e){var t=dl(e,1);t!==null&&Ca(t,e,1,-1)}function bR(e){var t=ds();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jm,lastRenderedState:e},t.queue=e,e=e.dispatch=lJ.bind(null,vr,e),[t.memoizedState,e]}function Qm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function e_(){return Uo().memoizedState}function $1(e,t,r,n){var i=ds();vr.flags|=e,i.memoizedState=Qm(1|t,r,void 0,n===void 0?null:n)}function ky(e,t,r,n){var i=Uo();n=n===void 0?null:n;var o=void 0;if(Jr!==null){var a=Jr.memoizedState;if(o=a.destroy,n!==null&&Tk(n,a.deps)){i.memoizedState=Qm(t,r,o,n);return}}vr.flags|=e,i.memoizedState=Qm(1|t,r,o,n)}function xR(e,t){return $1(8390656,8,e,t)}function Fk(e,t){return ky(2048,8,e,t)}function t_(e,t){return ky(4,2,e,t)}function r_(e,t){return ky(4,4,e,t)}function n_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function i_(e,t,r){return r=r!=null?r.concat([e]):null,ky(4,4,n_.bind(null,t,e),r)}function Rk(){}function o_(e,t){var r=Uo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function a_(e,t){var r=Uo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function s_(e,t,r){return(Xc&21)===0?(e.baseState&&(e.baseState=!1,Pi=!0),e.memoizedState=r):(ka(r,t)||(r=cM(),vr.lanes|=r,Zc|=r,e.baseState=!0),t)}function aJ(e,t){var r=Mt;Mt=r!==0&&4>r?r:4,e(!0);var n=tC.transition;tC.transition={};try{e(!1),t()}finally{Mt=r,tC.transition=n}}function l_(){return Uo().memoizedState}function sJ(e,t,r){var n=wu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},u_(e))c_(t,r);else if(r=VM(e,t,r,n),r!==null){var i=fi();Ca(r,e,n,i),d_(r,t,n)}}function lJ(e,t,r){var n=wu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(u_(e))c_(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,ka(s,a)){var l=t.interleaved;l===null?(i.next=i,Ek(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=VM(e,t,i,n),r!==null&&(i=fi(),Ca(r,e,n,i),d_(r,t,n))}}function u_(e){var t=e.alternate;return e===vr||t!==null&&t===vr}function c_(e,t){Mm=dy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function d_(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,lk(e,r)}}var fy={readContext:$o,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},uJ={readContext:$o,useCallback:function(e,t){return ds().memoizedState=[e,t===void 0?null:t],e},useContext:$o,useEffect:xR,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$1(4194308,4,n_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $1(4194308,4,e,t)},useInsertionEffect:function(e,t){return $1(4,2,e,t)},useMemo:function(e,t){var r=ds();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ds();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sJ.bind(null,vr,e),[n.memoizedState,e]},useRef:function(e){var t=ds();return e={current:e},t.memoizedState=e},useState:bR,useDebugValue:Rk,useDeferredValue:function(e){return ds().memoizedState=e},useTransition:function(){var e=bR(!1),t=e[0];return e=aJ.bind(null,e[1]),ds().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=vr,i=ds();if(ur){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),cn===null)throw Error(ne(349));(Xc&30)!==0||GM(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,xR(QM.bind(null,n,o,e),[e]),n.flags|=2048,Qm(9,JM.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=ds(),t=cn.identifierPrefix;if(ur){var r=sl,n=al;r=(n&~(1<<32-Sa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=oJ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cJ={readContext:$o,useCallback:o_,useContext:$o,useEffect:Fk,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:r_,useMemo:a_,useReducer:rC,useRef:e_,useState:function(){return rC(Jm)},useDebugValue:Rk,useDeferredValue:function(e){var t=Uo();return s_(t,Jr.memoizedState,e)},useTransition:function(){var e=rC(Jm)[0],t=Uo().memoizedState;return[e,t]},useMutableSource:KM,useSyncExternalStore:YM,useId:l_,unstable_isNewReconciler:!1},dJ={readContext:$o,useCallback:o_,useContext:$o,useEffect:Fk,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:r_,useMemo:a_,useReducer:nC,useRef:e_,useState:function(){return nC(Jm)},useDebugValue:Rk,useDeferredValue:function(e){var t=Uo();return Jr===null?t.memoizedState=e:s_(t,Jr.memoizedState,e)},useTransition:function(){var e=nC(Jm)[0],t=Uo().memoizedState;return[e,t]},useMutableSource:KM,useSyncExternalStore:YM,useId:l_,unstable_isNewReconciler:!1};function Wf(e,t){try{var r="",n=t;do r+=HY(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function iC(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function VC(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fJ=typeof WeakMap=="function"?WeakMap:Map;function f_(e,t,r){r=ll(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){py||(py=!0,JC=n),VC(e,t)},r}function h_(e,t,r){r=ll(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){VC(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){VC(e,t),typeof n!="function"&&(yu===null?yu=new Set([this]):yu.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function ER(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fJ;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=AJ.bind(null,e,t,r),t.then(e,e))}function SR(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function CR(e,t,r,n,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ll(-1,1),t.tag=2,vu(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var hJ=hl.ReactCurrentOwner,Pi=!1;function di(e,t,r,n){t.child=e===null?WM(t,null,r,n):$f(t,e.child,r,n)}function kR(e,t,r,n,i){r=r.render;var o=t.ref;return Lf(t,i),n=Dk(e,t,r,n,o,i),r=Ik(),e!==null&&!Pi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fl(e,t,i)):(ur&&r&&gk(t),t.flags|=1,di(e,t,n,i),t.child)}function AR(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!zk(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,p_(e,t,o,n,i)):(e=K1(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&i)===0){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:$m,r(a,n)&&e.ref===t.ref)return fl(e,t,i)}return t.flags|=1,e=bu(o,n),e.ref=t.ref,e.return=t,t.child=e}function p_(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if($m(o,n)&&e.ref===t.ref)if(Pi=!1,t.pendingProps=n=o,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Pi=!0);else return t.lanes=e.lanes,fl(e,t,i)}return HC(e,t,r,n,i)}function m_(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(_f,lo),lo|=r;else{if((r&1073741824)===0)return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(_f,lo),lo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Gt(_f,lo),lo|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Gt(_f,lo),lo|=n;return di(e,t,i,r),t.child}function g_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function HC(e,t,r,n,i){var o=zi(r)?Jc:Un.current;return o=Hf(t,o),Lf(t,i),r=Dk(e,t,r,n,o,i),n=Ik(),e!==null&&!Pi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fl(e,t,i)):(ur&&n&&gk(t),t.flags|=1,di(e,t,r,i),t.child)}function TR(e,t,r,n,i){if(zi(r)){var o=!0;iy(t)}else o=!1;if(Lf(t,i),t.stateNode===null)U1(e,t),$M(t,r,n),zC(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=$o(u):(u=zi(r)?Jc:Un.current,u=Hf(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==u)&&yR(t,a,n,u),lu=!1;var f=t.memoizedState;a.state=f,uy(t,n,a,i),l=t.memoizedState,s!==n||f!==l||Li.current||lu?(typeof c=="function"&&(LC(t,r,c,n),l=t.memoizedState),(s=lu||vR(t,r,s,n,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,HM(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ba(t.type,s),a.props=u,d=t.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=$o(l):(l=zi(r)?Jc:Un.current,l=Hf(t,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==l)&&yR(t,a,n,l),lu=!1,f=t.memoizedState,a.state=f,uy(t,n,a,i);var p=t.memoizedState;s!==d||f!==p||Li.current||lu?(typeof h=="function"&&(LC(t,r,h,n),p=t.memoizedState),(u=lu||vR(t,r,u,n,f,p,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return jC(e,t,r,n,o,i)}function jC(e,t,r,n,i,o){g_(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&fR(t,r,!1),fl(e,t,o);n=t.stateNode,hJ.current=t;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=$f(t,e.child,null,o),t.child=$f(t,null,s,o)):di(e,t,s,o),t.memoizedState=n.state,i&&fR(t,r,!0),t.child}function v_(e){var t=e.stateNode;t.pendingContext?dR(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dR(e,t.context,!1),Ck(e,t.containerInfo)}function DR(e,t,r,n,i){return jf(),yk(i),t.flags|=256,di(e,t,r,n),t.child}var $C={dehydrated:null,treeContext:null,retryLane:0};function UC(e){return{baseLanes:e,cachePool:null,transitions:null}}function y_(e,t,r){var n=t.pendingProps,i=gr.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Gt(gr,i&1),e===null)return NC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},(n&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Dy(a,n,0,null),e=Gc(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=UC(r),t.memoizedState=$C,e):Mk(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return pJ(e,t,a,n,s,i,r);if(o){o=n.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return(a&1)===0&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=bu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=bu(s,o):(o=Gc(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?UC(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=$C,n}return o=e.child,e=o.sibling,n=bu(o,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Mk(e,t){return t=Dy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function B1(e,t,r,n){return n!==null&&yk(n),$f(t,e.child,null,r),e=Mk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pJ(e,t,r,n,i,o,a){if(r)return t.flags&256?(t.flags&=-257,n=iC(Error(ne(422))),B1(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Dy({mode:"visible",children:n.children},i,0,null),o=Gc(o,i,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,(t.mode&1)!==0&&$f(t,e.child,null,a),t.child.memoizedState=UC(a),t.memoizedState=$C,o);if((t.mode&1)===0)return B1(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ne(419)),n=iC(o,n,void 0),B1(e,t,a,n)}if(s=(a&e.childLanes)!==0,Pi||s){if(n=cn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(n.suspendedLanes|a))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,dl(e,i),Ca(n,e,i,-1))}return Lk(),n=iC(Error(ne(421))),B1(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=TJ.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,uo=gu(i.nextSibling),co=t,ur=!0,Ea=null,e!==null&&(zo[Vo++]=al,zo[Vo++]=sl,zo[Vo++]=Qc,al=e.id,sl=e.overflow,Qc=t),t=Mk(t,n.children),t.flags|=4096,t)}function IR(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),PC(e.return,t,r)}function oC(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function w_(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(di(e,t,n.children,r),n=gr.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&IR(e,r,t);else if(e.tag===19)IR(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Gt(gr,n),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&cy(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),oC(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&cy(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}oC(t,!0,r,null,o);break;case"together":oC(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function U1(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Zc|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=bu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=bu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mJ(e,t,r){switch(t.tag){case 3:v_(t),jf();break;case 5:qM(t);break;case 1:zi(t.type)&&iy(t);break;case 4:Ck(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Gt(sy,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Gt(gr,gr.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?y_(e,t,r):(Gt(gr,gr.current&1),e=fl(e,t,r),e!==null?e.sibling:null);Gt(gr,gr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return w_(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gt(gr,gr.current),n)break;return null;case 22:case 23:return t.lanes=0,m_(e,t,r)}return fl(e,t,r)}var b_,WC,x_,E_;b_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};WC=function(){};x_=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Kc(ps.current);var o=null;switch(r){case"input":i=hC(e,i),n=hC(e,n),o=[];break;case"select":i=yr({},i,{value:void 0}),n=yr({},n,{value:void 0}),o=[];break;case"textarea":i=gC(e,i),n=gC(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ry)}yC(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nm.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(s=i?.[u],n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rr("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};E_=function(e,t,r,n){r!==n&&(t.flags|=4)};function bm(e,t){if(!ur)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function jn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gJ(e,t,r){var n=t.pendingProps;switch(vk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(t),null;case 1:return zi(t.type)&&ny(),jn(t),null;case 3:return n=t.stateNode,Uf(),nr(Li),nr(Un),Ak(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ea!==null&&(ZC(Ea),Ea=null))),WC(e,t),jn(t),null;case 5:kk(t);var i=Kc(Ym.current);if(r=t.type,e!==null&&t.stateNode!=null)x_(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return jn(t),null}if(e=Kc(ps.current),_1(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[fs]=t,n[qm]=o,e=(t.mode&1)!==0,r){case"dialog":rr("cancel",n),rr("close",n);break;case"iframe":case"object":case"embed":rr("load",n);break;case"video":case"audio":for(i=0;i<Am.length;i++)rr(Am[i],n);break;case"source":rr("error",n);break;case"img":case"image":case"link":rr("error",n),rr("load",n);break;case"details":rr("toggle",n);break;case"input":PF(n,o),rr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},rr("invalid",n);break;case"textarea":zF(n,o),rr("invalid",n)}yC(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&M1(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&M1(n.textContent,s,e),i=["children",""+s]):Nm.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&rr("scroll",n)}switch(r){case"input":b1(n),LF(n,o,!0);break;case"textarea":b1(n),VF(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ry)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=GR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[fs]=t,e[qm]=n,b_(e,t,!1,!1),t.stateNode=e;e:{switch(a=wC(r,n),r){case"dialog":rr("cancel",e),rr("close",e),i=n;break;case"iframe":case"object":case"embed":rr("load",e),i=n;break;case"video":case"audio":for(i=0;i<Am.length;i++)rr(Am[i],e);i=n;break;case"source":rr("error",e),i=n;break;case"img":case"image":case"link":rr("error",e),rr("load",e),i=n;break;case"details":rr("toggle",e),i=n;break;case"input":PF(e,n),i=hC(e,n),rr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=yr({},n,{value:void 0}),rr("invalid",e);break;case"textarea":zF(e,n),i=gC(e,n),rr("invalid",e);break;default:i=n}yC(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?XR(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&JR(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Pm(e,l):typeof l=="number"&&Pm(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nm.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rr("scroll",e):l!=null&&rk(e,o,l,a))}switch(r){case"input":b1(e),LF(e,n,!1);break;case"textarea":b1(e),VF(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xu(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Of(e,!!n.multiple,o,!1):n.defaultValue!=null&&Of(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ry)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jn(t),null;case 6:if(e&&t.stateNode!=null)E_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));if(r=Kc(Ym.current),Kc(ps.current),_1(t)){if(n=t.stateNode,r=t.memoizedProps,n[fs]=t,(o=n.nodeValue!==r)&&(e=co,e!==null))switch(e.tag){case 3:M1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&M1(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fs]=t,t.stateNode=n}return jn(t),null;case 13:if(nr(gr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ur&&uo!==null&&(t.mode&1)!==0&&(t.flags&128)===0)zM(),jf(),t.flags|=98560,o=!1;else if(o=_1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ne(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[fs]=t}else jf(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;jn(t),o=!1}else Ea!==null&&(ZC(Ea),Ea=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(gr.current&1)!==0?Qr===0&&(Qr=3):Lk())),t.updateQueue!==null&&(t.flags|=4),jn(t),null);case 4:return Uf(),WC(e,t),e===null&&Um(t.stateNode.containerInfo),jn(t),null;case 10:return xk(t.type._context),jn(t),null;case 17:return zi(t.type)&&ny(),jn(t),null;case 19:if(nr(gr),o=t.memoizedState,o===null)return jn(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)bm(o,!1);else{if(Qr!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=cy(e),a!==null){for(t.flags|=128,bm(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Gt(gr,gr.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pr()>qf&&(t.flags|=128,n=!0,bm(o,!1),t.lanes=4194304)}else{if(!n)if(e=cy(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bm(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ur)return jn(t),null}else 2*Pr()-o.renderingStartTime>qf&&r!==1073741824&&(t.flags|=128,n=!0,bm(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pr(),t.sibling=null,r=gr.current,Gt(gr,n?r&1|2:r&1),t):(jn(t),null);case 22:case 23:return Pk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(lo&1073741824)!==0&&(jn(t),t.subtreeFlags&6&&(t.flags|=8192)):jn(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function vJ(e,t){switch(vk(t),t.tag){case 1:return zi(t.type)&&ny(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uf(),nr(Li),nr(Un),Ak(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return kk(t),null;case 13:if(nr(gr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));jf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nr(gr),null;case 4:return Uf(),null;case 10:return xk(t.type._context),null;case 22:case 23:return Pk(),null;case 24:return null;default:return null}}var N1=!1,$n=!1,yJ=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Mf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tr(e,t,n)}else r.current=null}function qC(e,t,r){try{r()}catch(n){Tr(e,t,n)}}var FR=!1;function wJ(e,t){if(IC=Z1,e=AM(),mk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==r||i!==0&&d.nodeType!==3||(s=a+i),d!==o||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===r&&++u===i&&(s=a),f===o&&++c===n&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(FC={focusedElem:e,selectionRange:r},Z1=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var p=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ba(t.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(x){Tr(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return p=FR,FR=!1,p}function _m(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&qC(t,r,o)}i=i.next}while(i!==n)}}function Ay(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function KC(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function S_(e){var t=e.alternate;t!==null&&(e.alternate=null,S_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fs],delete t[qm],delete t[_C],delete t[tJ],delete t[rJ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function C_(e){return e.tag===5||e.tag===3||e.tag===4}function RR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||C_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function YC(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ry));else if(n!==4&&(e=e.child,e!==null))for(YC(e,t,r),e=e.sibling;e!==null;)YC(e,t,r),e=e.sibling}function GC(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(GC(e,t,r),e=e.sibling;e!==null;)GC(e,t,r),e=e.sibling}var Cn=null,xa=!1;function au(e,t,r){for(r=r.child;r!==null;)k_(e,t,r),r=r.sibling}function k_(e,t,r){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount(yy,r)}catch{}switch(r.tag){case 5:$n||Mf(r,t);case 6:var n=Cn,i=xa;Cn=null,au(e,t,r),Cn=n,xa=i,Cn!==null&&(xa?(e=Cn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Cn.removeChild(r.stateNode));break;case 18:Cn!==null&&(xa?(e=Cn,r=r.stateNode,e.nodeType===8?XS(e.parentNode,r):e.nodeType===1&&XS(e,r),Hm(e)):XS(Cn,r.stateNode));break;case 4:n=Cn,i=xa,Cn=r.stateNode.containerInfo,xa=!0,au(e,t,r),Cn=n,xa=i;break;case 0:case 11:case 14:case 15:if(!$n&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&((o&2)!==0||(o&4)!==0)&&qC(r,t,a),i=i.next}while(i!==n)}au(e,t,r);break;case 1:if(!$n&&(Mf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Tr(r,t,s)}au(e,t,r);break;case 21:au(e,t,r);break;case 22:r.mode&1?($n=(n=$n)||r.memoizedState!==null,au(e,t,r),$n=n):au(e,t,r);break;default:au(e,t,r)}}function MR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yJ),t.forEach(function(n){var i=DJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function wa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Cn=s.stateNode,xa=!1;break e;case 3:Cn=s.stateNode.containerInfo,xa=!0;break e;case 4:Cn=s.stateNode.containerInfo,xa=!0;break e}s=s.return}if(Cn===null)throw Error(ne(160));k_(o,a,i),Cn=null,xa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Tr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)A_(t,e),t=t.sibling}function A_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wa(t,e),cs(e),n&4){try{_m(3,e,e.return),Ay(3,e)}catch(m){Tr(e,e.return,m)}try{_m(5,e,e.return)}catch(m){Tr(e,e.return,m)}}break;case 1:wa(t,e),cs(e),n&512&&r!==null&&Mf(r,r.return);break;case 5:if(wa(t,e),cs(e),n&512&&r!==null&&Mf(r,r.return),e.flags&32){var i=e.stateNode;try{Pm(i,"")}catch(m){Tr(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&KR(i,o),wC(s,a);var u=wC(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?XR(i,d):c==="dangerouslySetInnerHTML"?JR(i,d):c==="children"?Pm(i,d):rk(i,c,d,u)}switch(s){case"input":pC(i,o);break;case"textarea":YR(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Of(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Of(i,!!o.multiple,o.defaultValue,!0):Of(i,!!o.multiple,o.multiple?[]:"",!1))}i[qm]=o}catch(m){Tr(e,e.return,m)}}break;case 6:if(wa(t,e),cs(e),n&4){if(e.stateNode===null)throw Error(ne(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Tr(e,e.return,m)}}break;case 3:if(wa(t,e),cs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hm(t.containerInfo)}catch(m){Tr(e,e.return,m)}break;case 4:wa(t,e),cs(e);break;case 13:wa(t,e),cs(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Bk=Pr())),n&4&&MR(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?($n=(u=$n)||c,wa(t,e),$n=u):wa(t,e),cs(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&(e.mode&1)!==0)for(xe=e,c=e.child;c!==null;){for(d=xe=c;xe!==null;){switch(f=xe,h=f.child,f.tag){case 0:case 11:case 14:case 15:_m(4,f,f.return);break;case 1:Mf(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Tr(n,r,m)}}break;case 5:Mf(f,f.return);break;case 22:if(f.memoizedState!==null){OR(d);continue}}h!==null?(h.return=f,xe=h):OR(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=QR("display",a))}catch(m){Tr(e,e.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Tr(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wa(t,e),cs(e),n&4&&MR(e);break;case 21:break;default:wa(t,e),cs(e)}}function cs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(C_(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Pm(i,""),n.flags&=-33);var o=RR(e);GC(e,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=RR(e);YC(e,s,a);break;default:throw Error(ne(161))}}catch(l){Tr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bJ(e,t,r){xe=e,T_(e,t,r)}function T_(e,t,r){for(var n=(e.mode&1)!==0;xe!==null;){var i=xe,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||N1;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||$n;s=N1;var u=$n;if(N1=a,($n=l)&&!u)for(xe=i;xe!==null;)a=xe,l=a.child,a.tag===22&&a.memoizedState!==null?BR(i):l!==null?(l.return=a,xe=l):BR(i);for(;o!==null;)xe=o,T_(o,t,r),o=o.sibling;xe=i,N1=s,$n=u}_R(e,t,r)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,xe=o):_R(e,t,r)}}function _R(e){for(;xe!==null;){var t=xe;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:$n||Ay(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$n)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ba(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&gR(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gR(t,a,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Hm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}$n||t.flags&512&&KC(t)}catch(f){Tr(t,t.return,f)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function OR(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function BR(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ay(4,t)}catch(l){Tr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Tr(t,i,l)}}var o=t.return;try{KC(t)}catch(l){Tr(t,o,l)}break;case 5:var a=t.return;try{KC(t)}catch(l){Tr(t,a,l)}}}catch(l){Tr(t,t.return,l)}if(t===e){xe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,xe=s;break}xe=t.return}}var xJ=Math.ceil,hy=hl.ReactCurrentDispatcher,_k=hl.ReactCurrentOwner,jo=hl.ReactCurrentBatchConfig,mt=0,cn=null,qr=null,kn=0,lo=0,_f=Cu(0),Qr=0,Xm=null,Zc=0,Ty=0,Ok=0,Om=null,Ni=null,Bk=0,qf=1/0,il=null,py=!1,JC=null,yu=null,P1=!1,fu=null,my=0,Bm=0,QC=null,W1=-1,q1=0;function fi(){return(mt&6)!==0?Pr():W1!==-1?W1:W1=Pr()}function wu(e){return(e.mode&1)===0?1:(mt&2)!==0&&kn!==0?kn&-kn:iJ.transition!==null?(q1===0&&(q1=cM()),q1):(e=Mt,e!==0||(e=window.event,e=e===void 0?16:vM(e.type)),e)}function Ca(e,t,r,n){if(50<Bm)throw Bm=0,QC=null,Error(ne(185));Zm(e,r,n),((mt&2)===0||e!==cn)&&(e===cn&&((mt&2)===0&&(Ty|=r),Qr===4&&cu(e,kn)),Vi(e,n),r===1&&mt===0&&(t.mode&1)===0&&(qf=Pr()+500,Sy&&ku()))}function Vi(e,t){var r=e.callbackNode;aG(e,t);var n=X1(e,e===cn?kn:0);if(n===0)r!==null&&$F(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&$F(r),t===1)e.tag===0?nJ(NR.bind(null,e)):NM(NR.bind(null,e)),ZG(function(){(mt&6)===0&&ku()}),r=null;else{switch(dM(n)){case 1:r=sk;break;case 4:r=lM;break;case 16:r=Q1;break;case 536870912:r=uM;break;default:r=Q1}r=B_(r,D_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function D_(e,t){if(W1=-1,q1=0,(mt&6)!==0)throw Error(ne(327));var r=e.callbackNode;if(zf()&&e.callbackNode!==r)return null;var n=X1(e,e===cn?kn:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=gy(e,n);else{t=n;var i=mt;mt|=2;var o=F_();(cn!==e||kn!==t)&&(il=null,qf=Pr()+500,Yc(e,t));do try{CJ();break}catch(s){I_(e,s)}while(!0);bk(),hy.current=o,mt=i,qr!==null?t=0:(cn=null,kn=0,t=Qr)}if(t!==0){if(t===2&&(i=CC(e),i!==0&&(n=i,t=XC(e,i))),t===1)throw r=Xm,Yc(e,0),cu(e,n),Vi(e,Pr()),r;if(t===6)cu(e,n);else{if(i=e.current.alternate,(n&30)===0&&!EJ(i)&&(t=gy(e,n),t===2&&(o=CC(e),o!==0&&(n=o,t=XC(e,o))),t===1))throw r=Xm,Yc(e,0),cu(e,n),Vi(e,Pr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ne(345));case 2:Uc(e,Ni,il);break;case 3:if(cu(e,n),(n&130023424)===n&&(t=Bk+500-Pr(),10<t)){if(X1(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){fi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=MC(Uc.bind(null,e,Ni,il),t);break}Uc(e,Ni,il);break;case 4:if(cu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Sa(n);o=1<<a,a=t[a],a>i&&(i=a),n&=~o}if(n=i,n=Pr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xJ(n/1960))-n,10<n){e.timeoutHandle=MC(Uc.bind(null,e,Ni,il),n);break}Uc(e,Ni,il);break;case 5:Uc(e,Ni,il);break;default:throw Error(ne(329))}}}return Vi(e,Pr()),e.callbackNode===r?D_.bind(null,e):null}function XC(e,t){var r=Om;return e.current.memoizedState.isDehydrated&&(Yc(e,t).flags|=256),e=gy(e,t),e!==2&&(t=Ni,Ni=r,t!==null&&ZC(t)),e}function ZC(e){Ni===null?Ni=e:Ni.push.apply(Ni,e)}function EJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!ka(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cu(e,t){for(t&=~Ok,t&=~Ty,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Sa(t),n=1<<r;e[r]=-1,t&=~n}}function NR(e){if((mt&6)!==0)throw Error(ne(327));zf();var t=X1(e,0);if((t&1)===0)return Vi(e,Pr()),null;var r=gy(e,t);if(e.tag!==0&&r===2){var n=CC(e);n!==0&&(t=n,r=XC(e,n))}if(r===1)throw r=Xm,Yc(e,0),cu(e,t),Vi(e,Pr()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Uc(e,Ni,il),Vi(e,Pr()),null}function Nk(e,t){var r=mt;mt|=1;try{return e(t)}finally{mt=r,mt===0&&(qf=Pr()+500,Sy&&ku())}}function ed(e){fu!==null&&fu.tag===0&&(mt&6)===0&&zf();var t=mt;mt|=1;var r=jo.transition,n=Mt;try{if(jo.transition=null,Mt=1,e)return e()}finally{Mt=n,jo.transition=r,mt=t,(mt&6)===0&&ku()}}function Pk(){lo=_f.current,nr(_f)}function Yc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,XG(r)),qr!==null)for(r=qr.return;r!==null;){var n=r;switch(vk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ny();break;case 3:Uf(),nr(Li),nr(Un),Ak();break;case 5:kk(n);break;case 4:Uf();break;case 13:nr(gr);break;case 19:nr(gr);break;case 10:xk(n.type._context);break;case 22:case 23:Pk()}r=r.return}if(cn=e,qr=e=bu(e.current,null),kn=lo=t,Qr=0,Xm=null,Ok=Ty=Zc=0,Ni=Om=null,qc!==null){for(t=0;t<qc.length;t++)if(r=qc[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}qc=null}return e}function I_(e,t){do{var r=qr;try{if(bk(),j1.current=fy,dy){for(var n=vr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}dy=!1}if(Xc=0,un=Jr=vr=null,Mm=!1,Gm=0,_k.current=null,r===null||r.return===null){Qr=1,Xm=t,qr=null;break}e:{var o=e,a=r.return,s=r,l=t;if(t=kn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if((c.mode&1)===0&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=SR(a);if(h!==null){h.flags&=-257,CR(h,a,s,o,t),h.mode&1&&ER(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if((t&1)===0){ER(o,u,t),Lk();break e}l=Error(ne(426))}}else if(ur&&s.mode&1){var v=SR(a);if(v!==null){(v.flags&65536)===0&&(v.flags|=256),CR(v,a,s,o,t),yk(Wf(l,s));break e}}o=l=Wf(l,s),Qr!==4&&(Qr=2),Om===null?Om=[o]:Om.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=f_(o,l,t);mR(o,g);break e;case 1:s=l;var y=o.type,b=o.stateNode;if((o.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yu===null||!yu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=h_(o,s,t);mR(o,x);break e}}o=o.return}while(o!==null)}M_(r)}catch(S){t=S,qr===r&&r!==null&&(qr=r=r.return);continue}break}while(!0)}function F_(){var e=hy.current;return hy.current=fy,e===null?fy:e}function Lk(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),cn===null||(Zc&268435455)===0&&(Ty&268435455)===0||cu(cn,kn)}function gy(e,t){var r=mt;mt|=2;var n=F_();(cn!==e||kn!==t)&&(il=null,Yc(e,t));do try{SJ();break}catch(i){I_(e,i)}while(!0);if(bk(),mt=r,hy.current=n,qr!==null)throw Error(ne(261));return cn=null,kn=0,Qr}function SJ(){for(;qr!==null;)R_(qr)}function CJ(){for(;qr!==null&&!QY();)R_(qr)}function R_(e){var t=O_(e.alternate,e,lo);e.memoizedProps=e.pendingProps,t===null?M_(e):qr=t,_k.current=null}function M_(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=gJ(r,t,lo),r!==null){qr=r;return}}else{if(r=vJ(r,t),r!==null){r.flags&=32767,qr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qr=6,qr=null;return}}if(t=t.sibling,t!==null){qr=t;return}qr=t=e}while(t!==null);Qr===0&&(Qr=5)}function Uc(e,t,r){var n=Mt,i=jo.transition;try{jo.transition=null,Mt=1,kJ(e,t,r,n)}finally{jo.transition=i,Mt=n}return null}function kJ(e,t,r,n){do zf();while(fu!==null);if((mt&6)!==0)throw Error(ne(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(sG(e,o),e===cn&&(qr=cn=null,kn=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||P1||(P1=!0,B_(Q1,function(){return zf(),null})),o=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||o){o=jo.transition,jo.transition=null;var a=Mt;Mt=1;var s=mt;mt|=4,_k.current=null,wJ(e,r),A_(r,e),KG(FC),Z1=!!IC,FC=IC=null,e.current=r,bJ(r,e,i),XY(),mt=s,Mt=a,jo.transition=o}else e.current=r;if(P1&&(P1=!1,fu=e,my=i),o=e.pendingLanes,o===0&&(yu=null),tG(r.stateNode,n),Vi(e,Pr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(py)throw py=!1,e=JC,JC=null,e;return(my&1)!==0&&e.tag!==0&&zf(),o=e.pendingLanes,(o&1)!==0?e===QC?Bm++:(Bm=0,QC=e):Bm=0,ku(),null}function zf(){if(fu!==null){var e=dM(my),t=jo.transition,r=Mt;try{if(jo.transition=null,Mt=16>e?16:e,fu===null)var n=!1;else{if(e=fu,fu=null,my=0,(mt&6)!==0)throw Error(ne(331));var i=mt;for(mt|=4,xe=e.current;xe!==null;){var o=xe,a=o.child;if((xe.flags&16)!==0){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(xe=u;xe!==null;){var c=xe;switch(c.tag){case 0:case 11:case 15:_m(8,c,o)}var d=c.child;if(d!==null)d.return=c,xe=d;else for(;xe!==null;){c=xe;var f=c.sibling,h=c.return;if(S_(c),c===u){xe=null;break}if(f!==null){f.return=h,xe=f;break}xe=h}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}xe=o}}if((o.subtreeFlags&2064)!==0&&a!==null)a.return=o,xe=a;else e:for(;xe!==null;){if(o=xe,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:_m(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,xe=g;break e}xe=o.return}}var y=e.current;for(xe=y;xe!==null;){a=xe;var b=a.child;if((a.subtreeFlags&2064)!==0&&b!==null)b.return=a,xe=b;else e:for(a=y;xe!==null;){if(s=xe,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:Ay(9,s)}}catch(S){Tr(s,s.return,S)}if(s===a){xe=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,xe=x;break e}xe=s.return}}if(mt=i,ku(),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot(yy,e)}catch{}n=!0}return n}finally{Mt=r,jo.transition=t}}return!1}function PR(e,t,r){t=Wf(r,t),t=f_(e,t,1),e=vu(e,t,1),t=fi(),e!==null&&(Zm(e,1,t),Vi(e,t))}function Tr(e,t,r){if(e.tag===3)PR(e,e,r);else for(;t!==null;){if(t.tag===3){PR(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yu===null||!yu.has(n))){e=Wf(r,e),e=h_(t,e,1),t=vu(t,e,1),e=fi(),t!==null&&(Zm(t,1,e),Vi(t,e));break}}t=t.return}}function AJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fi(),e.pingedLanes|=e.suspendedLanes&r,cn===e&&(kn&r)===r&&(Qr===4||Qr===3&&(kn&130023424)===kn&&500>Pr()-Bk?Yc(e,0):Ok|=r),Vi(e,t)}function __(e,t){t===0&&((e.mode&1)===0?t=1:(t=S1,S1<<=1,(S1&130023424)===0&&(S1=4194304)));var r=fi();e=dl(e,t),e!==null&&(Zm(e,t,r),Vi(e,r))}function TJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),__(e,r)}function DJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(t),__(e,r)}var O_;O_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Li.current)Pi=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Pi=!1,mJ(e,t,r);Pi=(e.flags&131072)!==0}else Pi=!1,ur&&(t.flags&1048576)!==0&&PM(t,ay,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;U1(e,t),e=t.pendingProps;var i=Hf(t,Un.current);Lf(t,r),i=Dk(null,t,n,e,i,r);var o=Ik();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zi(n)?(o=!0,iy(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sk(t),i.updater=Cy,t.stateNode=i,i._reactInternals=t,zC(t,n,e,r),t=jC(null,t,n,!0,o,r)):(t.tag=0,ur&&o&&gk(t),di(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(U1(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=FJ(n),e=ba(n,e),i){case 0:t=HC(null,t,n,e,r);break e;case 1:t=TR(null,t,n,e,r);break e;case 11:t=kR(null,t,n,e,r);break e;case 14:t=AR(null,t,n,ba(n.type,e),r);break e}throw Error(ne(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ba(n,i),HC(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ba(n,i),TR(e,t,n,i,r);case 3:e:{if(v_(t),e===null)throw Error(ne(387));n=t.pendingProps,o=t.memoizedState,i=o.element,HM(e,t),uy(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Wf(Error(ne(423)),t),t=DR(e,t,n,r,i);break e}else if(n!==i){i=Wf(Error(ne(424)),t),t=DR(e,t,n,r,i);break e}else for(uo=gu(t.stateNode.containerInfo.firstChild),co=t,ur=!0,Ea=null,r=WM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jf(),n===i){t=fl(e,t,r);break e}di(e,t,n,r)}t=t.child}return t;case 5:return qM(t),e===null&&NC(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,RC(n,i)?a=null:o!==null&&RC(n,o)&&(t.flags|=32),g_(e,t),di(e,t,a,r),t.child;case 6:return e===null&&NC(t),null;case 13:return y_(e,t,r);case 4:return Ck(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$f(t,null,n,r):di(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ba(n,i),kR(e,t,n,i,r);case 7:return di(e,t,t.pendingProps,r),t.child;case 8:return di(e,t,t.pendingProps.children,r),t.child;case 12:return di(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Gt(sy,n._currentValue),n._currentValue=a,o!==null)if(ka(o.value,a)){if(o.children===i.children&&!Li.current){t=fl(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=ll(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),PC(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ne(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),PC(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}di(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Lf(t,r),i=$o(i),n=n(i),t.flags|=1,di(e,t,n,r),t.child;case 14:return n=t.type,i=ba(n,t.pendingProps),i=ba(n.type,i),AR(e,t,n,i,r);case 15:return p_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ba(n,i),U1(e,t),t.tag=1,zi(n)?(e=!0,iy(t)):e=!1,Lf(t,r),$M(t,n,i),zC(t,n,i,r),jC(null,t,n,!0,e,r);case 19:return w_(e,t,r);case 22:return m_(e,t,r)}throw Error(ne(156,t.tag))};function B_(e,t){return sM(e,t)}function IJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ho(e,t,r,n){return new IJ(e,t,r,n)}function zk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FJ(e){if(typeof e=="function")return zk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ik)return 11;if(e===ok)return 14}return 2}function bu(e,t){var r=e.alternate;return r===null?(r=Ho(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function K1(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")zk(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Sf:return Gc(r.children,i,o,t);case nk:a=8,i|=8;break;case uC:return e=Ho(12,r,t,i|2),e.elementType=uC,e.lanes=o,e;case cC:return e=Ho(13,r,t,i),e.elementType=cC,e.lanes=o,e;case dC:return e=Ho(19,r,t,i),e.elementType=dC,e.lanes=o,e;case UR:return Dy(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jR:a=10;break e;case $R:a=9;break e;case ik:a=11;break e;case ok:a=14;break e;case su:a=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=Ho(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Gc(e,t,r,n){return e=Ho(7,e,n,t),e.lanes=r,e}function Dy(e,t,r,n){return e=Ho(22,e,n,t),e.elementType=UR,e.lanes=r,e.stateNode={isHidden:!1},e}function aC(e,t,r){return e=Ho(6,e,null,t),e.lanes=r,e}function sC(e,t,r){return t=Ho(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RJ(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=US(0),this.expirationTimes=US(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=US(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vk(e,t,r,n,i,o,a,s,l){return e=new RJ(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ho(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sk(o),e}function MJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ef,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function N_(e){if(!e)return Eu;e=e._reactInternals;e:{if(rd(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(zi(r))return BM(e,r,t)}return t}function P_(e,t,r,n,i,o,a,s,l){return e=Vk(r,n,!0,e,i,o,a,s,l),e.context=N_(null),r=e.current,n=fi(),i=wu(r),o=ll(n,i),o.callback=t??null,vu(r,o,i),e.current.lanes=i,Zm(e,i,n),Vi(e,n),e}function Iy(e,t,r,n){var i=t.current,o=fi(),a=wu(i);return r=N_(r),t.context===null?t.context=r:t.pendingContext=r,t=ll(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=vu(i,t,a),e!==null&&(Ca(e,i,a,o),H1(e,i,a)),a}function vy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function LR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hk(e,t){LR(e,t),(e=e.alternate)&&LR(e,t)}function _J(){return null}var L_=typeof reportError=="function"?reportError:function(e){console.error(e)};function jk(e){this._internalRoot=e}Fy.prototype.render=jk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Iy(e,t,null,null)};Fy.prototype.unmount=jk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ed(function(){Iy(null,e,null,null)}),t[cl]=null}};function Fy(e){this._internalRoot=e}Fy.prototype.unstable_scheduleHydration=function(e){if(e){var t=pM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<uu.length&&t!==0&&t<uu[r].priority;r++);uu.splice(r,0,e),r===0&&gM(e)}};function $k(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ry(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zR(){}function OJ(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=vy(a);o.call(u)}}var a=P_(t,n,e,0,null,!1,!1,"",zR);return e._reactRootContainer=a,e[cl]=a.current,Um(e.nodeType===8?e.parentNode:e),ed(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=vy(l);s.call(u)}}var l=Vk(e,0,!1,null,null,!1,!1,"",zR);return e._reactRootContainer=l,e[cl]=l.current,Um(e.nodeType===8?e.parentNode:e),ed(function(){Iy(t,l,r,n)}),l}function My(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=vy(a);s.call(l)}}Iy(t,a,e,i)}else a=OJ(r,t,e,i,n);return vy(a)}fM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=km(t.pendingLanes);r!==0&&(lk(t,r|1),Vi(t,Pr()),(mt&6)===0&&(qf=Pr()+500,ku()))}break;case 13:ed(function(){var n=dl(e,1);if(n!==null){var i=fi();Ca(n,e,1,i)}}),Hk(e,1)}};uk=function(e){if(e.tag===13){var t=dl(e,134217728);if(t!==null){var r=fi();Ca(t,e,134217728,r)}Hk(e,134217728)}};hM=function(e){if(e.tag===13){var t=wu(e),r=dl(e,t);if(r!==null){var n=fi();Ca(r,e,t,n)}Hk(e,t)}};pM=function(){return Mt};mM=function(e,t){var r=Mt;try{return Mt=e,t()}finally{Mt=r}};xC=function(e,t,r){switch(t){case"input":if(pC(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ey(n);if(!i)throw Error(ne(90));qR(n),pC(n,i)}}}break;case"textarea":YR(e,r);break;case"select":t=r.value,t!=null&&Of(e,!!r.multiple,t,!1)}};tM=Nk;rM=ed;var BJ={usingClientEntryPoint:!1,Events:[t0,Tf,Ey,ZR,eM,Nk]},xm={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NJ={bundleType:xm.bundleType,version:xm.version,rendererPackageName:xm.rendererPackageName,rendererConfig:xm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oM(e),e===null?null:e.stateNode},findFiberByHostInstance:xm.findFiberByHostInstance||_J,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Em=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Em.isDisabled&&Em.supportsFiber))try{yy=Em.inject(NJ),hs=Em}catch{}var Em;po.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BJ;po.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$k(t))throw Error(ne(200));return MJ(e,t,null,r)};po.createRoot=function(e,t){if(!$k(e))throw Error(ne(299));var r=!1,n="",i=L_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Vk(e,1,!1,null,null,r,!1,n,i),e[cl]=t.current,Um(e.nodeType===8?e.parentNode:e),new jk(t)};po.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=oM(t),e=e===null?null:e.stateNode,e};po.flushSync=function(e){return ed(e)};po.hydrate=function(e,t,r){if(!Ry(t))throw Error(ne(200));return My(null,e,t,!0,r)};po.hydrateRoot=function(e,t,r){if(!$k(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=L_;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=P_(t,null,e,1,r??null,i,!1,o,a),e[cl]=t.current,Um(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Fy(t)};po.render=function(e,t,r){if(!Ry(t))throw Error(ne(200));return My(null,e,t,!1,r)};po.unmountComponentAtNode=function(e){if(!Ry(e))throw Error(ne(40));return e._reactRootContainer?(ed(function(){My(null,null,e,!1,function(){e._reactRootContainer=null,e[cl]=null})}),!0):!1};po.unstable_batchedUpdates=Nk;po.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ry(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return My(e,t,r,!1,n)};po.version="18.2.0-next-9e3b772b8-20220608"});var pi=rl((_2e,H_)=>{"use strict";w();function V_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V_)}catch(e){console.error(e)}}V_(),H_.exports=z_()});var $_=rl(Uk=>{"use strict";w();var j_=pi();Uk.createRoot=j_.createRoot,Uk.hydrateRoot=j_.hydrateRoot;var B2e});var kO=rl(Ky=>{"use strict";w();var OQ=$(),BQ=Symbol.for("react.element"),NQ=Symbol.for("react.fragment"),PQ=Object.prototype.hasOwnProperty,LQ=OQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zQ={key:!0,ref:!0,__self:!0,__source:!0};function CO(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)PQ.call(t,n)&&!zQ.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:BQ,type:e,key:o,ref:a,props:i,_owner:LQ.current}}Ky.Fragment=NQ;Ky.jsx=CO;Ky.jsxs=CO});var P=rl((wEe,AO)=>{"use strict";w();AO.exports=kO()});w();w();w();w();w();var pa=globalThis.crypto;w();var{ByteLengthQueuingStrategy:BK,CountQueuingStrategy:NK,ReadableByteStreamController:PK,ReadableStream:LK,ReadableStreamBYOBReader:zK,ReadableStreamBYOBRequest:VK,ReadableStreamDefaultController:HK,ReadableStreamDefaultReader:jK,TransformStream:$K,TransformStreamDefaultController:UK,WritableStream:WK,WritableStreamDefaultController:qK,WritableStreamDefaultWriter:KK,TextEncoderStream:YK,TextDecoderStream:GK}=globalThis,hS=globalThis.CompressionStream,jI=globalThis.DecompressionStream;w();var pS=globalThis.fetch,JK=globalThis.Request,mS=globalThis.Response,QK=globalThis.Headers,XK=globalThis.FormData,ZK=globalThis.File,gS=globalThis.AbortController,eY=globalThis.AbortSignal;w();var tY=globalThis.atob,rY=globalThis.btoa,vS=globalThis.Blob;w();var Oi=(e=>(e.User="user",e.Resolve="resolve",e.Pending="pending",e.Sync="sync",e.Draft="draft",e.History="history",e.PreviewToken="previewToken",e.Mutate="mutate",e.Upload="upload",e.Tree="tree",e.Commit="commit",e.Blob="blob",e))(Oi||{});w();var nu=class extends Error{code;constructor(e,t,r){super(t??e.toString(),r),this.code=e}};w();w();w();var Kv=Symbol.for("@alinea.Root"),Yv=e=>Kv in e,ln=e=>e[Kv],Gv=Symbol.for("@alinea.Type"),$I=e=>Gv in e,tt=e=>e[Gv],sm=Symbol.for("@alinea.Field"),Jv=e=>sm in e,nl=e=>e[sm],Qv=Symbol.for("@alinea.Workspace"),Xv=e=>Qv in e,Bi=e=>e[Qv],lm=Symbol.for("@alinea.Expr"),mf=e=>lm in e,Zv=e=>e[lm];var pt=class{[lm];constructor(e){this[lm]=e}};w();var{entries:ue,fromEntries:Dt,keys:Rt,values:ma,assign:ss,create:yS,defineProperty:wS,defineProperties:vxe,getOwnPropertyDescriptor:yxe,getOwnPropertyDescriptors:wxe,getOwnPropertyNames:bxe,getOwnPropertySymbols:xxe,getPrototypeOf:Exe,setPrototypeOf:Sxe,is:Cxe,preventExtensions:kxe,seal:Axe,freeze:Txe,isExtensible:Dxe,isSealed:Ixe,isFrozen:Fxe,hasOwnProperty:Rxe,propertyIsEnumerable:Mxe,isPrototypeOf:_xe}=Object;var bS=new WeakMap,UI="@alinea.Entity",WI="@alinea.Expr",nY=class{#e=new Map;#r=new Map;constructor(e){for(let[t,r]of ue(e.workspaces)){this.#t(r,"Workspace",t);for(let[n,i]of ue(r)){this.#t(i,"Root",t,n);for(let[o,a]of ue(i))this.#t(a,"Page",t,n,o)}}for(let[t,r]of ue(e.schema)){this.#t(r,"Type",t);for(let[n,i]of ue(r))this.#t(i,"Field",t,n)}}locationOf(e){return this.#r.get(e)?.slice(1)}nameOf(e){return this.#r.get(e)?.at(-1)}stringify(e){return JSON.stringify(e,(r,n)=>this.#r.has(n)?{[UI]:this.#r.get(n)?.join(".")}:n&&typeof n=="object"&&mf(n)?{[WI]:Zv(n)}:n)}parse(e){return JSON.parse(e,(r,n)=>{if(n&&typeof n=="object"){let i=Object.keys(n);if(i.length===1){let[o]=i;if(o===UI)return this.#e.get(n[o]);if(o===WI)return new pt(n[o])}}return n})}#t(e,t,...r){let n=this.#r.get(e);if(n)throw new Error(`${t} '${r.join(".")}' is already in use at '${n.slice(1).join(".")}' \u2014 ${t}s must be unique`);let i=[t].concat(r),o=i.join(".");this.#e.set(o,e),this.#r.set(e,i)}};function ga(e){return bS.has(e)||bS.set(e,new nY(e)),bS.get(e)}w();w();w();function Ae(e,t){if(e)return;let r=new Error(t);throw"captureStackTrace"in Error&&Error.captureStackTrace(r,Ae),r}async function qI(e){let t=await pa.subtle.digest("SHA-1",e),r=new Uint8Array(t);return YI(r)}function xS(e){let t=e.reduce((i,o)=>i+o.length,0),r=new Uint8Array(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return r}function KI(e){if(e.length%2!==0)throw new Error("Invalid hex string");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=Number.parseInt(e.slice(r,r+2),16);return t}var iY=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function YI(e){let t="";for(let r=0;r<e.length;r++)t+=iY[e[r]];return t}function ls(e,t){return-(e<t)||+(e>t)}function um(e){let t=e.indexOf("/");if(t===-1)return[e,void 0];let r=e.slice(0,t),n=e.slice(t+1);return[r,n]}var GI=new TextEncoder,qxe=new TextDecoder;function JI(e){let r=e.slice().sort(oY).map(n=>{let o=`${n.mode.startsWith("0")?n.mode.slice(1):n.mode} ${n.name}\0`,a=GI.encode(o),s=KI(n.sha);return new Uint8Array([...a,...s])});return xS(r)}function oY(e,t){let r=e.entries?`${e.name}/`:e.name,n=t.entries?`${t.name}/`:t.name;return ls(r,n)}function QI(e,t){let r=`${e} ${t.length}\0`,n=GI.encode(r),i=xS([n,t]);return qI(i)}function XI(e){return QI("tree",e)}async function gf(e){return QI("blob",e)}w();var iu=class extends nu{constructor(e,t){super(409,`SHA mismatch: ${e} != ${t}`),this.actual=e,this.expected=t}};var va=class{type="blob";sha;mode;constructor({sha:e,mode:t}){if(t!=="100644"&&t!=="100755")throw new Error(`Invalid mode for leaf: ${t}`);this.sha=e,this.mode=t}clone(){return this}toJSON(){return{...this}}},ES="4b825dc642cb6eb9a060e54bf8d69288fbee4904",r1=class cm{type="tree";mode="040000";sha;nodes=new Map;constructor(t){this.sha=t}get(t){let[r,n]=um(t),i=this.nodes.get(r);if(!n)return i;if(i&&!(i instanceof va))return i.get(n)}getNode(t){let r=this.get(t);if(!r)throw new Error(`Node not found: ${t}`);if(r instanceof va)throw new Error(`Expected node, found leaf: ${t}`);return r}getLeaf(t){let r=this.get(t);if(!r)throw new Error(`Leaf not found: ${t}`);if(!(r instanceof va))throw new Error(`Expected leaf, found node: ${t}`);return r}has(t){let[r,n]=um(t);if(n){let i=this.nodes.get(r);return!i||i instanceof va?!1:i.has(n)}return this.nodes.has(r)}*[Symbol.iterator](){for(let[t,r]of this.nodes)if(yield[t,r],r instanceof cm)for(let[n,i]of r)yield[`${t}/${n}`,i]}*paths(){for(let[t,r]of this.nodes)if(yield t,r instanceof cm)for(let n of r.paths())yield`${t}/${n}`}index(){return new Map(this.fileIndex(""))}fileIndex(t){return Array.from(this.nodes,([r,n])=>n instanceof cm?n.fileIndex(`${t}${r}/`):[[t+r,n.sha]]).flat()}equals(t){if(t instanceof Po)return this.sha===t.sha;if(this.sha&&t.sha&&this.sha===t.sha)return!0;if(this.nodes.size!==t.nodes.size)return!1;for(let[n,i]of this.nodes){let o=t.nodes.get(n);if(!o)return!1;if(i instanceof va){if(!(o instanceof va)||i.sha!==o.sha)return!1}else if(!(o instanceof cm)||!i.equals(o))return!1}return!0}},Po=class e1 extends r1{sha;static EMPTY=new e1({sha:ES,entries:[]});#e=new Set;constructor({sha:t,entries:r}){super(t),this.sha=t;for(let n of r){let i=n.entries?new e1(n):new va(n);if(i instanceof va)this.#e.add(i.sha);else for(let o of i.#e)this.#e.add(o);this.nodes.set(n.name,i)}}get isEmpty(){return this.sha===ES}get entries(){return[...this.nodes.entries()].map(([t,r])=>({name:t,...r.toJSON()}))}hasSha(t){return this.#e.has(t)}clone(){return new aY({sha:this.sha,entries:this.entries})}toJSON(){return{sha:this.sha,mode:this.mode,entries:this.entries}}flat(){return{sha:this.sha,tree:this.#r("")}}withChanges(t){let r=this.clone();return r.applyChanges(t),r.compile()}#r(t){return Array.from(this.nodes,([r,n])=>{let i={type:n.type,path:t+r,mode:n.mode,sha:n.sha};return n instanceof r1?[i].concat(n.#r(`${t}${r}/`)):[i]}).flat()}static fromFlat(t){let r=Array(),n=new Map;for(let{path:i,mode:o,sha:a}of t.tree){let s=i.lastIndexOf("/"),l=s===-1?"":i.slice(0,s),c={name:s===-1?i:i.slice(s+1),mode:o,sha:a};if(n.set(i,c),l){let d=n.get(l);Ae(d,`Parent not found: ${l}`),d.entries||(d.entries=[]),d.entries.push(c)}else r.push(c)}return new e1({sha:t.sha,entries:r})}diff(t){let r=this.index(),n=t.index(),i=[],o=new Set([...r.keys(),...n.keys()].sort(ls));for(let a of o){let s=r.get(a),l=n.get(a);s!==l&&(l===void 0?i.unshift({op:"delete",path:a,sha:s}):i.push({op:"add",path:a,sha:l}))}return{fromSha:this.sha,changes:i}}},aY=class t1 extends r1{constructor({sha:t,entries:r}={sha:ES,entries:[]}){super(t);for(let n of r)this.nodes.set(n.name,n.entries?new t1(n):new va(n))}add(t,r){this.sha=void 0;let[n,i]=um(t);if(i)this.#e(n).add(i,r);else{let o=typeof r=="string"?new va({sha:r,mode:"100644"}):r.clone();this.nodes.set(n,o)}}#e(t){return this.sha=void 0,this.nodes.has(t)||this.nodes.set(t,new t1),this.getNode(t)}#r(t){return this.nodes.get(t)}remove(t){this.sha=void 0;let[r,n]=um(t);if(!n)return this.nodes.delete(r);let i=this.#r(r);if(!i)return!1;let o=i.remove(n);return i.nodes.size===0&&this.nodes.delete(r),o}rename(t,r){let n=this.get(t);n&&(this.remove(t),this.add(r,n.clone()))}applyChanges(t){let{fromSha:r,changes:n}=t;if(this.sha&&this.sha!==r)throw new iu(r,this.sha);for(let i of n)switch(i.op){case"delete":{let o=this.get(i.path);if(!o)continue;Ae(o instanceof va,`Cannot delete: ${i.path}`),Ae(o.sha===i.sha,`SHA mismatch: ${o.sha} !== ${i.sha} for ${i.path}`),this.remove(i.path);continue}case"add":{let o=this.get(i.path);if(o&&o.sha===i.sha)continue;this.add(i.path,i.sha);continue}}}async#t(t){if(t?.equals(this))return t.toJSON();let r=await this.#n(t);if(this.sha)return{sha:this.sha,entries:r};let n=JI(r);return this.sha=await XI(n),{sha:this.sha,entries:r}}async#n(t){let r=Array();for(let[n,i]of this.nodes.entries())if(i instanceof r1){let o=t?.get(n),a=await i.#t(o instanceof Po?o:void 0);a.entries.length>0&&r.push({name:n,...i,...a})}else r.push({name:n,...i});return r}async getSha(){return(await this.#t()).sha}async compile(t){return new Po(await this.#t(t))}clone(){let t=new t1;for(let[r,n]of this.nodes)t.add(r,n.clone());return t.sha=this.sha,t}};w();function sY(e,t,r={}){if(!t.codes){t.codes={};for(let l=0;l<t.chars.length;++l)t.codes[t.chars[l]]=l}if(!r.loose&&e.length*t.bits&7)throw new SyntaxError("Invalid padding");let n=e.length;for(;e[n-1]==="=";)if(--n,!r.loose&&!((e.length-n)*t.bits&7))throw new SyntaxError("Invalid padding");let i=new(r.out??Uint8Array)(n*t.bits/8|0),o=0,a=0,s=0;for(let l=0;l<n;++l){let u=t.codes[e[l]];if(u===void 0)throw new SyntaxError(`Invalid character ${e[l]}`);a=a<<t.bits|u,o+=t.bits,o>=8&&(o-=8,i[s++]=255&a>>o)}if(o>=t.bits||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return i}function lY(e,t,r={}){let{pad:n=!0}=r,i=(1<<t.bits)-1,o="",a=0,s=0;for(let l=0;l<e.length;++l)for(s=s<<8|255&e[l],a+=8;a>t.bits;)a-=t.bits,o+=t.chars[i&s>>a];if(a&&(o+=t.chars[i&s<<t.bits-a]),n)for(;o.length*t.bits&7;)o+="=";return o}var ZI={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bits:6};var vf={parse(e,t){return sY(e,ZI,t)},stringify(e,t){return lY(e,ZI,t)}};function eF(e){return vf.stringify(new TextEncoder().encode(e))}var n1=class tF{#e;constructor(t){this.#e=t}get url(){return this.#e.url}previewToken(t){return this.#t({action:Oi.PreviewToken},{method:"POST",body:JSON.stringify(t)}).then(this.#n)}prepareUpload(t){return this.#t({action:Oi.Upload},{method:"POST",body:JSON.stringify({filename:t})}).then(this.#n)}user(){return this.#t({action:Oi.User}).then(this.#n).then(t=>t??void 0)}resolve(t){let n=ga(this.#e.config).stringify(t);return this.#t({action:Oi.Resolve},{method:"POST",body:n}).then(this.#n)}mutate(t){return this.#t({action:Oi.Mutate},{method:"POST",body:JSON.stringify(t)}).then(this.#n)}authenticate(t,r){return new tF({...this.#e,applyAuth:t,unauthorized:r})}revisions(t){return this.#t({action:Oi.History,file:t}).then(this.#n)}revisionData(t,r){return this.#t({action:Oi.History,file:t,revisionId:r}).then(this.#n).then(n=>n??void 0)}getTreeIfDifferent(t){return this.#t({action:Oi.Tree,sha:t}).then(this.#n).then(r=>r?new Po(r):void 0)}async*getBlobs(t){if(t.length===0)return;let n=await(await this.#r({action:Oi.Blob},{method:"POST",body:JSON.stringify({shas:t}),headers:{"content-type":"application/json",accept:"multipart/form-data"}}).then(i=>this.#n(i,!1))).formData();for(let[i,o]of n.entries())if(o instanceof Blob){let a=i.slice(0,40),s=new Uint8Array(await o.arrayBuffer());yield[a,s]}}write(t){return this.#t({action:Oi.Commit},{method:"POST",body:JSON.stringify(t)}).then(this.#n)}getDraft(t){return this.#t({action:Oi.Draft,key:t}).then(this.#n).then(r=>r?{...r,draft:vf.parse(r.draft)}:void 0)}storeDraft(t){return this.#t({action:Oi.Draft},{method:"POST",body:JSON.stringify({...t,draft:vf.stringify(t.draft)})}).then(r=>this.#n(r,!1))}#r(t,r){let{url:n,applyAuth:i=f=>f,unauthorized:o}=this.#e,a=new gS,s=a.signal,l=`${n}?${new URLSearchParams(t).toString()}`,u=pS(l,{...i(r),signal:s}).catch(f=>{throw new nu(500,`${f} @ ${r?.method||"GET"} action ${t.action}`)}).then(async f=>{if(f.status===401&&o?.(),!f.ok){let h=f.headers.get("content-type")?.includes("application/json"),p;if(h){let m=await f.json();"error"in m&&typeof m.error=="string"?p=m.error:p=JSON.stringify(m,null,2)}else p=await f.text();throw p=p.replace(/\s+/g," ").slice(0,1024),new nu(f.status,`${p} @ ${r?.method||"GET"} action ${t.action}`)}return f}),c=()=>a.abort();function d(f){let h=f.then.bind(f),p=f.catch.bind(f);return Object.assign(f,{cancel:c,then:(...m)=>d(h(...m)),catch:(...m)=>d(p(...m))})}return d(u)}#t(t,r){return this.#r(t,{...r,headers:{...r?.headers,"content-type":"application/json",accept:"application/json"}})}async#n(t,r=!0){if(t.ok)return r?t.json():t;let n=await t.text();throw new nu(t.status,n||t.statusText)}};w();w();var nF=Symbol("Comlink.proxy"),uY=Symbol("Comlink.endpoint"),cY=Symbol("Comlink.releaseProxy"),SS=Symbol("Comlink.finalizer"),o1=Symbol("Comlink.thrown"),iF=e=>typeof e=="object"&&e!==null||typeof e=="function",dY={canHandle:e=>iF(e)&&e[nF],serialize(e){let{port1:t,port2:r}=new MessageChannel;return u1(e,t),[r,[r]]},deserialize(e){return e.start(),kS(e)}},fY={canHandle:e=>iF(e)&&o1 in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},oF=new Map([["proxy",dY],["throw",fY]]);function hY(e,t){for(let r of e)if(t===r||r==="*"||r instanceof RegExp&&r.test(t))return!0;return!1}function u1(e,t=globalThis,r=["*"]){t.addEventListener("message",function n(i){if(!i||!i.data)return;if(!hY(r,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}let{id:o,type:a,path:s}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(Hc),u;try{let c=s.slice(0,-1).reduce((f,h)=>f[h],e),d=s.reduce((f,h)=>f[h],e);switch(a){case"GET":u=d;break;case"SET":c[s.slice(-1)[0]]=Hc(i.data.value),u=!0;break;case"APPLY":u=d.apply(c,l);break;case"CONSTRUCT":{let f=new d(...l);u=wY(f)}break;case"ENDPOINT":{let{port1:f,port2:h}=new MessageChannel;u1(e,h),u=yY(f,[f])}break;case"RELEASE":u=void 0;break;default:return}}catch(c){u={value:c,[o1]:0}}Promise.resolve(u).catch(c=>({value:c,[o1]:0})).then(c=>{let[d,f]=l1(c);t.postMessage(Object.assign(Object.assign({},d),{id:o}),f),a==="RELEASE"&&(t.removeEventListener("message",n),aF(t),SS in e&&typeof e[SS]=="function"&&e[SS]())}).catch(c=>{let[d,f]=l1({value:new TypeError("Unserializable return value"),[o1]:0});t.postMessage(Object.assign(Object.assign({},d),{id:o}),f)})}),t.start&&t.start()}function pY(e){return e.constructor.name==="MessagePort"}function aF(e){pY(e)&&e.close()}function kS(e,t){let r=new Map;return e.addEventListener("message",function(i){let{data:o}=i;if(!o||!o.id)return;let a=r.get(o.id);if(a)try{a(o)}finally{r.delete(o.id)}}),CS(e,r,[],t)}function i1(e){if(e)throw new Error("Proxy has been released and is not useable")}function sF(e){return yf(e,new Map,{type:"RELEASE"}).then(()=>{aF(e)})}var a1=new WeakMap,s1="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(a1.get(e)||0)-1;a1.set(e,t),t===0&&sF(e)});function mY(e,t){let r=(a1.get(t)||0)+1;a1.set(t,r),s1&&s1.register(e,t,e)}function gY(e){s1&&s1.unregister(e)}function CS(e,t,r=[],n=function(){}){let i=!1,o=new Proxy(n,{get(a,s){if(i1(i),s===cY)return()=>{gY(o),sF(e),t.clear(),i=!0};if(s==="then"){if(r.length===0)return{then:()=>o};let l=yf(e,t,{type:"GET",path:r.map(u=>u.toString())}).then(Hc);return l.then.bind(l)}return CS(e,t,[...r,s])},set(a,s,l){i1(i);let[u,c]=l1(l);return yf(e,t,{type:"SET",path:[...r,s].map(d=>d.toString()),value:u},c).then(Hc)},apply(a,s,l){i1(i);let u=r[r.length-1];if(u===uY)return yf(e,t,{type:"ENDPOINT"}).then(Hc);if(u==="bind")return CS(e,t,r.slice(0,-1));let[c,d]=rF(l);return yf(e,t,{type:"APPLY",path:r.map(f=>f.toString()),argumentList:c},d).then(Hc)},construct(a,s){i1(i);let[l,u]=rF(s);return yf(e,t,{type:"CONSTRUCT",path:r.map(c=>c.toString()),argumentList:l},u).then(Hc)}});return mY(o,e),o}function vY(e){return Array.prototype.concat.apply([],e)}function rF(e){let t=e.map(l1);return[t.map(r=>r[0]),vY(t.map(r=>r[1]))]}var lF=new WeakMap;function yY(e,t){return lF.set(e,t),e}function wY(e){return Object.assign(e,{[nF]:!0})}function l1(e){for(let[t,r]of oF)if(r.canHandle(e)){let[n,i]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},i]}return[{type:"RAW",value:e},lF.get(e)||[]]}function Hc(e){switch(e.type){case"HANDLER":return oF.get(e.name).deserialize(e.value);case"RAW":return e.value}}function yf(e,t,r,n){return new Promise(i=>{let o=bY();t.set(o,i),e.start&&e.start(),e.postMessage(Object.assign({id:o},r),n)})}function bY(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}w();var Kt=class uF extends Event{constructor(t){super(uF.type),this.data=t}static type="index"};w();var c1=class{#e;constructor(e,t){this.#e=new Promise((r,n)=>{let i=e.open(t);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error),i.onupgradeneeded=()=>{let o=i.result;o.createObjectStore("blobs"),o.createObjectStore("tree")}})}async getTree(){let e=await this.#e;return new Promise((t,r)=>{let o=e.transaction(["tree"],"readonly").objectStore("tree").get("tree");o.onsuccess=a=>{let s=a.target.result;t(s?new Po(s):Po.EMPTY)},o.onerror=a=>r(a.target.error)})}async getTreeIfDifferent(e){let t=await this.getTree();return t.sha===e?void 0:t}async*getBlobs(e){let n=(await this.#e).transaction(["blobs"],"readonly").objectStore("blobs");for(let i of e){let o=n.get(i);yield new Promise((a,s)=>{o.onsuccess=l=>{let u=l.target.result;u?a([i,u]):s(new Error(`Blob not found: ${i}`))},o.onerror=l=>s(l.target.error)})}}async applyChanges(e){let t=await this.#e,n=(await this.getTree()).clone();n.applyChanges(e);let i=await n.compile(),o=t.transaction(["blobs","tree"],"readwrite"),a=o.objectStore("blobs");o.objectStore("tree").put(i.toJSON(),"tree");for(let l of e.changes)switch(l.op){case"add":a.put(l.contents,l.sha);break;case"delete":a.delete(l.sha);break}return new Promise((l,u)=>{o.oncomplete=()=>l(),o.onerror=c=>u(c.target.error)})}};var _V=A($_(),1);w();w();w();var PJ=0;function Q(e,t){let r=`atom${++PJ}`,n={toString(){return(import.meta.env?"production":void 0)!=="production"&&this.debugLabel?r+":"+this.debugLabel:r}};return typeof e=="function"?n.read=e:(n.init=e,n.read=LJ,n.write=zJ),t&&(n.write=t),n}function LJ(e){return e(this)}function zJ(e,t,r){return t(this,typeof r=="function"?r(e(this)):r)}var U_=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,Wk=e=>"init"in e,qk=e=>!!e.write,i0=Symbol((import.meta.env?"production":void 0)!=="production"?"CONTINUE_PROMISE":""),Yk="pending",VJ="fulfilled",HJ="rejected",jJ=e=>typeof e=="object"&&e!==null&&i0 in e,_y=new WeakMap,$J=(e,t,r)=>{if(!_y.has(e)){let n,i=new Promise((o,a)=>{let s=e,l=c=>d=>{s===c&&(i.status=VJ,i.value=d,o(d),r())},u=c=>d=>{s===c&&(i.status=HJ,i.reason=d,a(d),r())};e.then(l(e),u(e)),n=(c,d)=>{c&&(_y.set(c,i),s=c,c.then(l(c),u(c)),t(),t=d)}});i.status=Yk,i[i0]=n,_y.set(e,i)}return _y.get(e)},UJ=e=>typeof e?.then=="function",W_=e=>"v"in e||"e"in e,Oy=e=>{if("e"in e)throw e.e;if((import.meta.env?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},By=e=>{let t=e.v;return jJ(t)&&t.status===Yk?t:null},Y_=(e,t,r)=>{r.p.has(e)||(r.p.add(e),t.then(()=>{r.p.delete(e)},()=>{r.p.delete(e)}))},q_=(e,t,r,n,i)=>{var o;if((import.meta.env?"production":void 0)!=="production"&&n===t)throw new Error("[Bug] atom cannot depend on itself");r.d.set(n,i.n);let a=By(r);a&&Y_(t,a,i),(o=i.m)==null||o.t.add(t),e&&WJ(e,n,t)},Gf=()=>[new Map,new Map,new Set],Kk=(e,t,r)=>{e[0].has(t)||e[0].set(t,new Set),e[1].set(t,r)},WJ=(e,t,r)=>{let n=e[0].get(t);n&&n.add(r)},qJ=(e,t)=>e[0].get(t),K_=(e,t)=>{e[2].add(t)},nd=e=>{for(;e[1].size||e[2].size;){e[0].clear();let t=new Set(e[1].values());e[1].clear();let r=new Set(e[2]);e[2].clear(),t.forEach(n=>{var i;return(i=n.m)==null?void 0:i.l.forEach(o=>o())}),r.forEach(n=>n())}},G_=e=>{let t;(import.meta.env?"production":void 0)!=="production"&&(t=new Set);let r=(m,v,g,y=()=>{},b=()=>{})=>{let x="v"in v,S=v.v,E=By(v);if(UJ(g))if(E)E!==g&&(E[i0](g,y),++v.n);else{let I=$J(g,y,b);if(I.status===Yk)for(let k of v.d.keys())Y_(m,I,e(k,v));v.v=I,delete v.e}else E&&E[i0](Promise.resolve(g),y),v.v=g,delete v.e;(!x||!Object.is(S,v.v))&&++v.n},n=(m,v,g,y)=>{if(!y?.(v)&&W_(g)&&(g.m||Array.from(g.d).every(([k,D])=>n(m,k,e(k,g),y).n===D)))return g;g.d.clear();let b=!0,x=k=>{if(U_(v,k)){let F=e(k,g);if(!W_(F))if(Wk(k))r(k,F,k.init);else throw new Error("no atom init");return Oy(F)}let D=n(m,k,e(k,g),y);if(b)q_(m,v,g,k,D);else{let F=Gf();q_(F,v,g,k,D),u(F,v,g),nd(F)}return Oy(D)},S,E,I={get signal(){return S||(S=new AbortController),S.signal},get setSelf(){return(import.meta.env?"production":void 0)!=="production"&&!qk(v)&&console.warn("setSelf function cannot be used with read-only atom"),!E&&qk(v)&&(E=(...k)=>{if((import.meta.env?"production":void 0)!=="production"&&b&&console.warn("setSelf function cannot be called in sync"),!b)return l(v,...k)}),E}};try{let k=v.read(x,I);return r(v,g,k,()=>S?.abort(),()=>{if(g.m){let D=Gf();u(D,v,g),nd(D)}}),g}catch(k){return delete g.v,g.e=k,++g.n,g}finally{b=!1}},i=m=>Oy(n(void 0,m,e(m))),o=(m,v,g)=>{var y,b;let x=new Map;for(let S of((y=g.m)==null?void 0:y.t)||[])x.set(S,e(S,g));for(let S of g.p)x.set(S,e(S,g));return(b=qJ(m,v))==null||b.forEach(S=>{x.set(S,e(S,g))}),x},a=(m,v,g)=>{let y=[],b=new Set,x=(I,k)=>{if(!b.has(I)){b.add(I);for(let[D,F]of o(m,I,k))I!==D&&x(D,F);y.push([I,k,k.n])}};x(v,g);let S=new Set([v]),E=I=>b.has(I);for(let I=y.length-1;I>=0;--I){let[k,D,F]=y[I],T=!1;for(let R of D.d.keys())if(R!==k&&S.has(R)){T=!0;break}T&&(n(m,k,D,E),u(m,k,D),F!==D.n&&(Kk(m,k,D),S.add(k))),b.delete(k)}},s=(m,v,g,...y)=>{let b=E=>Oy(n(m,E,e(E,g))),x=(E,...I)=>{let k=e(E,g),D;if(U_(v,E)){if(!Wk(E))throw new Error("atom not writable");let F="v"in k,T=k.v,R=I[0];r(E,k,R),u(m,E,k),(!F||!Object.is(T,k.v))&&(Kk(m,E,k),a(m,E,k))}else D=s(m,E,k,...I);return nd(m),D};return v.write(b,x,...y)},l=(m,...v)=>{let g=Gf(),y=s(g,m,e(m),...v);return nd(g),y},u=(m,v,g)=>{if(g.m&&!By(g)){for(let y of g.d.keys())g.m.d.has(y)||(c(m,y,e(y,g)).t.add(v),g.m.d.add(y));for(let y of g.m.d||[])if(!g.d.has(y)){g.m.d.delete(y);let b=d(m,y,e(y,g));b?.t.delete(v)}}},c=(m,v,g)=>{if(!g.m){n(m,v,g);for(let y of g.d.keys())c(m,y,e(y,g)).t.add(v);if(g.m={l:new Set,d:new Set(g.d.keys()),t:new Set},(import.meta.env?"production":void 0)!=="production"&&t.add(v),qk(v)&&v.onMount){let y=g.m,{onMount:b}=v;K_(m,()=>{let x=b((...S)=>s(m,v,g,...S));x&&(y.u=x)})}}return g.m},d=(m,v,g)=>{if(g.m&&!g.m.l.size&&!Array.from(g.m.t).some(y=>{var b;return(b=e(y,g).m)==null?void 0:b.d.has(v)})){let y=g.m.u;y&&K_(m,y),delete g.m,(import.meta.env?"production":void 0)!=="production"&&t.delete(v);for(let x of g.d.keys()){let S=d(m,x,e(x,g));S?.t.delete(v)}let b=By(g);b&&b[i0](void 0,()=>{});return}return g.m},p={get:i,set:l,sub:(m,v)=>{let g=Gf(),y=e(m),b=c(g,m,y);nd(g);let x=b.l;return x.add(v),()=>{x.delete(v);let S=Gf();d(S,m,y),nd(S)}},unstable_derive:m=>G_(...m(e))};return(import.meta.env?"production":void 0)!=="production"&&Object.assign(p,{dev4_get_internal_weak_map:()=>({get:v=>{let g=e(v);if(g.n!==0)return g}}),dev4_get_mounted_atoms:()=>t,dev4_restore_atoms:v=>{let g=Gf();for(let[y,b]of v)if(Wk(y)){let x=e(y),S="v"in x,E=x.v;r(y,x,b),u(g,y,x),(!S||!Object.is(E,x.v))&&(Kk(g,y,x),a(g,y,x))}nd(g)}}),p},KJ=()=>{let e=new WeakMap;return G_(r=>{let n=e.get(r);return n||(n={d:new Map,p:new Set,n:0},e.set(r,n)),n})},n0,J_=()=>(n0||(n0=KJ(),(import.meta.env?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=n0),globalThis.__JOTAI_DEFAULT_STORE__!==n0&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),n0);var Hi=A($(),1),YJ=(0,Hi.createContext)(void 0),Ny=e=>{let t=(0,Hi.useContext)(YJ);return e?.store||t||J_()},GJ=e=>typeof e?.then=="function",JJ=Hi.default.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function oe(e,t){let r=Ny(t),[[n,i,o],a]=(0,Hi.useReducer)(u=>{let c=r.get(e);return Object.is(u[0],c)&&u[1]===r&&u[2]===e?u:[c,r,e]},void 0,()=>[r.get(e),r,e]),s=n;(i!==r||o!==e)&&(a(),s=r.get(e));let l=t?.delay;return(0,Hi.useEffect)(()=>{let u=r.sub(e,()=>{if(typeof l=="number"){setTimeout(a,l);return}a()});return a(),u},[r,e,l]),(0,Hi.useDebugValue)(s),GJ(s)?JJ(s):s}function rt(e,t){let r=Ny(t);return(0,Hi.useCallback)((...i)=>{if((import.meta.env?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return r.set(e,...i)},[r,e])}function mo(e,t){return[oe(e,t),rt(e,t)]}w();w();w();var Tu=A($(),1),Jf=A($(),1),t5=A($(),1),mO=A(pi(),1);function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},It.apply(null,arguments)}var Vy=typeof window>"u";function Wn(){}function QJ(e,t){return typeof e=="function"?e(t):e}function Gk(e){return typeof e=="number"&&e>=0&&e!==1/0}function Hy(e){return Array.isArray(e)?e:[e]}function oO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Py(e,t,r){return qy(e)?typeof t=="function"?It({},r,{queryKey:e,queryFn:t}):It({},t,{queryKey:e}):e}function Au(e,t,r){return qy(e)?[It({},t,{queryKey:e}),r]:[e||{},t]}function XJ(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var r=e??!t;return r?"active":"inactive"}function Q_(e,t){var r=e.active,n=e.exact,i=e.fetching,o=e.inactive,a=e.predicate,s=e.queryKey,l=e.stale;if(qy(s)){if(n){if(t.queryHash!==Zk(s,t.options))return!1}else if(!jy(t.queryKey,s))return!1}var u=XJ(r,o);if(u==="none")return!1;if(u!=="all"){var c=t.isActive();if(u==="active"&&!c||u==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||typeof i=="boolean"&&t.isFetching()!==i||a&&!a(t))}function X_(e,t){var r=e.exact,n=e.fetching,i=e.predicate,o=e.mutationKey;if(qy(o)){if(!t.options.mutationKey)return!1;if(r){if(id(t.options.mutationKey)!==id(o))return!1}else if(!jy(t.options.mutationKey,o))return!1}return!(typeof n=="boolean"&&t.state.status==="loading"!==n||i&&!i(t))}function Zk(e,t){var r=t?.queryKeyHashFn||id;return r(e)}function id(e){var t=Hy(e);return ZJ(t)}function ZJ(e){return JSON.stringify(e,function(t,r){return Jk(r)?Object.keys(r).sort().reduce(function(n,i){return n[i]=r[i],n},{}):r})}function jy(e,t){return aO(Hy(e),Hy(t))}function aO(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(r){return!aO(e[r],t[r])}):!1}function $y(e,t){if(e===t)return e;var r=Array.isArray(e)&&Array.isArray(t);if(r||Jk(e)&&Jk(t)){for(var n=r?e.length:Object.keys(e).length,i=r?t:Object.keys(t),o=i.length,a=r?[]:{},s=0,l=0;l<o;l++){var u=r?l:i[l];a[u]=$y(e[u],t[u]),a[u]===e[u]&&s++}return n===o&&s===n?e:a}return t}function eQ(e,t){if(e&&!t||t&&!e)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function Jk(e){if(!Z_(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var r=t.prototype;return!(!Z_(r)||!r.hasOwnProperty("isPrototypeOf"))}function Z_(e){return Object.prototype.toString.call(e)==="[object Object]"}function qy(e){return typeof e=="string"||Array.isArray(e)}function tQ(e){return new Promise(function(t){setTimeout(t,e)})}function eO(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function sO(){if(typeof AbortController=="function")return new AbortController}function Qk(e,t){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Qk(e,t)}function a0(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Qk(e,t)}var rQ=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var t=e.prototype;return t.batch=function(n){var i;this.transactions++;try{i=n()}finally{this.transactions--,this.transactions||this.flush()}return i},t.schedule=function(n){var i=this;this.transactions?this.queue.push(n):eO(function(){i.notifyFn(n)})},t.batchCalls=function(n){var i=this;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];i.schedule(function(){n.apply(void 0,a)})}},t.flush=function(){var n=this,i=this.queue;this.queue=[],i.length&&eO(function(){n.batchNotifyFn(function(){i.forEach(function(o){n.notifyFn(o)})})})},t.setNotifyFunction=function(n){this.notifyFn=n},t.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},e}(),Dr=new rQ,lO=console;function Uy(){return lO}function nQ(e){lO=e}var s0=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(n){var i=this,o=n||function(){};return this.listeners.push(o),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(a){return a!==o}),i.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}(),iQ=function(e){a0(t,e);function t(){var n;return n=e.call(this)||this,n.setup=function(i){var o;if(!Vy&&((o=window)!=null&&o.addEventListener)){var a=function(){return i()};return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),function(){window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}},n}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var o,a=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(s){typeof s=="boolean"?a.setFocused(s):a.onFocus()})},r.setFocused=function(i){this.focused=i,i&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(i){i()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(s0),o0=new iQ,oQ=function(e){a0(t,e);function t(){var n;return n=e.call(this)||this,n.setup=function(i){var o;if(!Vy&&((o=window)!=null&&o.addEventListener)){var a=function(){return i()};return window.addEventListener("online",a,!1),window.addEventListener("offline",a,!1),function(){window.removeEventListener("online",a),window.removeEventListener("offline",a)}}},n}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var o,a=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(s){typeof s=="boolean"?a.setOnline(s):a.onOnline()})},r.setOnline=function(i){this.online=i,i&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(i){i()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(s0),Ly=new oQ;function aQ(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Wy(e){return typeof e?.cancel=="function"}var uO=function(t){this.revert=t?.revert,this.silent=t?.silent};function zy(e){return e instanceof uO}var cO=function(t){var r=this,n=!1,i,o,a,s;this.abort=t.abort,this.cancel=function(f){return i?.(f)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return o?.()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,h){a=f,s=h});var l=function(h){r.isResolved||(r.isResolved=!0,t.onSuccess==null||t.onSuccess(h),o?.(),a(h))},u=function(h){r.isResolved||(r.isResolved=!0,t.onError==null||t.onError(h),o?.(),s(h))},c=function(){return new Promise(function(h){o=h,r.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){o=void 0,r.isPaused=!1,t.onContinue==null||t.onContinue()})},d=function f(){if(!r.isResolved){var h;try{h=t.fn()}catch(p){h=Promise.reject(p)}i=function(m){if(!r.isResolved&&(u(new uO(m)),r.abort==null||r.abort(),Wy(h)))try{h.cancel()}catch{}},r.isTransportCancelable=Wy(h),Promise.resolve(h).then(l).catch(function(p){var m,v;if(!r.isResolved){var g=(m=t.retry)!=null?m:3,y=(v=t.retryDelay)!=null?v:aQ,b=typeof y=="function"?y(r.failureCount,p):y,x=g===!0||typeof g=="number"&&r.failureCount<g||typeof g=="function"&&g(r.failureCount,p);if(n||!x){u(p);return}r.failureCount++,t.onFail==null||t.onFail(r.failureCount,p),tQ(b).then(function(){if(!o0.isFocused()||!Ly.isOnline())return c()}).then(function(){n?u(p):f()})}})}};d()},sQ=function(){function e(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(n){var i;this.options=It({},this.defaultOptions,n),this.meta=n?.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},t.setDefaultOptions=function(n){this.defaultOptions=n},t.scheduleGc=function(){var n=this;this.clearGcTimeout(),Gk(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(n,i){var o,a,s=this.state.data,l=QJ(n,s);return(o=(a=this.options).isDataEqual)!=null&&o.call(a,s,l)?l=s:this.options.structuralSharing!==!1&&(l=$y(s,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i?.updatedAt}),l},t.setState=function(n,i){this.dispatch({type:"setState",state:n,setStateOptions:i})},t.cancel=function(n){var i,o=this.promise;return(i=this.retryer)==null||i.cancel(n),o?o.then(Wn).catch(Wn):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},t.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!oO(this.state.dataUpdatedAt,n)},t.onFocus=function(){var n,i=this.observers.find(function(o){return o.shouldFetchOnWindowFocus()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},t.onOnline=function(){var n,i=this.observers.find(function(o){return o.shouldFetchOnReconnect()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},t.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},t.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(i){return i!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(n,i){var o=this,a,s,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&i?.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var c=this.observers.find(function(y){return y.options.queryFn});c&&this.setOptions(c.options)}var d=Hy(this.queryKey),f=sO(),h={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(h,"signal",{enumerable:!0,get:function(){if(f)return o.abortSignalConsumed=!0,f.signal}});var p=function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(h)):Promise.reject("Missing queryFn")},m={fetchOptions:i,options:this.options,queryKey:d,state:this.state,fetchFn:p,meta:this.meta};if((a=this.options.behavior)!=null&&a.onFetch){var v;(v=this.options.behavior)==null||v.onFetch(m)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((s=m.fetchOptions)==null?void 0:s.meta)){var g;this.dispatch({type:"fetch",meta:(g=m.fetchOptions)==null?void 0:g.meta})}return this.retryer=new cO({fn:m.fetchFn,abort:f==null||(l=f.abort)==null?void 0:l.bind(f),onSuccess:function(b){o.setData(b),o.cache.config.onSuccess==null||o.cache.config.onSuccess(b,o),o.cacheTime===0&&o.optionalRemove()},onError:function(b){zy(b)&&b.silent||o.dispatch({type:"error",error:b}),zy(b)||(o.cache.config.onError==null||o.cache.config.onError(b,o),Uy().error(b)),o.cacheTime===0&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(n){var i=this;this.state=this.reducer(this.state,n),Dr.batch(function(){i.observers.forEach(function(o){o.onQueryUpdate(n)}),i.cache.notify({query:i,type:"queryUpdated",action:n})})},t.getDefaultState=function(n){var i=typeof n.initialData=="function"?n.initialData():n.initialData,o=typeof n.initialData<"u",a=o?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,s=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:s?"success":"idle"}},t.reducer=function(n,i){var o,a;switch(i.type){case"failed":return It({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return It({},n,{isPaused:!0});case"continue":return It({},n,{isPaused:!1});case"fetch":return It({},n,{fetchFailureCount:0,fetchMeta:(o=i.meta)!=null?o:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return It({},n,{data:i.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(a=i.dataUpdatedAt)!=null?a:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var s=i.error;return zy(s)&&s.revert&&this.revertState?It({},this.revertState):It({},n,{error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return It({},n,{isInvalidated:!0});case"setState":return It({},n,i.state);default:return n}},e}(),lQ=function(e){a0(t,e);function t(n){var i;return i=e.call(this)||this,i.config=n||{},i.queries=[],i.queriesMap={},i}var r=t.prototype;return r.build=function(i,o,a){var s,l=o.queryKey,u=(s=o.queryHash)!=null?s:Zk(l,o),c=this.get(u);return c||(c=new sQ({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(o),state:a,defaultOptions:i.getQueryDefaults(l),meta:o.meta}),this.add(c)),c},r.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},r.remove=function(i){var o=this.queriesMap[i.queryHash];o&&(i.destroy(),this.queries=this.queries.filter(function(a){return a!==i}),o===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},r.clear=function(){var i=this;Dr.batch(function(){i.queries.forEach(function(o){i.remove(o)})})},r.get=function(i){return this.queriesMap[i]},r.getAll=function(){return this.queries},r.find=function(i,o){var a=Au(i,o),s=a[0];return typeof s.exact>"u"&&(s.exact=!0),this.queries.find(function(l){return Q_(s,l)})},r.findAll=function(i,o){var a=Au(i,o),s=a[0];return Object.keys(s).length>0?this.queries.filter(function(l){return Q_(s,l)}):this.queries},r.notify=function(i){var o=this;Dr.batch(function(){o.listeners.forEach(function(a){a(i)})})},r.onFocus=function(){var i=this;Dr.batch(function(){i.queries.forEach(function(o){o.onFocus()})})},r.onOnline=function(){var i=this;Dr.batch(function(){i.queries.forEach(function(o){o.onOnline()})})},t}(s0),uQ=function(){function e(r){this.options=It({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||cQ(),this.meta=r.meta}var t=e.prototype;return t.setState=function(n){this.dispatch({type:"setState",state:n})},t.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},t.removeObserver=function(n){this.observers=this.observers.filter(function(i){return i!==n})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Wn).catch(Wn)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var n=this,i,o=this.state.status==="loading",a=Promise.resolve();return o||(this.dispatch({type:"loading",variables:this.options.variables}),a=a.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(s){s!==n.state.context&&n.dispatch({type:"loading",context:s,variables:n.state.variables})})),a.then(function(){return n.executeMutation()}).then(function(s){i=s,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(i,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(i,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(i,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:i}),i}).catch(function(s){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(s,n.state.variables,n.state.context,n),Uy().error(s),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(s,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,s,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:s}),s})})},t.executeMutation=function(){var n=this,i;return this.retryer=new cO({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(n){var i=this;this.state=dQ(this.state,n),Dr.batch(function(){i.observers.forEach(function(o){o.onMutationUpdate(n)}),i.mutationCache.notify(i)})},e}();function cQ(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function dQ(e,t){switch(t.type){case"failed":return It({},e,{failureCount:e.failureCount+1});case"pause":return It({},e,{isPaused:!0});case"continue":return It({},e,{isPaused:!1});case"loading":return It({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return It({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return It({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return It({},e,t.state);default:return e}}var fQ=function(e){a0(t,e);function t(n){var i;return i=e.call(this)||this,i.config=n||{},i.mutations=[],i.mutationId=0,i}var r=t.prototype;return r.build=function(i,o,a){var s=new uQ({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(o),state:a,defaultOptions:o.mutationKey?i.getMutationDefaults(o.mutationKey):void 0,meta:o.meta});return this.add(s),s},r.add=function(i){this.mutations.push(i),this.notify(i)},r.remove=function(i){this.mutations=this.mutations.filter(function(o){return o!==i}),i.cancel(),this.notify(i)},r.clear=function(){var i=this;Dr.batch(function(){i.mutations.forEach(function(o){i.remove(o)})})},r.getAll=function(){return this.mutations},r.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(o){return X_(i,o)})},r.findAll=function(i){return this.mutations.filter(function(o){return X_(i,o)})},r.notify=function(i){var o=this;Dr.batch(function(){o.listeners.forEach(function(a){a(i)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var i=this.mutations.filter(function(o){return o.state.isPaused});return Dr.batch(function(){return i.reduce(function(o,a){return o.then(function(){return a.continue().catch(Wn)})},Promise.resolve())})},t}(s0);function hQ(){return{onFetch:function(t){t.fetchFn=function(){var r,n,i,o,a,s,l=(r=t.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,u=(i=t.fetchOptions)==null||(o=i.meta)==null?void 0:o.fetchMore,c=u?.pageParam,d=u?.direction==="forward",f=u?.direction==="backward",h=((a=t.state.data)==null?void 0:a.pages)||[],p=((s=t.state.data)==null?void 0:s.pageParams)||[],m=sO(),v=m?.signal,g=p,y=!1,b=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},x=function(M,L,V,U){return g=U?[L].concat(g):[].concat(g,[L]),U?[V].concat(M):[].concat(M,[V])},S=function(M,L,V,U){if(y)return Promise.reject("Cancelled");if(typeof V>"u"&&!L&&M.length)return Promise.resolve(M);var N={queryKey:t.queryKey,signal:v,pageParam:V,meta:t.meta},H=b(N),O=Promise.resolve(H).then(function(B){return x(M,V,B,U)});if(Wy(H)){var J=O;J.cancel=H.cancel}return O},E;if(!h.length)E=S([]);else if(d){var I=typeof c<"u",k=I?c:tO(t.options,h);E=S(h,I,k)}else if(f){var D=typeof c<"u",F=D?c:pQ(t.options,h);E=S(h,D,F,!0)}else(function(){g=[];var _=typeof t.options.getNextPageParam>"u",M=l&&h[0]?l(h[0],0,h):!0;E=M?S([],_,p[0]):Promise.resolve(x([],p[0],h[0]));for(var L=function(N){E=E.then(function(H){var O=l&&h[N]?l(h[N],N,h):!0;if(O){var J=_?p[N]:tO(t.options,H);return S(H,_,J)}return Promise.resolve(x(H,p[N],h[N]))})},V=1;V<h.length;V++)L(V)})();var T=E.then(function(_){return{pages:_,pageParams:g}}),R=T;return R.cancel=function(){y=!0,m?.abort(),Wy(E)&&E.cancel()},T}}}}function tO(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function pQ(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var dO=function(){function e(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new lQ,this.mutationCache=r.mutationCache||new fQ,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var n=this;this.unsubscribeFocus=o0.subscribe(function(){o0.isFocused()&&Ly.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=Ly.subscribe(function(){o0.isFocused()&&Ly.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},t.unmount=function(){var n,i;(n=this.unsubscribeFocus)==null||n.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},t.isFetching=function(n,i){var o=Au(n,i),a=o[0];return a.fetching=!0,this.queryCache.findAll(a).length},t.isMutating=function(n){return this.mutationCache.findAll(It({},n,{fetching:!0})).length},t.getQueryData=function(n,i){var o;return(o=this.queryCache.find(n,i))==null?void 0:o.state.data},t.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(i){var o=i.queryKey,a=i.state,s=a.data;return[o,s]})},t.setQueryData=function(n,i,o){var a=Py(n),s=this.defaultQueryOptions(a);return this.queryCache.build(this,s).setData(i,o)},t.setQueriesData=function(n,i,o){var a=this;return Dr.batch(function(){return a.getQueryCache().findAll(n).map(function(s){var l=s.queryKey;return[l,a.setQueryData(l,i,o)]})})},t.getQueryState=function(n,i){var o;return(o=this.queryCache.find(n,i))==null?void 0:o.state},t.removeQueries=function(n,i){var o=Au(n,i),a=o[0],s=this.queryCache;Dr.batch(function(){s.findAll(a).forEach(function(l){s.remove(l)})})},t.resetQueries=function(n,i,o){var a=this,s=Au(n,i,o),l=s[0],u=s[1],c=this.queryCache,d=It({},l,{active:!0});return Dr.batch(function(){return c.findAll(l).forEach(function(f){f.reset()}),a.refetchQueries(d,u)})},t.cancelQueries=function(n,i,o){var a=this,s=Au(n,i,o),l=s[0],u=s[1],c=u===void 0?{}:u;typeof c.revert>"u"&&(c.revert=!0);var d=Dr.batch(function(){return a.queryCache.findAll(l).map(function(f){return f.cancel(c)})});return Promise.all(d).then(Wn).catch(Wn)},t.invalidateQueries=function(n,i,o){var a,s,l,u=this,c=Au(n,i,o),d=c[0],f=c[1],h=It({},d,{active:(a=(s=d.refetchActive)!=null?s:d.active)!=null?a:!0,inactive:(l=d.refetchInactive)!=null?l:!1});return Dr.batch(function(){return u.queryCache.findAll(d).forEach(function(p){p.invalidate()}),u.refetchQueries(h,f)})},t.refetchQueries=function(n,i,o){var a=this,s=Au(n,i,o),l=s[0],u=s[1],c=Dr.batch(function(){return a.queryCache.findAll(l).map(function(f){return f.fetch(void 0,It({},u,{meta:{refetchPage:l?.refetchPage}}))})}),d=Promise.all(c).then(Wn);return u?.throwOnError||(d=d.catch(Wn)),d},t.fetchQuery=function(n,i,o){var a=Py(n,i,o),s=this.defaultQueryOptions(a);typeof s.retry>"u"&&(s.retry=!1);var l=this.queryCache.build(this,s);return l.isStaleByTime(s.staleTime)?l.fetch(s):Promise.resolve(l.state.data)},t.prefetchQuery=function(n,i,o){return this.fetchQuery(n,i,o).then(Wn).catch(Wn)},t.fetchInfiniteQuery=function(n,i,o){var a=Py(n,i,o);return a.behavior=hQ(),this.fetchQuery(a)},t.prefetchInfiniteQuery=function(n,i,o){return this.fetchInfiniteQuery(n,i,o).then(Wn).catch(Wn)},t.cancelMutations=function(){var n=this,i=Dr.batch(function(){return n.mutationCache.getAll().map(function(o){return o.cancel()})});return Promise.all(i).then(Wn).catch(Wn)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(n){this.defaultOptions=n},t.setQueryDefaults=function(n,i){var o=this.queryDefaults.find(function(a){return id(n)===id(a.queryKey)});o?o.defaultOptions=i:this.queryDefaults.push({queryKey:n,defaultOptions:i})},t.getQueryDefaults=function(n){var i;return n?(i=this.queryDefaults.find(function(o){return jy(n,o.queryKey)}))==null?void 0:i.defaultOptions:void 0},t.setMutationDefaults=function(n,i){var o=this.mutationDefaults.find(function(a){return id(n)===id(a.mutationKey)});o?o.defaultOptions=i:this.mutationDefaults.push({mutationKey:n,defaultOptions:i})},t.getMutationDefaults=function(n){var i;return n?(i=this.mutationDefaults.find(function(o){return jy(n,o.mutationKey)}))==null?void 0:i.defaultOptions:void 0},t.defaultQueryOptions=function(n){if(n?._defaulted)return n;var i=It({},this.defaultOptions.queries,this.getQueryDefaults(n?.queryKey),n,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Zk(i.queryKey,i)),i},t.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},t.defaultMutationOptions=function(n){return n?._defaulted?n:It({},this.defaultOptions.mutations,this.getMutationDefaults(n?.mutationKey),n,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),mQ=function(e){a0(t,e);function t(n,i){var o;return o=e.call(this)||this,o.client=n,o.options=i,o.trackedProps=[],o.selectError=null,o.bindMethods(),o.setOptions(i),o}var r=t.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),rO(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return Xk(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return Xk(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(i,o){var a=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();var l=this.hasListeners();l&&nO(this.currentQuery,s,this.options,a)&&this.executeFetch(),this.updateResult(o),l&&(this.currentQuery!==s||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==s||this.options.enabled!==a.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},r.getOptimisticResult=function(i){var o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return this.createResult(a,o)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(i,o){var a=this,s={},l=function(c){a.trackedProps.includes(c)||a.trackedProps.push(c)};return Object.keys(i).forEach(function(u){Object.defineProperty(s,u,{configurable:!1,enumerable:!0,get:function(){return l(u),i[u]}})}),(o.useErrorBoundary||o.suspense)&&l("error"),s},r.getNextResult=function(i){var o=this;return new Promise(function(a,s){var l=o.subscribe(function(u){u.isFetching||(l(),u.isError&&i?.throwOnError?s(u.error):a(u))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(i){return this.fetch(It({},i,{meta:{refetchPage:i?.refetchPage}}))},r.fetchOptimistic=function(i){var o=this,a=this.client.defaultQueryObserverOptions(i),s=this.client.getQueryCache().build(this.client,a);return s.fetch().then(function(){return o.createResult(s,a)})},r.fetch=function(i){var o=this;return this.executeFetch(i).then(function(){return o.updateResult(),o.currentResult})},r.executeFetch=function(i){this.updateQuery();var o=this.currentQuery.fetch(this.options,i);return i?.throwOnError||(o=o.catch(Wn)),o},r.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Vy||this.currentResult.isStale||!Gk(this.options.staleTime))){var o=oO(this.currentResult.dataUpdatedAt,this.options.staleTime),a=o+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},a)}},r.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},r.updateRefetchInterval=function(i){var o=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Vy||this.options.enabled===!1||!Gk(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(o.options.refetchIntervalInBackground||o0.isFocused())&&o.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(i,o){var a=this.currentQuery,s=this.options,l=this.currentResult,u=this.currentResultState,c=this.currentResultOptions,d=i!==a,f=d?i.state:this.currentQueryInitialState,h=d?this.currentResult:this.previousQueryResult,p=i.state,m=p.dataUpdatedAt,v=p.error,g=p.errorUpdatedAt,y=p.isFetching,b=p.status,x=!1,S=!1,E;if(o.optimisticResults){var I=this.hasListeners(),k=!I&&rO(i,o),D=I&&nO(i,a,o,s);(k||D)&&(y=!0,m||(b="loading"))}if(o.keepPreviousData&&!p.dataUpdateCount&&h?.isSuccess&&b!=="error")E=h.data,m=h.dataUpdatedAt,b=h.status,x=!0;else if(o.select&&typeof p.data<"u")if(l&&p.data===u?.data&&o.select===this.selectFn)E=this.selectResult;else try{this.selectFn=o.select,E=o.select(p.data),o.structuralSharing!==!1&&(E=$y(l?.data,E)),this.selectResult=E,this.selectError=null}catch(R){Uy().error(R),this.selectError=R}else E=p.data;if(typeof o.placeholderData<"u"&&typeof E>"u"&&(b==="loading"||b==="idle")){var F;if(l?.isPlaceholderData&&o.placeholderData===c?.placeholderData)F=l.data;else if(F=typeof o.placeholderData=="function"?o.placeholderData():o.placeholderData,o.select&&typeof F<"u")try{F=o.select(F),o.structuralSharing!==!1&&(F=$y(l?.data,F)),this.selectError=null}catch(R){Uy().error(R),this.selectError=R}typeof F<"u"&&(b="success",E=F,S=!0)}this.selectError&&(v=this.selectError,E=this.selectResult,g=Date.now(),b="error");var T={status:b,isLoading:b==="loading",isSuccess:b==="success",isError:b==="error",isIdle:b==="idle",data:E,dataUpdatedAt:m,error:v,errorUpdatedAt:g,failureCount:p.fetchFailureCount,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:y,isRefetching:y&&b!=="loading",isLoadingError:b==="error"&&p.dataUpdatedAt===0,isPlaceholderData:S,isPreviousData:x,isRefetchError:b==="error"&&p.dataUpdatedAt!==0,isStale:e5(i,o),refetch:this.refetch,remove:this.remove};return T},r.shouldNotifyListeners=function(i,o){if(!o)return!0;var a=this.options,s=a.notifyOnChangeProps,l=a.notifyOnChangePropsExclusions;if(!s&&!l||s==="tracked"&&!this.trackedProps.length)return!0;var u=s==="tracked"?this.trackedProps:s;return Object.keys(i).some(function(c){var d=c,f=i[d]!==o[d],h=u?.some(function(m){return m===c}),p=l?.some(function(m){return m===c});return f&&!p&&(!u||h)})},r.updateResult=function(i){var o=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!eQ(this.currentResult,o)){var a={cache:!0};i?.listeners!==!1&&this.shouldNotifyListeners(this.currentResult,o)&&(a.listeners=!0),this.notify(It({},a,i))}},r.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var o=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(o?.removeObserver(this),i.addObserver(this))}},r.onQueryUpdate=function(i){var o={};i.type==="success"?o.onSuccess=!0:i.type==="error"&&!zy(i.error)&&(o.onError=!0),this.updateResult(o),this.hasListeners()&&this.updateTimers()},r.notify=function(i){var o=this;Dr.batch(function(){i.onSuccess?(o.options.onSuccess==null||o.options.onSuccess(o.currentResult.data),o.options.onSettled==null||o.options.onSettled(o.currentResult.data,null)):i.onError&&(o.options.onError==null||o.options.onError(o.currentResult.error),o.options.onSettled==null||o.options.onSettled(void 0,o.currentResult.error)),i.listeners&&o.listeners.forEach(function(a){a(o.currentResult)}),i.cache&&o.client.getQueryCache().notify({query:o.currentQuery,type:"observerResultsUpdated"})})},t}(s0);function gQ(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function rO(e,t){return gQ(e,t)||e.state.dataUpdatedAt>0&&Xk(e,t,t.refetchOnMount)}function Xk(e,t,r){if(t.enabled!==!1){var n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&e5(e,t)}return!1}function nO(e,t,r,n){return r.enabled!==!1&&(e!==t||n.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&e5(e,r)}function e5(e,t){return e.isStaleByTime(t.staleTime)}var iO=Tu.default.createContext(void 0),fO=Tu.default.createContext(!1);function hO(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=iO),window.ReactQueryClientContext):iO}var l0=function(){var t=Tu.default.useContext(hO(Tu.default.useContext(fO)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},pO=function(t){var r=t.client,n=t.contextSharing,i=n===void 0?!1:n,o=t.children;Tu.default.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var a=hO(i);return Tu.default.createElement(fO.Provider,{value:i},Tu.default.createElement(a.Provider,{value:r},o))};function vQ(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var yQ=t5.default.createContext(vQ()),wQ=function(){return t5.default.useContext(yQ)};function bQ(e,t,r){return typeof t=="function"?t.apply(void 0,r):typeof t=="boolean"?t:!!e}function xQ(e,t){var r=Jf.default.useRef(!1),n=Jf.default.useState(0),i=n[1],o=l0(),a=wQ(),s=o.defaultQueryObserverOptions(e);s.optimisticResults=!0,s.onError&&(s.onError=Dr.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=Dr.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=Dr.batchCalls(s.onSettled)),s.suspense&&(typeof s.staleTime!="number"&&(s.staleTime=1e3),s.cacheTime===0&&(s.cacheTime=1)),(s.suspense||s.useErrorBoundary)&&(a.isReset()||(s.retryOnMount=!1));var l=Jf.default.useState(function(){return new t(o,s)}),u=l[0],c=u.getOptimisticResult(s);if(Jf.default.useEffect(function(){r.current=!0,a.clearReset();var d=u.subscribe(Dr.batchCalls(function(){r.current&&i(function(f){return f+1})}));return u.updateResult(),function(){r.current=!1,d()}},[a,u]),Jf.default.useEffect(function(){u.setOptions(s,{listeners:!1})},[s,u]),s.suspense&&c.isLoading)throw u.fetchOptimistic(s).then(function(d){var f=d.data;s.onSuccess==null||s.onSuccess(f),s.onSettled==null||s.onSettled(f,null)}).catch(function(d){a.clearReset(),s.onError==null||s.onError(d),s.onSettled==null||s.onSettled(void 0,d)});if(c.isError&&!a.isReset()&&!c.isFetching&&bQ(s.suspense,s.useErrorBoundary,[c.error,u.getCurrentQuery()]))throw c.error;return s.notifyOnChangeProps==="tracked"&&(c=u.trackResult(c,s)),c}function qn(e,t,r){var n=Py(e,t,r);return xQ(n,mQ)}var EQ=mO.default.unstable_batchedUpdates;Dr.setBatchNotifyFunction(EQ);var SQ=console;nQ(SQ);w();w();w();var CQ=Symbol((import.meta.env?"production":void 0)!=="production"?"RESET":"");function Kn(e,t){let r=null,n=new Map,i=new Set,o=s=>{let l;if(t===void 0)l=n.get(s);else for(let[c,d]of n)if(t(c,s)){l=d;break}if(l!==void 0)if(r?.(l[1],s))o.remove(s);else return l[0];let u=e(s);return n.set(s,[u,Date.now()]),a("CREATE",s,u),u};function a(s,l,u){for(let c of i)c({type:s,param:l,atom:u})}return o.unstable_listen=s=>(i.add(s),()=>{i.delete(s)}),o.getParams=()=>n.keys(),o.remove=s=>{if(t===void 0){if(!n.has(s))return;let[l]=n.get(s);n.delete(s),a("REMOVE",s,l)}else for(let[l,[u]]of n)if(t(l,s)){n.delete(l),a("REMOVE",l,u);break}},o.setShouldRemove=s=>{if(r=s,!!r)for(let[l,[u,c]]of n)r(c,l)&&(n.delete(l),a("REMOVE",l,u))},o}var kQ=e=>typeof e?.then=="function";function AQ(e=()=>{try{return window.localStorage}catch(r){(import.meta.env?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(r);return}},t){var r;let n,i,o={getItem:(l,u)=>{var c,d;let f=p=>{if(p=p||"",n!==p){try{i=JSON.parse(p,t?.reviver)}catch{return u}n=p}return i},h=(d=(c=e())==null?void 0:c.getItem(l))!=null?d:null;return kQ(h)?h.then(f):f(h)},setItem:(l,u)=>{var c;return(c=e())==null?void 0:c.setItem(l,JSON.stringify(u,t?.replacer))},removeItem:l=>{var u;return(u=e())==null?void 0:u.removeItem(l)}},a=l=>(u,c,d)=>l(u,f=>{let h;try{h=JSON.parse(f||"")}catch{h=d}c(h)}),s;try{s=(r=e())==null?void 0:r.subscribe}catch{}return!s&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(s=(l,u)=>{if(!(e()instanceof window.Storage))return()=>{};let c=d=>{d.storageArea===e()&&d.key===l&&u(d.newValue)};return window.addEventListener("storage",c),()=>{window.removeEventListener("storage",c)}}),s&&(o.subscribe=a(s)),o}var TQ=AQ();function Qf(e,t,r=TQ,n){let i=n?.getOnInit,o=Q(i?r.getItem(e,t):t);return(import.meta.env?"production":void 0)!=="production"&&(o.debugPrivate=!0),o.onMount=s=>{s(r.getItem(e,t));let l;return r.subscribe&&(l=r.subscribe(e,s,t)),l},Q(s=>s(o),(s,l,u)=>{let c=typeof u=="function"?u(s(o)):u;return c===CQ?(l(o,t),r.removeItem(e)):c instanceof Promise?c.then(d=>(l(o,d),r.setItem(e,d))):(l(o,c),r.setItem(e,c))})}var gO=(e,t,r)=>(t.has(r)?t:t.set(r,e())).get(r),DQ=new WeakMap,IQ=(e,t,r)=>{let n=gO(()=>new WeakMap,DQ,t);return gO(e,n,r)},FQ=e=>e instanceof Promise,RQ=()=>{};function Xf(e,t=RQ){return IQ(()=>{let r=new WeakMap,n=new WeakMap,i=Q(0);(import.meta.env?"production":void 0)!=="production"&&(i.debugPrivate=!0);let o=Q((a,{setSelf:s})=>{a(i);let l=a(o),u=a(e);if(!FQ(u))return{v:u};if(u!==l?.p&&(u.status==="fulfilled"?n.set(u,u.value):u.status==="rejected"?r.set(u,u.reason):u.then(c=>n.set(u,c),c=>r.set(u,c)).finally(s)),r.has(u))throw r.get(u);return n.has(u)?{p:u,v:n.get(u)}:l&&"v"in l?{p:u,f:t(l.v),v:l.v}:{p:u,f:t()}},(a,s)=>{s(i,l=>l+1)});return o.init=void 0,(import.meta.env?"production":void 0)!=="production"&&(o.debugPrivate=!0),Q(a=>{let s=a(o);return"f"in s?s.f:s.v},(a,s,...l)=>s(e,...l))},e,t)}w();var vO={sub:"local",name:"Local user"};var rEe=A($(),1),bO=A($(),1),yO=new WeakMap;function wO(e,t){let r=Ny(t),n=MQ(r);for(let[i,o]of e)(!n.has(i)||t?.dangerouslyForceHydrate)&&(n.add(i),r.set(i,o))}var MQ=e=>{let t=yO.get(e);return t||(t=new WeakSet,yO.set(e,t)),t},u0=Q(void 0),Wo=Q(void 0);function xO(e){wO([[Wo,e]]);let{client:t,config:r,local:n}=e;if(n&&!C.env.ALINEA_FORCE_AUTH){let a=typeof C<"u"&&C.env.ALINEA_USER;wO([[u0,{user:a?JSON.parse(a):vO,cnx:t}]])}let o=rt(Wo);(0,bO.useEffect)(()=>o(e),[e.client,e.config])}var EO=Q(new dO({defaultOptions:{queries:{retry:!1}}})),c0=Q(e=>e(Wo).client),Yn=Q(e=>e(Wo).config);var Xr=()=>oe(Wo);w();var SO=A(pi(),1);function ji({children:e}){return(0,SO.createPortal)(e,document.head)}w();w();var d0=Symbol.for("@alinea/styler/hasClassName"),_Q="is-";function Gn(e,t=[],r=typeof e=="object"?e:void 0){let n=typeof e=="string"?e:"",i=r?.[n]??n;return new Proxy(Object.assign(function(...a){return a.flatMap(function s(l){if(!l)return[];if(Array.isArray(l))return l.map(s);if(typeof l=="function")return l[d0];if(typeof l=="object")return d0 in l?l[d0]:Object.entries(l).map(([c,d])=>d&&c).filter(Boolean).map(s);let u=_Q+l;return r?.[u]??u}).concat(t).concat(i).join(" ")},{[d0]:i,toString(){return i},with(...o){return Gn(n,t.concat(o.filter(Boolean)),r)},mergeProps(o){return o?this.with(o.className):this}}),{get(o,a){return typeof a!="string"?o[a]:o[a]??=Gn(n?`${n}-${a}`:a,void 0,r)}})}Gn.global=e=>({[d0]:e});Gn.merge=e=>Gn.global(e.className);var j=Gn;w();w();var Me=e=>typeof e=="string"?e:`${e/16}rem`;var r5=A(P(),1),VQ={root:"alinea-Icon","is-round":"alinea-Icon-is-round",isRound:"alinea-Icon-is-round","is-active":"alinea-Icon-is-active",isActive:"alinea-Icon-is-active"},HQ=j(VQ);function ee({icon:e,size:t,round:r,active:n,variant:i,...o}){let a=e;return a?(0,r5.jsx)("i",{...o,style:{...o.style,fontSize:t?Me(t):void 0},className:HQ.root.mergeProps(o)({round:r,active:n},i),children:typeof a=="function"?(0,r5.jsx)(a,{}):a}):null}w();var f0=A($(),1);var Du=A(P(),1);function jQ(e){let t=e.direction||"column",r={display:"flex",minWidth:0,flexDirection:t,alignItems:e.center?"center":e.align||"unset",justifyContent:e.justify||"unset",gap:Me(e.gap||0)};return e.wrap&&(r.flexWrap="wrap"),e.full&&(r[t==="row"?"width":"height"]="100%"),r}var ot=(0,f0.forwardRef)(function(t,r){let{children:n,as:i="div",gap:o,align:a,direction:s,justify:l,center:u,wrap:c,full:d,...f}=t,h=`${o}-${a}-${s}-${l}-${u}-${c}-${d}`,p=i,m=(0,f0.useMemo)(()=>jQ(t),[h]),v=(0,Du.jsx)(p,{...f,style:{...m,...t.style},ref:r,children:n});return c?(0,Du.jsx)("div",{children:v}):v}),q=(0,f0.forwardRef)(function(t,r){return(0,Du.jsx)(ot,{direction:"row",...t,ref:r})}),Tn;(e=>{function t(o){return(0,Du.jsx)("div",{...o,style:{...o.style,marginRight:"auto"}})}e.Left=t;function r(o){return(0,Du.jsx)("div",{...o,style:{...o.style,marginRight:"auto",marginLeft:"auto"}})}e.Center=r;function n(o){return(0,Du.jsx)("div",{...o,style:{...o.style,marginLeft:"auto"}})}e.Right=n;function i(o){return(0,Du.jsx)("div",{...o,style:{...o.style,marginTop:"auto"}})}e.Bottom=i})(Tn||(Tn={}));var od=A(P(),1),$Q={root:"alinea-Button","is-medium":"alinea-Button-is-medium",isMedium:"alinea-Button-is-medium","is-large":"alinea-Button-is-large",isLarge:"alinea-Button-is-large","is-outline":"alinea-Button-is-outline",isOutline:"alinea-Button-is-outline"},UQ=j($Q);function Jt({as:e="button",children:t,size:r="medium",icon:n,iconRight:i,outline:o,variant:a,...s}){return(0,od.jsx)(e,{...s,className:UQ.root(r,a,{outline:o},j.merge(s)),children:(0,od.jsxs)(q,{center:!0,gap:8,children:[(0,od.jsx)(ee,{icon:n,size:18}),(0,od.jsx)("span",{children:t}),(0,od.jsx)(ee,{icon:i})]})})}w();var h0=A(P(),1),WQ={root:"alinea-Chip","root-icon":"alinea-Chip-icon",rootIcon:"alinea-Chip-icon","root-label":"alinea-Chip-label",rootLabel:"alinea-Chip-label","is-accent":"alinea-Chip-is-accent",isAccent:"alinea-Chip-is-accent","is-disabled":"alinea-Chip-is-disabled",isDisabled:"alinea-Chip-is-disabled","is-info":"alinea-Chip-is-info",isInfo:"alinea-Chip-is-info","is-success":"alinea-Chip-is-success",isSuccess:"alinea-Chip-is-success","is-progress":"alinea-Chip-is-progress",isProgress:"alinea-Chip-is-progress"},n5=j(WQ);function $i({children:e,icon:t,accent:r,variant:n,...i}){return(0,h0.jsxs)(q,{center:!0,...i,className:n5.root.mergeProps(i)({accent:r},n),children:[t&&(0,h0.jsx)(ee,{className:n5.root.icon(),icon:t}),(0,h0.jsx)("div",{className:n5.root.label(),children:e})]})}w();w();var i5=A(P(),1);function Yy(e){return(0,i5.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,i5.jsx)("path",{fill:"currentColor",d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"})})}w();w();var DO=A($(),1);w();var TO=A($(),1);function pl(e){return(0,TO.forwardRef)(e)}var Aa=A(P(),1);function IO(e,t={}){function r({children:f,align:h}){return(0,Aa.jsx)("div",{style:{textAlign:h},className:e.root(),children:f})}function n(f,h){let{as:p=t.h1??"h1",flat:m,light:v,...g}=f;return(0,Aa.jsx)(p,{ref:h,...g,className:e.h1(Gn.merge(g),{flat:m,light:v})})}function i(f,h){let{as:p=t.h2??"h2",flat:m,light:v,...g}=f;return(0,Aa.jsx)(p,{ref:h,...g,className:e.h2(Gn.merge(g),{flat:m,light:v})})}function o(f,h){let{as:p=t.h3??"h3",flat:m,light:v,...g}=f;return(0,Aa.jsx)(p,{ref:h,...g,className:e.h3(Gn.merge(g),{flat:m,light:v})})}function a(f,h){let{as:p=t.h4??"h4",flat:m,light:v,...g}=f;return(0,Aa.jsx)(p,{ref:h,...g,className:e.h4(Gn.merge(g),{flat:m,light:v})})}function s(f,h){let{as:p=t.h5??"h5",flat:m,light:v,...g}=f;return(0,Aa.jsx)(p,{ref:h,...g,className:e.h5(Gn.merge(g),{flat:m,light:v})})}function l(f,h){let{as:p=t.p??"p",flat:m,light:v,...g}=f;return(0,Aa.jsx)(p,{ref:h,...g,className:e.p(Gn.merge(g),{flat:m,light:v})})}let u=(0,DO.forwardRef)(function(h,p){let m=t.a??"a";return(0,Aa.jsx)(m,{...h,ref:p,className:e.link(Gn.merge(h))})});function c(f,h){let{as:p="span",...m}=f;return(0,Aa.jsx)(p,{...f,ref:h,className:e.monospace(Gn.merge(m))})}function d(f,h){let{as:p=t.small??"small",...m}=f;return(0,Aa.jsx)(p,{...f,className:e.small(Gn.merge(m)),ref:h})}return Object.assign(r,{H1:pl(n),H2:pl(i),H3:pl(o),H4:pl(a),H5:pl(s),P:pl(l),Link:u,link:e.link,Monospace:pl(c),Small:pl(d)})}var qQ={hyphenate:"alinea-Typo-hyphenate",link:"alinea-Typo-link",p:"alinea-Typo-p",h5:"alinea-Typo-h5",h4:"alinea-Typo-h4",h3:"alinea-Typo-h3",h2:"alinea-Typo-h2",h1:"alinea-Typo-h1","is-flat":"alinea-Typo-is-flat",isFlat:"alinea-Typo-is-flat",monospace:"alinea-Typo-monospace",small:"alinea-Typo-small"},KQ=j(qQ),Et=IO(KQ);var p0=A(P(),1);function FO({error:e}){return(0,p0.jsxs)(q,{center:!0,gap:10,style:{padding:Me(25),width:"100%"},children:[(0,p0.jsx)(Yy,{style:{fontSize:Me(20)}}),(0,p0.jsx)(Et.Monospace,{children:typeof e=="string"?e:e.message})]})}w();var o5=A(P(),1),YQ={loader:"alinea-Loader-loader",fadein:"alinea-Loader-fadein","loader-inner":"alinea-Loader-loader-inner",loaderInner:"alinea-Loader-loader-inner",load8:"alinea-Loader-load8","is-absolute":"alinea-Loader-is-absolute",isAbsolute:"alinea-Loader-is-absolute"},RO=j(YQ);function ir({light:e,absolute:t,size:r=22,...n}){return(0,o5.jsx)("div",{style:{fontSize:r},className:RO.loader.mergeProps(n)({absolute:t}),children:(0,o5.jsx)("div",{...n,className:RO.loader.inner()})})}w();var Re;(e=>{e.type="_type";function t(i){return i[e.type]==="text"}e.isText=t;function r(i){let o=i[e.type];return typeof o=="string"&&o!=="text"&&o[0]?.toLowerCase()===o[0]}e.isElement=r;function n(i){let o=i[e.type];return typeof o=="string"&&o!=="text"&&o[0]?.toUpperCase()===o[0]}e.isBlock=n})(Re||(Re={}));var ms;(e=>{e.type="_type"})(ms||(ms={}));var Iu;(e=>{e.id="_id",e.link="_link",e.entry="_entry"})(Iu||(Iu={}));var Ta;(e=>{e.text="text",e.marks="marks"})(Ta||(Ta={}));var Fu;(e=>{e.content="content"})(Fu||(Fu={}));var Qt;(e=>{e.id="_id"})(Qt||(Qt={}));w();var MO=/([^\p{L}\p{N}\p{Emoji}\p{Emoji_Component}]|\p{P}(?!\u{fe0f}))+/gu,GQ=/[\'’]/g,a5="-",JQ=new RegExp(`^${a5}+|${a5}+$`,"g");function _O(e){return MO.test(e)}function Ui(e){return e.replace(GQ,"").replace(MO,a5).replace(JQ,"").toLowerCase()}w();var OO=A(P(),1);function Ze({label:e,...t}){return(0,OO.jsx)("span",{...t,children:e})}w();function BO(e,t,r){if(e>100||t>100)throw new Error(`${e}x${t} doesn't fit in 100x100`);let{PI:n,round:i,max:o,cos:a,abs:s}=Math,l=0,u=0,c=0,d=0;for(let z=0,Y=0;z<e*t;z++,Y+=4){let K=r[Y+3]/255;l+=K/255*r[Y],u+=K/255*r[Y+1],c+=K/255*r[Y+2],d+=K}d&&(l/=d,u/=d,c/=d);let f=d<e*t,h=f?5:7,p=o(1,i(h*e/o(e,t))),m=o(1,i(h*t/o(e,t))),v=[],g=[],y=[],b=[];for(let z=0,Y=0;z<e*t;z++,Y+=4){let K=r[Y+3]/255,te=l*(1-K)+K/255*r[Y],se=u*(1-K)+K/255*r[Y+1],de=c*(1-K)+K/255*r[Y+2];v[z]=(te+se+de)/3,g[z]=(te+se)/2-de,y[z]=te-se,b[z]=K}let x=(z,Y,K)=>{let te=0,se=[],de=0,Se=[];for(let be=0;be<K;be++)for(let Ce=0;Ce*K<Y*(K-be);Ce++){let pe=0;for(let ve=0;ve<e;ve++)Se[ve]=a(n/e*Ce*(ve+.5));for(let ve=0;ve<t;ve++)for(let Ie=0,lr=a(n/t*be*(ve+.5));Ie<e;Ie++)pe+=z[Ie+ve*e]*Se[Ie]*lr;pe/=e*t,Ce||be?(se.push(pe),de=o(de,s(pe))):te=pe}if(de)for(let be=0;be<se.length;be++)se[be]=.5+.5/de*se[be];return[te,se,de]},[S,E,I]=x(v,o(3,p),o(3,m)),[k,D,F]=x(g,3,3),[T,R,_]=x(y,3,3),[M,L,V]=f?x(b,5,5):[],U=e>t,N=i(63*S)|i(31.5+31.5*k)<<6|i(31.5+31.5*T)<<12|i(31*I)<<18|f<<23,H=(U?m:p)|i(63*F)<<3|i(63*_)<<9|U<<15,O=[N&255,N>>8&255,N>>16,H&255,H>>8],J=f?6:5,B=0;f&&O.push(i(15*M)|i(15*V)<<4);for(let z of f?[E,D,R,L]:[E,D,R])for(let Y of z)O[J+(B>>1)]|=i(15*Y)<<((B++&1)<<2);return new Uint8Array(O)}function NO(e){let{min:t,max:r}=Math,n=e[0]|e[1]<<8|e[2]<<16,i=(n&63)/63,o=(n>>6&63)/31.5-1,a=(n>>12&63)/31.5-1,l=n>>23?(e[5]&15)/15:1,u=i-2/3*o,c=(3*i-u+a)/2,d=c-a;return{r:r(0,t(1,c)),g:r(0,t(1,d)),b:r(0,t(1,u)),a:l}}w();var m0=A(P(),1),QQ={root:"alinea-LogoShape","root-bg":"alinea-LogoShape-bg",rootBg:"alinea-LogoShape-bg"},PO=j(QQ);function ad({children:e,foreground:t="var(--alinea-accent-foreground)",background:r="var(--alinea-accent)",...n}){return(0,m0.jsxs)("div",{style:{color:t},className:PO.root.mergeProps(n)(),children:[(0,m0.jsx)("svg",{className:PO.root.bg(),viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:(0,m0.jsx)("path",{d:"M18 36C25.884 36 29.9427 36 32.8047 33.138C35.6667 30.276 36 25.884 36 18C36 10.116 35.6667 6.05733 32.8047 3.19533C29.9427 0.333333 25.884 0 18 0C10.116 0 6.05733 0.333333 3.19533 3.19533C0.333333 6.05733 0 10.116 0 18C0 25.884 0.333333 29.9427 3.19533 32.8047C6.05733 35.6667 10.116 36 18 36Z",fill:r})}),e]})}w();var s5=A(P(),1);function Gy(e){return(0,s5.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,s5.jsx)("path",{fill:"currentColor",d:"M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42c.39.39 1.02.39 1.41 0l6.59-6.59a.996.996 0 0 0 0-1.41l-6.58-6.6a.996.996 0 1 0-1.41 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z"})})}w();var l5=A(P(),1);function u5(e){return(0,l5.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,l5.jsx)("path",{fill:"currentColor",d:"M5 5c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1zm2.41 9H9v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-5h1.59c.89 0 1.34-1.08.71-1.71L12.71 7.7a.996.996 0 0 0-1.41 0l-4.59 4.59c-.63.63-.19 1.71.7 1.71z"})})}w();var g0=(e=>(e[e.Authenticated=0]="Authenticated",e[e.UnAuthenticated=1]="UnAuthenticated",e[e.MissingApiKey=2]="MissingApiKey",e))(g0||{});var ft=A(P(),1);function LO({setSession:e}){let{client:t}=Xr();if(!(t instanceof n1))throw new Error("Cannot authenticate with non http client");let r=new URL(t.url,window.location.href),{data:n,isError:i}=qn(["auth.cloud"],()=>fetch(new URL("?auth=status",r),{credentials:"include"}).then(a=>a.json()),{keepPreviousData:!0});if(i)return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(ji,{children:(0,ft.jsx)("title",{children:"Alinea"})}),(0,ft.jsx)("div",{style:{display:"flex",height:"100%",width:"100%"},children:(0,ft.jsx)("div",{style:{margin:"auto",padding:Me(20)},children:(0,ft.jsxs)(ot,{gap:20,children:[(0,ft.jsxs)(q,{center:!0,gap:16,children:[(0,ft.jsx)(ad,{children:(0,ft.jsx)(u5,{})}),(0,ft.jsx)(Et.H1,{flat:!0,children:"Ready to deploy?"})]}),(0,ft.jsxs)(Et.P,{children:["Alinea requires a"," ",(0,ft.jsx)(Et.Link,{href:"https://alinea.sh/docs/deploy",target:"_blank",children:"handler"})," ","to continue."]})]})})})]});if(!n)return(0,ft.jsx)(ir,{absolute:!0});let{location:o}=window;switch(n.type){case g0.Authenticated:return e({user:n.user,cnx:t.authenticate(a=>({...a,credentials:"same-origin"}),()=>e(void 0)),async end(){o.href=new URL("?auth=logout",r).href}}),null;case g0.UnAuthenticated:return o.href=`${n.redirect}&from=${encodeURIComponent(`${o.protocol}//${o.host}${o.pathname}`)}`,null;case g0.MissingApiKey:return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(ji,{children:(0,ft.jsx)("title",{children:"Alinea"})}),(0,ft.jsx)("div",{style:{display:"flex",height:"100%",width:"100%"},children:(0,ft.jsx)("div",{style:{margin:"auto",padding:Me(20)},children:(0,ft.jsxs)(ot,{gap:20,children:[(0,ft.jsxs)(q,{center:!0,gap:16,children:[(0,ft.jsx)(ad,{children:(0,ft.jsx)(u5,{})}),(0,ft.jsx)(Et.H1,{flat:!0,children:"Ready to deploy?"})]}),(0,ft.jsxs)(Et.P,{children:["Alinea requires a backend to continue.",(0,ft.jsx)("br",{}),"You can"," ",(0,ft.jsx)(Et.Link,{href:"https://alinea.sh/docs/deploy",target:"_blank",children:(0,ft.jsx)("span",{children:"fully configure a custom backend"})}),".",(0,ft.jsx)("br",{}),"Or get set up in a few clicks with our cloud offering."]}),(0,ft.jsx)("div",{children:(0,ft.jsx)(Jt,{as:"a",href:`${n.setupUrl}?from=${encodeURIComponent(`${o.protocol}//${o.host}${o.pathname}`)}`,iconRight:Gy,children:"Continue with alinea.cloud"})})]})})})]})}}w();w();var Qe={CheckInput:"alinea/field/check/CheckField.view#CheckInput",CodeInput:"alinea/field/code/CodeField.view#CodeInput",DateInput:"alinea/field/date/DateField.view#DateInput",HiddenInput:"alinea/field/hidden/HiddenField.view#HiddenInput",JsonInput:"alinea/field/json/JsonField.view#JsonInput",SingleLinkInput:"alinea/field/link/LinkField.view#SingleLinkInput",MultipleLinksInput:"alinea/field/link/LinkField.view#MultipleLinksInput",ListInput:"alinea/field/list/ListField.view#ListInput",MetadataInput:"alinea/field/metadata/MetadataField.view#MetadataInput",NumberInput:"alinea/field/number/NumberField.view#NumberInput",ObjectInput:"alinea/field/object/ObjectField.view#ObjectInput",PathInput:"alinea/field/path/PathField.view#PathInput",RichTextInput:"alinea/field/richtext/RichTextField.view#RichTextInput",SelectInput:"alinea/field/select/SelectField.view#SelectInput",TabsView:"alinea/field/tabs/Tabs.view#TabsView",TextInput:"alinea/field/text/TextField.view#TextInput",TimeInput:"alinea/field/time/TimeField.view#TimeInput",MediaExplorer:"alinea/dashboard/view/MediaExplorer#MediaExplorer",MediaFile:"alinea/dashboard/view/media/FileEntry#FileEntry",FileSummaryRow:"alinea/dashboard/view/media/FileSummary#FileSummaryRow",FileSummaryThumb:"alinea/dashboard/view/media/FileSummary#FileSummaryThumb"};w();w();w();var He=class extends pt{[sm];constructor(e){super({type:"field"}),this[sm]={ref:Symbol(),...e}}};(e=>{function t(u){return nl(u).ref}e.ref=t;function r(u){return nl(u).shape}e.shape=r;function n(u){return nl(u).options.label}e.label=n;function i(u){return nl(u).options.initialValue}e.initialValue=i;function o(u){return nl(u).view}e.view=o;function a(u){let c=e.view(u);return typeof c=="string"?[c,...nl(u).referencedViews]:nl(u).referencedViews}e.referencedViews=a;function s(u){return nl(u).options}e.options=s;function l(u){return u&&Jv(u)}e.isField=l})(He||(He={}));w();var Xt=class{constructor(e,t,r){this.label=e,this.initialValue=t,this.searchable=r}create(){return this.initialValue}toY(e){return e}toV1(e){return e}fromY(e){return e}applyY(e,t,r){t.get(r)!==e&&t.set(r,e)}init(e,t){e.has(t)||e.set(t,this.toY(this.create()))}watch(e,t){return r=>{function n(i){i.keysChanged.has(t)&&r()}return e.observe(n),()=>e.unobserve(n)}}mutator(e,t){return r=>{e.set(t,r)}}async applyLinks(){}searchableText(e){if(!this.searchable)return"";let t=String(e??"");return t?` ${t}`:""}};var Ir=class extends He{constructor(e){super({shape:new Xt(e.options.label,e.options.initialValue,e.options.searchable),referencedViews:[],...e})}};var XQ=class extends Ir{};function mi(e,t={}){return new XQ({options:{label:e,...t},view:Qe.HiddenInput})}w();var ZQ=class extends Ir{};function Kr(e,t={}){return new ZQ({options:{label:e,...t,initialValue:t.initialValue??""},view:Qe.TextInput})}w();var v0=A(P(),1);function Jy(e){return(0,v0.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[(0,v0.jsx)("path",{fill:"currentColor",d:"M19 19H3V7c0-.55-.45-1-1-1s-1 .45-1 1v12c0 1.1.9 2 2 2h16c.55 0 1-.45 1-1s-.45-1-1-1z"}),(0,v0.jsx)("path",{fill:"currentColor",d:"M21 4h-7l-1.41-1.41c-.38-.38-.89-.59-1.42-.59H7c-1.1 0-1.99.9-1.99 2L5 15c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3 9h-8a.5.5 0 0 1-.4-.8l1.38-1.83c.2-.27.6-.27.8 0L13 12l2.22-2.97c.2-.27.6-.27.8 0l2.38 3.17a.5.5 0 0 1-.4.8z"})]})}w();w();var{assign:eX,entries:sCe,keys:tX,values:lCe,setPrototypeOf:rX}=Object,{stringify:zO}=JSON,jO=class{value=void 0;path=[];expected="";at(e){this.path.push(this.path.length>0?`.${e}`:e)}index(e){this.path.push(`[${e}]`)}back(){this.path.pop()}expect(e,t){this.expected=e,this.value=t}err(e){let t=this.path.length?`@ ${this.path.join("")} `:"",r=this.value,n=typeof r,i=n==="undefined"?n:n==="object"?r===null?"null":`${n}: ${r.constructor.name}`:n==="function"?`function: ${r.name}`:`${n}: ${r}`;return`${e?`${e} \u2014 expected`:"Expected"} ${this.expected} ${t}(got ${i})`}},VO="v",Wi=new jO,nX=class{narrow(){return this}new(e){return e}check(e){return Wi=new jO,this.validate(e,Wi)}assert(e,t){if(!this.check(e))throw new TypeError(Wi.err(t))}and(e){return qi(t=>this.validate(t,Wi)&&e.validate(t,Wi),t=>`${this.gen(t)} && ${e.gen(t)}`)}or(e){return qi(t=>this.validate(t,Wi)||e.validate(t,Wi),t=>`(${this.gen(t)} || ${e.gen(t)})`)}get nullable(){return oX(this)}get optional(){return aX(this)}},iX=()=>{throw new Error("This type cannot be generated")},qi=(e,t=iX)=>{let r=eX(rX((n,i)=>(r.assert(n,i),n),nX.prototype),{validate:e,gen:t});return r},$O=e=>qi(t=>(Wi.expect(zO(e),t),e===t),t=>`${t} === ${zO(e)}`),oX=e=>$O(null).or(e),aX=e=>$O(void 0).or(e),y0=e=>qi(t=>(Wi.expect(e,t),typeof t===e),t=>`typeof ${t} === '${e}'`),sX=e=>qi((t,r)=>(r.expect(e.name,t),t instanceof e),t=>`${t} instanceof ${e.name}`),Ru=y0("string"),uCe=y0("number").and(qi(e=>!isNaN(e),e=>`!isNaN(${e})`)),cCe=y0("bigint"),UO=y0("boolean"),dCe=y0("symbol"),c5=qi(e=>!0,()=>"!0"),fCe=sX(Date).and(qi(e=>!isNaN(e.getTime()),e=>`!isNaN(${e}.getTime())`)),HO=e=>typeof e=="function",lX=qi(e=>(Wi.expect("object",e),typeof e=="object"&&e!=null),e=>`typeof ${e} === 'object' && ${e} !== null`),uX=qi(e=>(Wi.expect("array",e),Array.isArray(e)),e=>`Array.isArray(${e})`),Mu=e=>{let t=e;return lX.and(qi(r=>{HO(t)&&(t=new t);for(let n in t){if(Wi.at(n),!t[n].validate(r[n],Wi))return!1;Wi.back()}return!0},r=>(HO(t)&&(t=new t),tX(t).map(i=>[i,t[i]]).map(([i,o])=>o.gen(`${r}.${i}`)).join(" && "))))},w0=e=>uX.and(qi((t,r)=>{for(let n=0;n<t.length;n++){if(r.index(n),!e.validate(t[n],r))return!1;r.back()}return!0},t=>`${t}.every(${VO} => ${e.gen(VO)})`));w();w();var cX=0,dX="@@@";function WO(){return`${dX}${cX++}`}var cr;(e=>{e.Data=Symbol.for("@alinea/Section.Data");function t(a){return a[e.Data].view}e.view=t;function r(a){let{view:s,sections:l}=a[e.Data];return[s,...l.flatMap(r)].filter(u=>typeof u=="string")}e.referencedViews=r;function n(a){return a[e.Data].definition}e.definition=n;function i(a){return a[e.Data].fields}e.fields=i;function o(a){return!!a?.[e.Data]}e.isSection=o})(cr||(cr={}));function Zf(e){let t=yS(null),r=[],n=yS(null);for(let[o,a]of ue(e.definition))He.isField(a)?(wS(t,o,{value:a,enumerable:!1}),n[o]=a):cr.isSection(a)&&(r.push(a),ss(n,cr.fields(a)));let i=WO();return t[i]=t,e.fields||ss(e,{fields:n}),e.sections||ss(e,{sections:r}),wS(t,cr.Data,{value:e,enumerable:!1}),t}w();w();w();var gs=Math.floor,E0=Math.abs,Ou=(e,t)=>e<t?e:t,Da=(e,t)=>e>t?e:t,CCe=Number.isNaN,GO=e=>e!==0?e<0:1/e<0,h5=1,p5=2,Qy=4,Xy=8,rh=32,vs=64,Ki=128,fX=1<<17,hX=1<<18,pX=1<<19,mX=1<<20,gX=1<<21,vX=1<<22,yX=1<<23,wX=1<<24,bX=1<<25,xX=1<<26,EX=1<<27,SX=1<<28,CX=1<<29,kX=1<<30,kCe=1<<31,S0=31,d5=63,sd=127,ACe=fX-1,TCe=hX-1,DCe=pX-1,ICe=mX-1,FCe=gX-1,RCe=vX-1,MCe=yX-1,_Ce=wX-1,OCe=bX-1,BCe=xX-1,NCe=EX-1,PCe=SX-1,LCe=CX-1,zCe=kX-1,AX=2147483647,JO=Number.MAX_SAFE_INTEGER,VCe=Number.MIN_SAFE_INTEGER,HCe=1<<31,TX=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&gs(e)===e),jCe=Number.isNaN,$Ce=Number.parseInt,ml=()=>new Set,Zy=e=>e[e.length-1],QO=(e,t)=>{for(let r=0;r<t.length;r++)e.push(t[r])},gl=Array.from,XO=(e,t)=>{for(let r=0;r<e.length;r++)if(t(e[r],r,e))return!0;return!1};var ew=Array.isArray,DX=String.fromCharCode,UCe=String.fromCodePoint,WCe=DX(65535),IX=e=>e.toLowerCase(),FX=/^\s*/g,RX=e=>e.replace(FX,""),MX=/([A-Z])/g,m5=(e,t)=>RX(e.replace(MX,r=>`${t}${IX(r)}`)),_X=e=>{let t=unescape(encodeURIComponent(e)),r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t.codePointAt(i);return n},x0=typeof TextEncoder<"u"?new TextEncoder:null,OX=e=>x0.encode(e),BX=x0?OX:_X,b0=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});b0&&b0.decode(new Uint8Array).length===1&&(b0=null);var C0=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}},ud=()=>new C0,NX=e=>{let t=e.cpos;for(let r=0;r<e.bufs.length;r++)t+=e.bufs[r].length;return t},go=e=>{let t=new Uint8Array(NX(e)),r=0;for(let n=0;n<e.bufs.length;n++){let i=e.bufs[n];t.set(i,r),r+=i.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),r),t},PX=(e,t)=>{let r=e.cbuf.length;r-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(Da(r,t)*2),e.cpos=0)},dn=(e,t)=>{let r=e.cbuf.length;e.cpos===r&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(r*2),e.cpos=0),e.cbuf[e.cpos++]=t},tw=dn,at=(e,t)=>{for(;t>sd;)dn(e,Ki|sd&t),t=gs(t/128);dn(e,sd&t)},rw=(e,t)=>{let r=GO(t);for(r&&(t=-t),dn(e,(t>d5?Ki:0)|(r?vs:0)|d5&t),t=gs(t/64);t>0;)dn(e,(t>sd?Ki:0)|sd&t),t=gs(t/128)},f5=new Uint8Array(3e4),LX=f5.length/3,zX=(e,t)=>{if(t.length<LX){let r=x0.encodeInto(t,f5).written||0;at(e,r);for(let n=0;n<r;n++)dn(e,f5[n])}else Jn(e,BX(t))},VX=(e,t)=>{let r=unescape(encodeURIComponent(t)),n=r.length;at(e,n);for(let i=0;i<n;i++)dn(e,r.codePointAt(i))},qo=x0&&x0.encodeInto?zX:VX;var k0=(e,t)=>{let r=e.cbuf.length,n=e.cpos,i=Ou(r-n,t.length),o=t.length-i;e.cbuf.set(t.subarray(0,i),n),e.cpos+=i,o>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(Da(r*2,o)),e.cbuf.set(t.subarray(i)),e.cpos=o)},Jn=(e,t)=>{at(e,t.byteLength),k0(e,t)},g5=(e,t)=>{PX(e,t);let r=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,r},HX=(e,t)=>g5(e,4).setFloat32(0,t,!1),jX=(e,t)=>g5(e,8).setFloat64(0,t,!1),$X=(e,t)=>g5(e,8).setBigInt64(0,t,!1),qO=new DataView(new ArrayBuffer(4)),UX=e=>(qO.setFloat32(0,e),qO.getFloat32(0)===e),eh=(e,t)=>{switch(typeof t){case"string":dn(e,119),qo(e,t);break;case"number":TX(t)&&E0(t)<=AX?(dn(e,125),rw(e,t)):UX(t)?(dn(e,124),HX(e,t)):(dn(e,123),jX(e,t));break;case"bigint":dn(e,122),$X(e,t);break;case"object":if(t===null)dn(e,126);else if(ew(t)){dn(e,117),at(e,t.length);for(let r=0;r<t.length;r++)eh(e,t[r])}else if(t instanceof Uint8Array)dn(e,116),Jn(e,t);else{dn(e,118);let r=Object.keys(t);at(e,r.length);for(let n=0;n<r.length;n++){let i=r[n];qo(e,i),eh(e,t[i])}}break;case"boolean":dn(e,t?120:121);break;default:dn(e,127)}},v5=class extends C0{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&at(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}},KO=e=>{e.count>0&&(rw(e.encoder,e.count===1?e.s:-e.s),e.count>1&&at(e.encoder,e.count-2))},A0=class{constructor(){this.encoder=new C0,this.s=0,this.count=0}write(e){this.s===e?this.count++:(KO(this),this.count=1,this.s=e)}toUint8Array(){return KO(this),go(this.encoder)}},YO=e=>{if(e.count>0){let t=e.diff*2+(e.count===1?0:1);rw(e.encoder,t),e.count>1&&at(e.encoder,e.count-2)}},nw=class{constructor(){this.encoder=new C0,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(YO(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return YO(this),go(this.encoder)}},ZO=class{constructor(){this.sarr=[],this.s="",this.lensE=new A0}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){let e=new C0;return this.sarr.push(this.s),this.s="",qo(e,this.sarr.join("")),k0(e,this.lensE.toUint8Array()),go(e)}},vl=e=>new Error(e),vo=()=>{throw vl("Method unimplemented")},gi=()=>{throw vl("Unexpected case")},e8=vl("Unexpected end of array"),t8=vl("Integer out of Range"),iw=class{constructor(e){this.arr=e,this.pos=0}},Bu=e=>new iw(e),r8=e=>e.pos!==e.arr.length,WX=(e,t)=>{let r=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,r},vi=e=>WX(e,et(e)),ld=e=>e.arr[e.pos++],et=e=>{let t=0,r=1,n=e.arr.length;for(;e.pos<n;){let i=e.arr[e.pos++];if(t=t+(i&sd)*r,r*=128,i<Ki)return t;if(t>JO)throw t8}throw e8},ow=e=>{let t=e.arr[e.pos++],r=t&d5,n=64,i=(t&vs)>0?-1:1;if((t&Ki)===0)return i*r;let o=e.arr.length;for(;e.pos<o;){if(t=e.arr[e.pos++],r=r+(t&sd)*n,n*=128,t<Ki)return i*r;if(r>JO)throw t8}throw e8},qX=e=>{let t=et(e);if(t===0)return"";{let r=String.fromCodePoint(ld(e));if(--t<100)for(;t--;)r+=String.fromCodePoint(ld(e));else for(;t>0;){let n=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+n);e.pos+=n,r+=String.fromCodePoint.apply(null,i),t-=n}return decodeURIComponent(escape(r))}},KX=e=>b0.decode(vi(e)),_u=b0?KX:qX,y5=(e,t)=>{let r=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,r},YX=e=>y5(e,4).getFloat32(0,!1),GX=e=>y5(e,8).getFloat64(0,!1),JX=e=>y5(e,8).getBigInt64(0,!1),QX=[e=>{},e=>null,ow,YX,GX,JX,e=>!1,e=>!0,_u,e=>{let t=et(e),r={};for(let n=0;n<t;n++){let i=_u(e);r[i]=th(e)}return r},e=>{let t=et(e),r=[];for(let n=0;n<t;n++)r.push(th(e));return r},vi],th=e=>QX[127-ld(e)](e),w5=class extends iw{constructor(e,t){super(e),this.reader=t,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),r8(this)?this.count=et(this)+1:this.count=-1),this.count--,this.s}},T0=class extends iw{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=ow(this);let e=GO(this.s);this.count=1,e&&(this.s=-this.s,this.count=et(this)+2)}return this.count--,this.s}},aw=class extends iw{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){let e=ow(this),t=e&1;this.diff=gs(e/2),this.count=1,t&&(this.count=et(this)+2)}return this.s+=this.diff,this.count--,this.s}},n8=class{constructor(e){this.decoder=new T0(e),this.str=_u(this.decoder),this.spos=0}read(){let e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}};var Ia=()=>new Map,S5=e=>{let t=Ia();return e.forEach((r,n)=>{t.set(n,r)}),t},Lu=(e,t,r)=>{let n=e.get(t);return n===void 0&&e.set(t,n=r()),n},XX=(e,t)=>{let r=[];for(let[n,i]of e)r.push(t(i,n));return r},ZX=(e,t)=>{for(let[r,n]of e)if(t(n,r))return!0;return!1},E8=class{constructor(){this._observers=Ia()}on(e,t){Lu(this._observers,e,ml).add(t)}once(e,t){let r=(...n)=>{this.off(e,r),t(...n)};this.on(e,r)}off(e,t){let r=this._observers.get(e);r!==void 0&&(r.delete(t),r.size===0&&this._observers.delete(e))}emit(e,t){return gl((this._observers.get(e)||Ia()).values()).forEach(r=>r(...t))}destroy(){this._observers=Ia()}},lke=pa.subtle,eZ=pa.getRandomValues.bind(pa),tZ=Math.random,S8=()=>eZ(new Uint32Array(1))[0],C8=e=>e[gs(tZ()*e.length)],rZ="10000000-1000-4000-8000"+-1e11,nZ=()=>rZ.replace(/[018]/g,e=>(e^S8()&15>>e/4).toString(16)),k8=Date.now,i8=e=>new Promise(e),uke=Promise.all.bind(Promise),o8=e=>e===void 0?null:e,iZ=class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},A8=new iZ,oZ=!0;try{typeof localStorage<"u"&&localStorage&&(A8=localStorage,oZ=!1)}catch{}var aZ=A8,sZ=Object.assign,j5=Object.keys,lZ=(e,t)=>{for(let r in e)t(e[r],r)},a8=e=>j5(e).length,uZ=e=>{for(let t in e)return!1;return!0},cZ=(e,t)=>{for(let r in e)if(!t(e[r],r))return!1;return!0},dZ=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),fZ=(e,t)=>e===t||a8(e)===a8(t)&&cZ(e,(r,n)=>(r!==void 0||dZ(t,n))&&t[n]===r),$5=(e,t,r=0)=>{try{for(;r<e.length;r++)e[r](...t)}finally{r<e.length&&$5(e,t,r+1)}},hZ=e=>e,pZ=(e,t)=>t.includes(e),ih=typeof C<"u"&&C.release&&/node|io\.js/.test(C.release.name)&&Object.prototype.toString.call(typeof C<"u"?C:0)==="[object process]",T8=typeof window<"u"&&typeof document<"u"&&!ih,cke=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,ys,mZ=[],gZ=()=>{if(ys===void 0)if(ih){ys=Ia();let e=C.argv,t=null;for(let r=0;r<e.length;r++){let n=e[r];n[0]==="-"?(t!==null&&ys.set(t,""),t=n):t!==null?(ys.set(t,n),t=null):mZ.push(n)}t!==null&&ys.set(t,"")}else typeof location=="object"?(ys=Ia(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){let[t,r]=e.split("=");ys.set(`--${m5(t,"-")}`,r),ys.set(`-${m5(t,"-")}`,r)}})):ys=Ia();return ys},C5=e=>gZ().has(e),k5=e=>o8(ih?C.env[e.toUpperCase()]:aZ.getItem(e)),vZ=e=>C5("--"+e)||k5(e)!==null,dke=vZ("production"),s8=ih&&pZ(C.env.FORCE_COLOR,["true","1","2"]),yZ=!C5("no-colors")&&(!ih||C.stdout.isTTY||s8)&&(!ih||C5("color")||s8||k5("COLORTERM")!==null||(k5("TERM")||"").includes("color")),wZ=e=>new Uint8Array(e),bZ=e=>{let t=wZ(e.byteLength);return t.set(e),t},xZ=class{constructor(e,t){this.left=e,this.right=t}},yl=(e,t)=>new xZ(e,t),xl=typeof document<"u"?document:{},fke=typeof DOMParser<"u"?new DOMParser:null,EZ=e=>XX(e,(t,r)=>`${r}:${t};`).join(""),hke=xl.ELEMENT_NODE,pke=xl.TEXT_NODE,mke=xl.CDATA_SECTION_NODE,gke=xl.COMMENT_NODE,vke=xl.DOCUMENT_NODE,yke=xl.DOCUMENT_TYPE_NODE,wke=xl.DOCUMENT_FRAGMENT_NODE,ww=e=>class{constructor(r){this._=r}destroy(){e(this._)}},SZ=ww(clearTimeout),U5=(e,t)=>new SZ(setTimeout(t,e)),xke=ww(clearInterval),Eke=ww(e=>typeof requestAnimationFrame<"u"&&cancelAnimationFrame(e)),Ske=ww(e=>typeof cancelIdleCallback<"u"&&cancelIdleCallback(e)),El=Symbol,D8=El(),I8=El(),CZ=El(),kZ=El(),AZ=El(),F8=El(),TZ=El(),W5=El(),DZ=El(),IZ=e=>{let t=[],r=[],n=0;for(;n<e.length;n++){let i=e[n];i.constructor===String||i.constructor===Number?t.push(i):i.constructor===Object&&r.push(JSON.stringify(i))}return r},Cke=k8(),FZ={[D8]:yl("font-weight","bold"),[I8]:yl("font-weight","normal"),[CZ]:yl("color","blue"),[AZ]:yl("color","green"),[kZ]:yl("color","grey"),[F8]:yl("color","red"),[TZ]:yl("color","purple"),[W5]:yl("color","orange"),[DZ]:yl("color","black")},RZ=e=>{let t=[],r=[],n=Ia(),i=[],o=0;for(;o<e.length;o++){let a=e[o],s=FZ[a];if(s!==void 0)n.set(s.left,s.right);else if(a.constructor===String||a.constructor===Number){let l=EZ(n);o>0||l.length>0?(t.push("%c"+a),r.push(l)):t.push(a)}else break}for(o>0&&(i=r,i.unshift(t.join("")));o<e.length;o++){let a=e[o];a instanceof Symbol||i.push(a)}return i},R8=yZ?RZ:IZ,MZ=(...e)=>{console.log(...R8(e)),M8.forEach(t=>t.print(e))},_Z=(...e)=>{console.warn(...R8(e)),e.unshift(W5),M8.forEach(t=>t.print(e))},M8=ml(),_8=e=>({[Symbol.iterator](){return this},next:e}),OZ=(e,t)=>_8(()=>{let r;do r=e.next();while(!r.done&&!t(r.value));return r}),b5=(e,t)=>_8(()=>{let{done:r,value:n}=e.next();return{done:r,value:r?void 0:t(n)}});var q5=class{constructor(e,t){this.clock=e,this.len=t}},sh=class{constructor(){this.clients=new Map}},wl=(e,t,r)=>t.clients.forEach((n,i)=>{let o=e.doc.store.clients.get(i);for(let a=0;a<n.length;a++){let s=n[a];Y8(e,o,s.clock,s.len,r)}}),BZ=(e,t)=>{let r=0,n=e.length-1;for(;r<=n;){let i=gs((r+n)/2),o=e[i],a=o.clock;if(a<=t){if(t<a+o.len)return i;r=i+1}else n=i-1}return null},fd=(e,t)=>{let r=e.clients.get(t.client);return r!==void 0&&BZ(r,t.clock)!==null},K5=e=>{e.clients.forEach(t=>{t.sort((i,o)=>i.clock-o.clock);let r,n;for(r=1,n=1;r<t.length;r++){let i=t[n-1],o=t[r];i.clock+i.len>=o.clock?i.len=Da(i.len,o.clock+o.len-i.clock):(n<r&&(t[n]=o),n++)}t.length=n})},A5=e=>{let t=new sh;for(let r=0;r<e.length;r++)e[r].clients.forEach((n,i)=>{if(!t.clients.has(i)){let o=n.slice();for(let a=r+1;a<e.length;a++)QO(o,e[a].clients.get(i)||[]);t.clients.set(i,o)}});return K5(t),t},D0=(e,t,r,n)=>{Lu(e.clients,t,()=>[]).push(new q5(r,n))},bw=()=>new sh,O8=e=>{let t=bw();return e.clients.forEach((r,n)=>{let i=[];for(let o=0;o<r.length;o++){let a=r[o];if(a.deleted){let s=a.id.clock,l=a.length;if(o+1<r.length)for(let u=r[o+1];o+1<r.length&&u.deleted;u=r[++o+1])l+=u.length;i.push(new q5(s,l))}}i.length>0&&t.clients.set(n,i)}),t},lh=(e,t)=>{at(e.restEncoder,t.clients.size),gl(t.clients.entries()).sort((r,n)=>n[0]-r[0]).forEach(([r,n])=>{e.resetDsCurVal(),at(e.restEncoder,r);let i=n.length;at(e.restEncoder,i);for(let o=0;o<i;o++){let a=n[o];e.writeDsClock(a.clock),e.writeDsLen(a.len)}})},Y5=e=>{let t=new sh,r=et(e.restDecoder);for(let n=0;n<r;n++){e.resetDsCurVal();let i=et(e.restDecoder),o=et(e.restDecoder);if(o>0){let a=Lu(t.clients,i,()=>[]);for(let s=0;s<o;s++)a.push(new q5(e.readDsClock(),e.readDsLen()))}}return t},l8=(e,t,r)=>{let n=new sh,i=et(e.restDecoder);for(let o=0;o<i;o++){e.resetDsCurVal();let a=et(e.restDecoder),s=et(e.restDecoder),l=r.clients.get(a)||[],u=Lr(r,a);for(let c=0;c<s;c++){let d=e.readDsClock(),f=d+e.readDsLen();if(d<u){u<f&&D0(n,a,u,f-u);let h=ws(l,d),p=l[h];for(!p.deleted&&p.id.clock<d&&(l.splice(h+1,0,yw(t,p,d-p.id.clock)),h++);h<l.length&&(p=l[h++],p.id.clock<f);)p.deleted||(f<p.id.clock+p.length&&l.splice(h,0,yw(t,p,f-p.id.clock)),p.delete(t))}else D0(n,a,d,f-d)}}if(n.clients.size>0){let o=new dd;return at(o.restEncoder,0),lh(o,n),o.toUint8Array()}return null};var B8=S8,Fa=class N8 extends E8{constructor({guid:t=nZ(),collectionid:r=null,gc:n=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:a=!1,shouldLoad:s=!0}={}){super(),this.gc=n,this.gcFilter=i,this.clientID=B8(),this.guid=t,this.collectionid=r,this.share=new Map,this.store=new q8,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=s,this.autoLoad=a,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=i8(u=>{this.on("load",()=>{this.isLoaded=!0,u(this)})});let l=()=>i8(u=>{let c=d=>{(d===void 0||d===!0)&&(this.off("sync",c),u())};this.on("sync",c)});this.on("sync",u=>{u===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=u===void 0||u===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[])}),this.whenSynced=l()}load(){let t=this._item;t!==null&&!this.shouldLoad&&Ht(t.parent.doc,r=>{r.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(gl(this.subdocs).map(t=>t.guid))}transact(t,r=null){return Ht(this,t,r)}get(t,r=Dn){let n=Lu(this.share,t,()=>{let o=new r;return o._integrate(this,null),o}),i=n.constructor;if(r!==Dn&&i!==r)if(i===Dn){let o=new r;o._map=n._map,n._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=o}),o._start=n._start;for(let a=o._start;a!==null;a=a.right)a.parent=o;return o._length=n._length,this.share.set(t,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return n}getArray(t=""){return this.get(t,lB)}getText(t=""){return this.get(t,zu)}getMap(t=""){return this.get(t,Ra)}getXmlFragment(t=""){return this.get(t,dh)}toJSON(){let t={};return this.share.forEach((r,n)=>{t[n]=r.toJSON()}),t}destroy(){gl(this.subdocs).forEach(r=>r.destroy());let t=this._item;if(t!==null){this._item=null;let r=t.content;r.doc=new N8({guid:this.guid,...r.opts,shouldLoad:!1}),r.doc._item=t,Ht(t.parent.doc,n=>{let i=r.doc;t.deleted||n.subdocsAdded.add(i),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(t,r){super.on(t,r)}off(t,r){super.off(t,r)}},P8=class{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return et(this.restDecoder)}readDsLen(){return et(this.restDecoder)}},NZ=class extends P8{readLeftID(){return We(et(this.restDecoder),et(this.restDecoder))}readRightID(){return We(et(this.restDecoder),et(this.restDecoder))}readClient(){return et(this.restDecoder)}readInfo(){return ld(this.restDecoder)}readString(){return _u(this.restDecoder)}readParentInfo(){return et(this.restDecoder)===1}readTypeRef(){return et(this.restDecoder)}readLen(){return et(this.restDecoder)}readAny(){return th(this.restDecoder)}readBuf(){return bZ(vi(this.restDecoder))}readJSON(){return JSON.parse(_u(this.restDecoder))}readKey(){return _u(this.restDecoder)}},PZ=class{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=et(this.restDecoder),this.dsCurrVal}readDsLen(){let e=et(this.restDecoder)+1;return this.dsCurrVal+=e,e}},oh=class extends PZ{constructor(e){super(e),this.keys=[],et(e),this.keyClockDecoder=new aw(vi(e)),this.clientDecoder=new T0(vi(e)),this.leftClockDecoder=new aw(vi(e)),this.rightClockDecoder=new aw(vi(e)),this.infoDecoder=new w5(vi(e),ld),this.stringDecoder=new n8(vi(e)),this.parentInfoDecoder=new w5(vi(e),ld),this.typeRefDecoder=new T0(vi(e)),this.lenDecoder=new T0(vi(e))}readLeftID(){return new nh(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new nh(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return th(this.restDecoder)}readBuf(){return vi(this.restDecoder)}readJSON(){return th(this.restDecoder)}readKey(){let e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{let t=this.stringDecoder.read();return this.keys.push(t),t}}},L8=class{constructor(){this.restEncoder=ud()}toUint8Array(){return go(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){at(this.restEncoder,e)}writeDsLen(e){at(this.restEncoder,e)}},R0=class extends L8{writeLeftID(e){at(this.restEncoder,e.client),at(this.restEncoder,e.clock)}writeRightID(e){at(this.restEncoder,e.client),at(this.restEncoder,e.clock)}writeClient(e){at(this.restEncoder,e)}writeInfo(e){tw(this.restEncoder,e)}writeString(e){qo(this.restEncoder,e)}writeParentInfo(e){at(this.restEncoder,e?1:0)}writeTypeRef(e){at(this.restEncoder,e)}writeLen(e){at(this.restEncoder,e)}writeAny(e){eh(this.restEncoder,e)}writeBuf(e){Jn(this.restEncoder,e)}writeJSON(e){qo(this.restEncoder,JSON.stringify(e))}writeKey(e){qo(this.restEncoder,e)}},z8=class{constructor(){this.restEncoder=ud(),this.dsCurrVal=0}toUint8Array(){return go(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){let t=e-this.dsCurrVal;this.dsCurrVal=e,at(this.restEncoder,t)}writeDsLen(e){e===0&&gi(),at(this.restEncoder,e-1),this.dsCurrVal+=e}},dd=class extends z8{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new nw,this.clientEncoder=new A0,this.leftClockEncoder=new nw,this.rightClockEncoder=new nw,this.infoEncoder=new v5(tw),this.stringEncoder=new ZO,this.parentInfoEncoder=new v5(tw),this.typeRefEncoder=new A0,this.lenEncoder=new A0}toUint8Array(){let e=ud();return at(e,0),Jn(e,this.keyClockEncoder.toUint8Array()),Jn(e,this.clientEncoder.toUint8Array()),Jn(e,this.leftClockEncoder.toUint8Array()),Jn(e,this.rightClockEncoder.toUint8Array()),Jn(e,go(this.infoEncoder)),Jn(e,this.stringEncoder.toUint8Array()),Jn(e,go(this.parentInfoEncoder)),Jn(e,this.typeRefEncoder.toUint8Array()),Jn(e,this.lenEncoder.toUint8Array()),k0(e,go(this.restEncoder)),go(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){eh(this.restEncoder,e)}writeBuf(e){Jn(this.restEncoder,e)}writeJSON(e){eh(this.restEncoder,e)}writeKey(e){let t=this.keyMap.get(e);t===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}},LZ=(e,t,r,n)=>{n=Da(n,t[0].id.clock);let i=ws(t,n);at(e.restEncoder,t.length-i),e.writeClient(r),at(e.restEncoder,n);let o=t[i];o.write(e,n-o.id.clock);for(let a=i+1;a<t.length;a++)t[a].write(e,0)},G5=(e,t,r)=>{let n=new Map;r.forEach((i,o)=>{Lr(t,o)>i&&n.set(o,i)}),_0(t).forEach((i,o)=>{r.has(o)||n.set(o,0)}),at(e.restEncoder,n.size),gl(n.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{LZ(e,t.clients.get(i),i,o)})},zZ=(e,t)=>{let r=Ia(),n=et(e.restDecoder);for(let i=0;i<n;i++){let o=et(e.restDecoder),a=new Array(o),s=e.readClient(),l=et(e.restDecoder);r.set(s,{i:0,refs:a});for(let u=0;u<o;u++){let c=e.readInfo();switch(S0&c){case 0:{let d=e.readLen();a[u]=new Ko(We(s,l),d),l+=d;break}case 10:{let d=et(e.restDecoder);a[u]=new Yo(We(s,l),d),l+=d;break}default:{let d=(c&(vs|Ki))===0,f=new jt(We(s,l),null,(c&Ki)===Ki?e.readLeftID():null,null,(c&vs)===vs?e.readRightID():null,d?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,d&&(c&rh)===rh?e.readString():null,xB(e,c));a[u]=f,l+=f.length}}}}return r},VZ=(e,t,r)=>{let n=[],i=gl(r.keys()).sort((h,p)=>h-p);if(i.length===0)return null;let o=()=>{if(i.length===0)return null;let h=r.get(i[i.length-1]);for(;h.refs.length===h.i;)if(i.pop(),i.length>0)h=r.get(i[i.length-1]);else return null;return h},a=o();if(a===null)return null;let s=new q8,l=new Map,u=(h,p)=>{let m=l.get(h);(m==null||m>p)&&l.set(h,p)},c=a.refs[a.i++],d=new Map,f=()=>{for(let h of n){let p=h.id.client,m=r.get(p);m?(m.i--,s.clients.set(p,m.refs.slice(m.i)),r.delete(p),m.i=0,m.refs=[]):s.clients.set(p,[h]),i=i.filter(v=>v!==p)}n.length=0};for(;;){if(c.constructor!==Yo){let p=Lu(d,c.id.client,()=>Lr(t,c.id.client))-c.id.clock;if(p<0)n.push(c),u(c.id.client,c.id.clock-1),f();else{let m=c.getMissing(e,t);if(m!==null){n.push(c);let v=r.get(m)||{refs:[],i:0};if(v.refs.length===v.i)u(m,Lr(t,m)),f();else{c=v.refs[v.i++];continue}}else(p===0||p<c.length)&&(c.integrate(e,p),d.set(c.id.client,c.id.clock+c.length))}}if(n.length>0)c=n.pop();else if(a!==null&&a.i<a.refs.length)c=a.refs[a.i++];else{if(a=o(),a===null)break;c=a.refs[a.i++]}}if(s.clients.size>0){let h=new dd;return G5(h,s,new Map),at(h.restEncoder,0),{missing:l,update:h.toUint8Array()}}return null},HZ=(e,t)=>G5(e,t.doc.store,t.beforeState),jZ=(e,t,r,n=new oh(e))=>Ht(t,i=>{i.local=!1;let o=!1,a=i.doc,s=a.store,l=zZ(n,a),u=VZ(i,s,l),c=s.pendingStructs;if(c){for(let[f,h]of c.missing)if(h<Lr(s,f)){o=!0;break}if(u){for(let[f,h]of u.missing){let p=c.missing.get(f);(p==null||p>h)&&c.missing.set(f,h)}c.update=pw([c.update,u.update])}}else s.pendingStructs=u;let d=l8(n,i,s);if(s.pendingDs){let f=new oh(Bu(s.pendingDs));et(f.restDecoder);let h=l8(f,i,s);d&&h?s.pendingDs=pw([d,h]):s.pendingDs=d||h}else s.pendingDs=d;if(o){let f=s.pendingStructs.update;s.pendingStructs=null,xw(i.doc,f)}},r,!1);var xw=(e,t,r,n=oh)=>{let i=Bu(t);jZ(i,e,r,new n(i))};var $Z=(e,t,r=new Map)=>{G5(e,t.store,r),lh(e,O8(t.store))},UZ=(e,t=new Uint8Array([0]),r=new dd)=>{let n=H8(t);$Z(r,e,n);let i=[r.toUint8Array()];if(e.store.pendingDs&&i.push(e.store.pendingDs),e.store.pendingStructs&&i.push(aee(e.store.pendingStructs.update,t)),i.length>1){if(r.constructor===R0)return iee(i.map((o,a)=>a===0?o:lee(o)));if(r.constructor===dd)return pw(i)}return i[0]},V8=(e,t)=>UZ(e,t,new R0),WZ=e=>{let t=new Map,r=et(e.restDecoder);for(let n=0;n<r;n++){let i=et(e.restDecoder),o=et(e.restDecoder);t.set(i,o)}return t},H8=e=>WZ(new P8(Bu(e))),j8=(e,t)=>(at(e.restEncoder,t.size),gl(t.entries()).sort((r,n)=>n[0]-r[0]).forEach(([r,n])=>{at(e.restEncoder,r),at(e.restEncoder,n)}),e),qZ=(e,t)=>j8(e,_0(t.store)),KZ=(e,t=new z8)=>(e instanceof Map?j8(t,e):qZ(t,e),t.toUint8Array()),$8=e=>KZ(e,new L8),YZ=class{constructor(){this.l=[]}},u8=()=>new YZ,c8=(e,t)=>e.l.push(t),d8=(e,t)=>{let r=e.l,n=r.length;e.l=r.filter(i=>t!==i),n===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},U8=(e,t,r)=>$5(e.l,[t,r]),nh=class{constructor(e,t){this.client=e,this.clock=t}},sw=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,We=(e,t)=>new nh(e,t);var uh=e=>{for(let[t,r]of e.doc.share.entries())if(r===e)return t;throw gi()},ah=(e,t)=>{for(;t!==null;){if(t.parent===e)return!0;t=t.parent._item}return!1};var M0=class{constructor(e,t,r,n=0){this.type=e,this.tname=t,this.item=r,this.assoc=n}};var GZ=class{constructor(e,t,r=0){this.type=e,this.index=t,this.assoc=r}},JZ=(e,t,r=0)=>new GZ(e,t,r),lw=(e,t,r)=>{let n=null,i=null;return e._item===null?i=uh(e):n=We(e._item.id.client,e._item.id.clock),new M0(n,i,t,r)},Ew=(e,t,r=0)=>{let n=e._start;if(r<0){if(t===0)return lw(e,null,r);t--}for(;n!==null;){if(!n.deleted&&n.countable){if(n.length>t)return lw(e,We(n.id.client,n.id.clock+t),r);t-=n.length}if(n.right===null&&r<0)return lw(e,n.lastId,r);n=n.right}return lw(e,null,r)};var W8=(e,t)=>{let r=t.store,n=e.item,i=e.type,o=e.tname,a=e.assoc,s=null,l=0;if(n!==null){if(Lr(r,n.client)<=n.clock)return null;let u=V5(r,n),c=u.item;if(!(c instanceof jt))return null;if(s=c.parent,s._item===null||!s._item.deleted){l=c.deleted||!c.countable?0:u.diff+(a>=0?0:1);let d=c.left;for(;d!==null;)!d.deleted&&d.countable&&(l+=d.length),d=d.left}}else{if(o!==null)s=t.get(o);else if(i!==null){if(Lr(r,i.client)<=i.clock)return null;let{item:u}=V5(r,i);if(u instanceof jt&&u.content instanceof bs)s=u.content.type;else return null}else throw gi();a>=0?l=s._length:l=0}return JZ(s,l,e.assoc)};var Sw=class{constructor(e,t){this.ds=e,this.sv=t}};var Cw=(e,t)=>new Sw(e,t),kke=Cw(bw(),new Map),kw=e=>Cw(O8(e.store),_0(e.store)),cd=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!fd(t.ds,e.id),T5=(e,t)=>{let r=Lu(e.meta,T5,ml),n=e.doc.store;r.has(t)||(t.sv.forEach((i,o)=>{i<Lr(n,o)&&Yi(e,We(o,i))}),wl(e,t.ds,i=>{}),r.add(t))};var q8=class{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}},_0=e=>{let t=new Map;return e.clients.forEach((r,n)=>{let i=r[r.length-1];t.set(n,i.id.clock+i.length)}),t},Lr=(e,t)=>{let r=e.clients.get(t);if(r===void 0)return 0;let n=r[r.length-1];return n.id.clock+n.length},K8=(e,t)=>{let r=e.clients.get(t.id.client);if(r===void 0)r=[],e.clients.set(t.id.client,r);else{let n=r[r.length-1];if(n.id.clock+n.length!==t.id.clock)throw gi()}r.push(t)},ws=(e,t)=>{let r=0,n=e.length-1,i=e[n],o=i.id.clock;if(o===t)return n;let a=gs(t/(o+i.length-1)*n);for(;r<=n;){if(i=e[a],o=i.id.clock,o<=t){if(t<o+i.length)return a;r=a+1}else n=a-1;a=gs((r+n)/2)}throw gi()},QZ=(e,t)=>{let r=e.clients.get(t.client);return r[ws(r,t.clock)]},dw=QZ,D5=(e,t,r)=>{let n=ws(t,r),i=t[n];return i.id.clock<r&&i instanceof jt?(t.splice(n+1,0,yw(e,i,r-i.id.clock)),n+1):n},Yi=(e,t)=>{let r=e.doc.store.clients.get(t.client);return r[D5(e,r,t.clock)]},f8=(e,t,r)=>{let n=t.clients.get(r.client),i=ws(n,r.clock),o=n[i];return r.clock!==o.id.clock+o.length-1&&o.constructor!==Ko&&n.splice(i+1,0,yw(e,o,r.clock-o.id.clock+1)),o},XZ=(e,t,r)=>{let n=e.clients.get(t.id.client);n[ws(n,t.id.clock)]=r},Y8=(e,t,r,n,i)=>{if(n===0)return;let o=r+n,a=D5(e,t,r),s;do s=t[a++],o<s.id.clock+s.length&&D5(e,t,o),i(s);while(a<t.length&&t[a].id.clock<o)},ZZ=class{constructor(e,t,r){this.doc=e,this.deleteSet=new sh,this.beforeState=_0(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}},h8=(e,t)=>t.deleteSet.clients.size===0&&!ZX(t.afterState,(r,n)=>t.beforeState.get(n)!==r)?!1:(K5(t.deleteSet),HZ(e,t),lh(e,t.deleteSet),!0),p8=(e,t,r)=>{let n=t._item;(n===null||n.id.clock<(e.beforeState.get(n.id.client)||0)&&!n.deleted)&&Lu(e.changed,t,ml).add(r)},fw=(e,t)=>{let r=e[t],n=e[t-1],i=t;for(;i>0;r=n,n=e[--i-1]){if(n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)){r instanceof jt&&r.parentSub!==null&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n);continue}break}let o=t-i;return o&&e.splice(t+1-o,o),o},eee=(e,t,r)=>{for(let[n,i]of e.clients.entries()){let o=t.clients.get(n);for(let a=i.length-1;a>=0;a--){let s=i[a],l=s.clock+s.len;for(let u=ws(o,s.clock),c=o[u];u<o.length&&c.id.clock<l;c=o[++u]){let d=o[u];if(s.clock+s.len<=d.id.clock)break;d instanceof jt&&d.deleted&&!d.keep&&r(d)&&d.gc(t,!1)}}}},tee=(e,t)=>{e.clients.forEach((r,n)=>{let i=t.clients.get(n);for(let o=r.length-1;o>=0;o--){let a=r[o],s=Ou(i.length-1,1+ws(i,a.clock+a.len-1));for(let l=s,u=i[l];l>0&&u.id.clock>=a.clock;u=i[l])l-=1+fw(i,l)}})};var G8=(e,t)=>{if(t<e.length){let r=e[t],n=r.doc,i=n.store,o=r.deleteSet,a=r._mergeStructs;try{K5(o),r.afterState=_0(r.doc.store),n.emit("beforeObserverCalls",[r,n]);let s=[];r.changed.forEach((l,u)=>s.push(()=>{(u._item===null||!u._item.deleted)&&u._callObserver(r,l)})),s.push(()=>{r.changedParentTypes.forEach((l,u)=>{u._dEH.l.length>0&&(u._item===null||!u._item.deleted)&&(l=l.filter(c=>c.target._item===null||!c.target._item.deleted),l.forEach(c=>{c.currentTarget=u,c._path=null}),l.sort((c,d)=>c.path.length-d.path.length),U8(u._dEH,l,r))})}),s.push(()=>n.emit("afterTransaction",[r,n])),$5(s,[]),r._needFormattingCleanup&&xee(r)}finally{n.gc&&eee(o,i,n.gcFilter),tee(o,i),r.afterState.forEach((c,d)=>{let f=r.beforeState.get(d)||0;if(f!==c){let h=i.clients.get(d),p=Da(ws(h,f),1);for(let m=h.length-1;m>=p;)m-=1+fw(h,m)}});for(let c=a.length-1;c>=0;c--){let{client:d,clock:f}=a[c].id,h=i.clients.get(d),p=ws(h,f);p+1<h.length&&fw(h,p+1)>1||p>0&&fw(h,p)}if(!r.local&&r.afterState.get(n.clientID)!==r.beforeState.get(n.clientID)&&(MZ(W5,D8,"[yjs] ",I8,F8,"Changed the client-id because another client seems to be using it."),n.clientID=B8()),n.emit("afterTransactionCleanup",[r,n]),n._observers.has("update")){let c=new R0;h8(c,r)&&n.emit("update",[c.toUint8Array(),r.origin,n,r])}if(n._observers.has("updateV2")){let c=new dd;h8(c,r)&&n.emit("updateV2",[c.toUint8Array(),r.origin,n,r])}let{subdocsAdded:s,subdocsLoaded:l,subdocsRemoved:u}=r;(s.size>0||u.size>0||l.size>0)&&(s.forEach(c=>{c.clientID=n.clientID,c.collectionid==null&&(c.collectionid=n.collectionid),n.subdocs.add(c)}),u.forEach(c=>n.subdocs.delete(c)),n.emit("subdocs",[{loaded:l,added:s,removed:u},n,r]),u.forEach(c=>c.destroy())),e.length<=t+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,e])):G8(e,t+1)}}},Ht=(e,t,r=null,n=!0)=>{let i=e._transactionCleanups,o=!1,a=null;e._transaction===null&&(o=!0,e._transaction=new ZZ(e,r,n),i.push(e._transaction),i.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{a=t(e._transaction)}finally{if(o){let s=e._transaction===i[0];e._transaction=null,s&&G8(i,0)}}return a},ree=class{constructor(e,t){this.insertions=t,this.deletions=e,this.meta=new Map}},m8=(e,t,r)=>{wl(e,r.deletions,n=>{n instanceof jt&&t.scope.some(i=>ah(i,n))&&uA(n,!1)})},g8=(e,t,r)=>{let n=null,i=null,o=e.doc,a=e.scope;if(Ht(o,s=>{for(;t.length>0&&n===null;){let l=o.store,u=t.pop(),c=new Set,d=[],f=!1;wl(s,u.insertions,h=>{if(h instanceof jt){if(h.redone!==null){let{item:p,diff:m}=V5(l,h.id);m>0&&(p=Yi(s,We(p.id.client,p.id.clock+m))),h=p}!h.deleted&&a.some(p=>ah(p,h))&&d.push(h)}}),wl(s,u.deletions,h=>{h instanceof jt&&a.some(p=>ah(p,h))&&!fd(u.insertions,h.id)&&c.add(h)}),c.forEach(h=>{f=bB(s,h,c,u.insertions,e.ignoreRemoteMapChanges,e)!==null||f});for(let h=d.length-1;h>=0;h--){let p=d[h];e.deleteFilter(p)&&(p.delete(s),f=!0)}n=f?u:null}s.changed.forEach((l,u)=>{l.has(null)&&u._searchMarker&&(u._searchMarker.length=0)}),i=s},e),n!=null){let s=i.changedParentTypes;e.emit("stack-item-popped",[{stackItem:n,type:r,changedParentTypes:s},e])}return n},J5=class extends E8{constructor(e,{captureTimeout:t=500,captureTransaction:r=s=>!0,deleteFilter:n=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=ew(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.doc=a,this.addToScope(e),this.deleteFilter=n,i.add(this),this.trackedOrigins=i,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=t,this.afterTransactionHandler=s=>{if(!this.captureTransaction(s)||!this.scope.some(m=>s.changedParentTypes.has(m))||!this.trackedOrigins.has(s.origin)&&(!s.origin||!this.trackedOrigins.has(s.origin.constructor)))return;let l=this.undoing,u=this.redoing,c=l?this.redoStack:this.undoStack;l?this.stopCapturing():u||this.clear(!1,!0);let d=new sh;s.afterState.forEach((m,v)=>{let g=s.beforeState.get(v)||0,y=m-g;y>0&&D0(d,v,g,y)});let f=k8(),h=!1;if(this.lastChange>0&&f-this.lastChange<this.captureTimeout&&c.length>0&&!l&&!u){let m=c[c.length-1];m.deletions=A5([m.deletions,s.deleteSet]),m.insertions=A5([m.insertions,d])}else c.push(new ree(s.deleteSet,d)),h=!0;!l&&!u&&(this.lastChange=f),wl(s,s.deleteSet,m=>{m instanceof jt&&this.scope.some(v=>ah(v,m))&&uA(m,!0)});let p=[{stackItem:c[c.length-1],origin:s.origin,type:l?"redo":"undo",changedParentTypes:s.changedParentTypes},this];h?this.emit("stack-item-added",p):this.emit("stack-item-updated",p)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=ew(e)?e:[e],e.forEach(t=>{this.scope.every(r=>r!==t)&&(t.doc!==this.doc&&_Z("[yjs#509] Not same Y.Doc"),this.scope.push(t))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,t=!0){(e&&this.canUndo()||t&&this.canRedo())&&this.doc.transact(r=>{e&&(this.undoStack.forEach(n=>m8(r,this,n)),this.undoStack=[]),t&&(this.redoStack.forEach(n=>m8(r,this,n)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:t}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=g8(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=g8(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}};function*nee(e){let t=et(e.restDecoder);for(let r=0;r<t;r++){let n=et(e.restDecoder),i=e.readClient(),o=et(e.restDecoder);for(let a=0;a<n;a++){let s=e.readInfo();if(s===10){let l=et(e.restDecoder);yield new Yo(We(i,o),l),o+=l}else if((S0&s)!==0){let l=(s&(vs|Ki))===0,u=new jt(We(i,o),null,(s&Ki)===Ki?e.readLeftID():null,null,(s&vs)===vs?e.readRightID():null,l?e.readParentInfo()?e.readString():e.readLeftID():null,l&&(s&rh)===rh?e.readString():null,xB(e,s));yield u,o+=u.length}else{let l=e.readLen();yield new Ko(We(i,o),l),o+=l}}}}var Q5=class{constructor(e,t){this.gen=nee(e),this.curr=null,this.done=!1,this.filterSkips=t,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Yo);return this.curr}};var X5=class{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}},iee=e=>pw(e,NZ,R0);var oee=(e,t)=>{if(e.constructor===Ko){let{client:r,clock:n}=e.id;return new Ko(We(r,n+t),e.length-t)}else if(e.constructor===Yo){let{client:r,clock:n}=e.id;return new Yo(We(r,n+t),e.length-t)}else{let r=e,{client:n,clock:i}=r.id;return new jt(We(n,i+t),null,We(n,i+t-1),null,r.rightOrigin,r.parent,r.parentSub,r.content.splice(t))}},pw=(e,t=oh,r=dd)=>{if(e.length===1)return e[0];let n=e.map(c=>new t(Bu(c))),i=n.map(c=>new Q5(c,!0)),o=null,a=new r,s=new X5(a);for(;i=i.filter(f=>f.curr!==null),i.sort((f,h)=>{if(f.curr.id.client===h.curr.id.client){let p=f.curr.id.clock-h.curr.id.clock;return p===0?f.curr.constructor===h.curr.constructor?0:f.curr.constructor===Yo?1:-1:p}else return h.curr.id.client-f.curr.id.client}),i.length!==0;){let c=i[0],d=c.curr.id.client;if(o!==null){let f=c.curr,h=!1;for(;f!==null&&f.id.clock+f.length<=o.struct.id.clock+o.struct.length&&f.id.client>=o.struct.id.client;)f=c.next(),h=!0;if(f===null||f.id.client!==d||h&&f.id.clock>o.struct.id.clock+o.struct.length)continue;if(d!==o.struct.id.client)Nu(s,o.struct,o.offset),o={struct:f,offset:0},c.next();else if(o.struct.id.clock+o.struct.length<f.id.clock)if(o.struct.constructor===Yo)o.struct.length=f.id.clock+f.length-o.struct.id.clock;else{Nu(s,o.struct,o.offset);let p=f.id.clock-o.struct.id.clock-o.struct.length;o={struct:new Yo(We(d,o.struct.id.clock+o.struct.length),p),offset:0}}else{let p=o.struct.id.clock+o.struct.length-f.id.clock;p>0&&(o.struct.constructor===Yo?o.struct.length-=p:f=oee(f,p)),o.struct.mergeWith(f)||(Nu(s,o.struct,o.offset),o={struct:f,offset:0},c.next())}}else o={struct:c.curr,offset:0},c.next();for(let f=c.curr;f!==null&&f.id.client===d&&f.id.clock===o.struct.id.clock+o.struct.length&&f.constructor!==Yo;f=c.next())Nu(s,o.struct,o.offset),o={struct:f,offset:0}}o!==null&&(Nu(s,o.struct,o.offset),o=null),Z5(s);let l=n.map(c=>Y5(c)),u=A5(l);return lh(a,u),a.toUint8Array()},aee=(e,t,r=oh,n=dd)=>{let i=H8(t),o=new n,a=new X5(o),s=new r(Bu(e)),l=new Q5(s,!1);for(;l.curr;){let c=l.curr,d=c.id.client,f=i.get(d)||0;if(l.curr.constructor===Yo){l.next();continue}if(c.id.clock+c.length>f)for(Nu(a,c,Da(f-c.id.clock,0)),l.next();l.curr&&l.curr.id.client===d;)Nu(a,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===d&&l.curr.id.clock+l.curr.length<=f;)l.next()}Z5(a);let u=Y5(s);return lh(o,u),o.toUint8Array()};var J8=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:go(e.encoder.restEncoder)}),e.encoder.restEncoder=ud(),e.written=0)},Nu=(e,t,r)=>{e.written>0&&e.currClient!==t.id.client&&J8(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),at(e.encoder.restEncoder,t.id.clock+r)),t.write(e.encoder,r),e.written++},Z5=e=>{J8(e);let t=e.encoder.restEncoder;at(t,e.clientStructs.length);for(let r=0;r<e.clientStructs.length;r++){let n=e.clientStructs[r];at(t,n.written),k0(t,n.restEncoder)}},see=(e,t,r,n)=>{let i=new r(Bu(e)),o=new Q5(i,!1),a=new n,s=new X5(a);for(let u=o.curr;u!==null;u=o.next())Nu(s,t(u),0);Z5(s);let l=Y5(i);return lh(a,l),a.toUint8Array()};var lee=e=>see(e,hZ,oh,R0),v8="You must not compute changes after the event-handler fired.",Aw=class{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=uee(this.currentTarget,this.target))}deletes(e){return fd(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw vl(v8);let e=new Map,t=this.target;this.transaction.changed.get(t).forEach(n=>{if(n!==null){let i=t._map.get(n),o,a;if(this.adds(i)){let s=i.left;for(;s!==null&&this.adds(s);)s=s.left;if(this.deletes(i))if(s!==null&&this.deletes(s))o="delete",a=Zy(s.content.getContent());else return;else s!==null&&this.deletes(s)?(o="update",a=Zy(s.content.getContent())):(o="add",a=void 0)}else if(this.deletes(i))o="delete",a=Zy(i.content.getContent());else return;e.set(n,{action:o,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw vl(v8);let t=this.target,r=ml(),n=ml(),i=[];if(e={added:r,deleted:n,delta:i,keys:this.keys},this.transaction.changed.get(t).has(null)){let a=null,s=()=>{a&&i.push(a)};for(let l=t._start;l!==null;l=l.right)l.deleted?this.deletes(l)&&!this.adds(l)&&((a===null||a.delete===void 0)&&(s(),a={delete:0}),a.delete+=l.length,n.add(l)):this.adds(l)?((a===null||a.insert===void 0)&&(s(),a={insert:[]}),a.insert=a.insert.concat(l.content.getContent()),r.add(l)):((a===null||a.retain===void 0)&&(s(),a={retain:0}),a.retain+=l.length);a!==null&&a.retain===void 0&&s()}this._changes=e}return e}},uee=(e,t)=>{let r=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)r.unshift(t._item.parentSub);else{let n=0,i=t._item.parent._start;for(;i!==t._item&&i!==null;)i.deleted||n++,i=i.right;r.unshift(n)}t=t._item.parent}return r},Q8=80,eA=0,cee=class{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=eA++}},dee=e=>{e.timestamp=eA++},X8=(e,t,r)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=r,e.timestamp=eA++},fee=(e,t,r)=>{if(e.length>=Q8){let n=e.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return X8(n,t,r),n}else{let n=new cee(t,r);return e.push(n),n}},Tw=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;let r=e._searchMarker.length===0?null:e._searchMarker.reduce((o,a)=>E0(t-o.index)<E0(t-a.index)?o:a),n=e._start,i=0;for(r!==null&&(n=r.p,i=r.index,dee(r));n.right!==null&&i<t;){if(!n.deleted&&n.countable){if(t<i+n.length)break;i+=n.length}n=n.right}for(;n.left!==null&&i>t;)n=n.left,!n.deleted&&n.countable&&(i-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(i-=n.length);return r!==null&&E0(r.index-i)<n.parent.length/Q8?(X8(r,n,i),r):fee(e._searchMarker,n,i)},I0=(e,t,r)=>{for(let n=e.length-1;n>=0;n--){let i=e[n];if(r>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){e.splice(n,1);continue}i.p=o,o.marker=!0}(t<i.index||r>0&&t===i.index)&&(i.index=Da(t,i.index+r))}};var Dw=(e,t,r)=>{let n=e,i=t.changedParentTypes;for(;Lu(i,e,()=>[]).push(r),e._item!==null;)e=e._item.parent;U8(n._eH,r,t)},Dn=class{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=u8(),this._dEH=u8(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw vo()}clone(){throw vo()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){c8(this._eH,e)}observeDeep(e){c8(this._dEH,e)}unobserve(e){d8(this._eH,e)}unobserveDeep(e){d8(this._dEH,e)}toJSON(){}},Z8=(e,t,r)=>{t<0&&(t=e._length+t),r<0&&(r=e._length+r);let n=r-t,i=[],o=e._start;for(;o!==null&&n>0;){if(o.countable&&!o.deleted){let a=o.content.getContent();if(a.length<=t)t-=a.length;else{for(let s=t;s<a.length&&n>0;s++)i.push(a[s]),n--;t=0}}o=o.right}return i},eB=e=>{let t=[],r=e._start;for(;r!==null;){if(r.countable&&!r.deleted){let n=r.content.getContent();for(let i=0;i<n.length;i++)t.push(n[i])}r=r.right}return t},tA=(e,t)=>{let r=[],n=e._start;for(;n!==null;){if(n.countable&&cd(n,t)){let i=n.content.getContent();for(let o=0;o<i.length;o++)r.push(i[o])}n=n.right}return r},F0=(e,t)=>{let r=0,n=e._start;for(;n!==null;){if(n.countable&&!n.deleted){let i=n.content.getContent();for(let o=0;o<i.length;o++)t(i[o],r++,e)}n=n.right}},tB=(e,t)=>{let r=[];return F0(e,(n,i)=>{r.push(t(n,i,e))}),r},hee=e=>{let t=e._start,r=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(r===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};r=t.content.getContent(),n=0,t=t.right}let i=r[n++];return r.length<=n&&(r=null),{done:!1,value:i}}}},rB=(e,t)=>{let r=Tw(e,t),n=e._start;for(r!==null&&(n=r.p,t-=r.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(t<n.length)return n.content.getContent()[t];t-=n.length}},mw=(e,t,r,n)=>{let i=r,o=e.doc,a=o.clientID,s=o.store,l=r===null?t._start:r.right,u=[],c=()=>{u.length>0&&(i=new jt(We(a,Lr(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new vw(u)),i.integrate(e,0),u=[])};n.forEach(d=>{if(d===null)u.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(d);break;default:switch(c(),d.constructor){case Uint8Array:case ArrayBuffer:i=new jt(We(a,Lr(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new sA(new Uint8Array(d))),i.integrate(e,0);break;case Fa:i=new jt(We(a,Lr(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new lA(d)),i.integrate(e,0);break;default:if(d instanceof Dn)i=new jt(We(a,Lr(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new bs(d)),i.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),c()},nB=()=>vl("Length exceeded!"),iB=(e,t,r,n)=>{if(r>t._length)throw nB();if(r===0)return t._searchMarker&&I0(t._searchMarker,r,n.length),mw(e,t,null,n);let i=r,o=Tw(t,r),a=t._start;for(o!==null&&(a=o.p,r-=o.index,r===0&&(a=a.prev,r+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(r<=a.length){r<a.length&&Yi(e,We(a.id.client,a.id.clock+r));break}r-=a.length}return t._searchMarker&&I0(t._searchMarker,i,n.length),mw(e,t,a,n)},pee=(e,t,r)=>{let i=(t._searchMarker||[]).reduce((o,a)=>a.index>o.index?a:o,{index:0,p:t._start}).p;if(i)for(;i.right;)i=i.right;return mw(e,t,i,r)},oB=(e,t,r,n)=>{if(n===0)return;let i=r,o=n,a=Tw(t,r),s=t._start;for(a!==null&&(s=a.p,r-=a.index);s!==null&&r>0;s=s.right)!s.deleted&&s.countable&&(r<s.length&&Yi(e,We(s.id.client,s.id.clock+r)),r-=s.length);for(;n>0&&s!==null;)s.deleted||(n<s.length&&Yi(e,We(s.id.client,s.id.clock+n)),s.delete(e),n-=s.length),s=s.right;if(n>0)throw nB();t._searchMarker&&I0(t._searchMarker,i,-o+n)},gw=(e,t,r)=>{let n=t._map.get(r);n!==void 0&&n.delete(e)},rA=(e,t,r,n)=>{let i=t._map.get(r)||null,o=e.doc,a=o.clientID,s;if(n==null)s=new vw([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:s=new vw([n]);break;case Uint8Array:s=new sA(n);break;case Fa:s=new lA(n);break;default:if(n instanceof Dn)s=new bs(n);else throw new Error("Unexpected content type")}new jt(We(a,Lr(o.store,a)),i,i&&i.lastId,null,null,t,r,s).integrate(e,0)},nA=(e,t)=>{let r=e._map.get(t);return r!==void 0&&!r.deleted?r.content.getContent()[r.length-1]:void 0},aB=e=>{let t={};return e._map.forEach((r,n)=>{r.deleted||(t[n]=r.content.getContent()[r.length-1])}),t},sB=(e,t)=>{let r=e._map.get(t);return r!==void 0&&!r.deleted};var mee=(e,t)=>{let r={};return e._map.forEach((n,i)=>{let o=n;for(;o!==null&&(!t.sv.has(o.id.client)||o.id.clock>=(t.sv.get(o.id.client)||0));)o=o.left;o!==null&&cd(o,t)&&(r[i]=o.content.getContent()[o.length-1])}),r},uw=e=>OZ(e.entries(),t=>!t[1].deleted),gee=class extends Aw{constructor(e,t){super(e,t),this._transaction=t}},lB=class hw extends Dn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){let r=new hw;return r.push(t),r}_integrate(t,r){super._integrate(t,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new hw}clone(){let t=new hw;return t.insert(0,this.toArray().map(r=>r instanceof Dn?r.clone():r)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(t,r){super._callObserver(t,r),Dw(this,t,new gee(this,t))}insert(t,r){this.doc!==null?Ht(this.doc,n=>{iB(n,this,t,r)}):this._prelimContent.splice(t,0,...r)}push(t){this.doc!==null?Ht(this.doc,r=>{pee(r,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,r=1){this.doc!==null?Ht(this.doc,n=>{oB(n,this,t,r)}):this._prelimContent.splice(t,r)}get(t){return rB(this,t)}toArray(){return eB(this)}slice(t=0,r=this.length){return Z8(this,t,r)}toJSON(){return this.map(t=>t instanceof Dn?t.toJSON():t)}map(t){return tB(this,t)}forEach(t){F0(this,t)}[Symbol.iterator](){return hee(this)}_write(t){t.writeTypeRef(Vee)}},vee=e=>new lB,iA=class extends Aw{constructor(e,t,r){super(e,t),this.keysChanged=r}},Ra=class I5 extends Dn{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,r){super._integrate(t,r),this._prelimContent.forEach((n,i)=>{this.set(i,n)}),this._prelimContent=null}_copy(){return new I5}clone(){let t=new I5;return this.forEach((r,n)=>{t.set(n,r instanceof Dn?r.clone():r)}),t}_callObserver(t,r){Dw(this,t,new iA(this,t,r))}toJSON(){let t={};return this._map.forEach((r,n)=>{if(!r.deleted){let i=r.content.getContent()[r.length-1];t[n]=i instanceof Dn?i.toJSON():i}}),t}get size(){return[...uw(this._map)].length}keys(){return b5(uw(this._map),t=>t[0])}values(){return b5(uw(this._map),t=>t[1].content.getContent()[t[1].length-1])}entries(){return b5(uw(this._map),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this._map.forEach((r,n)=>{r.deleted||t(r.content.getContent()[r.length-1],n,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?Ht(this.doc,r=>{gw(r,this,t)}):this._prelimContent.delete(t)}set(t,r){return this.doc!==null?Ht(this.doc,n=>{rA(n,this,t,r)}):this._prelimContent.set(t,r),r}get(t){return nA(this,t)}has(t){return sB(this,t)}clear(){this.doc!==null?Ht(this.doc,t=>{this.forEach(function(r,n,i){gw(t,i,n)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(Hee)}},yee=e=>new Ra,Pu=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&fZ(e,t),F5=class{constructor(e,t,r,n){this.left=e,this.right=t,this.index=r,this.currentAttributes=n}forward(){switch(this.right===null&&gi(),this.right.content.constructor){case Zr:this.right.deleted||ch(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}},y8=(e,t,r)=>{for(;t.right!==null&&r>0;){switch(t.right.content.constructor){case Zr:t.right.deleted||ch(t.currentAttributes,t.right.content);break;default:t.right.deleted||(r<t.right.length&&Yi(e,We(t.right.id.client,t.right.id.clock+r)),t.index+=t.right.length,r-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},cw=(e,t,r,n)=>{let i=new Map,o=n?Tw(t,r):null;if(o){let a=new F5(o.p.left,o.p,o.index,i);return y8(e,a,r-o.index)}else{let a=new F5(null,t._start,0,i);return y8(e,a,r)}},uB=(e,t,r,n)=>{for(;r.right!==null&&(r.right.deleted===!0||r.right.content.constructor===Zr&&Pu(n.get(r.right.content.key),r.right.content.value));)r.right.deleted||n.delete(r.right.content.key),r.forward();let i=e.doc,o=i.clientID;n.forEach((a,s)=>{let l=r.left,u=r.right,c=new jt(We(o,Lr(i.store,o)),l,l&&l.lastId,u,u&&u.id,t,null,new Zr(s,a));c.integrate(e,0),r.right=c,r.forward()})},ch=(e,t)=>{let{key:r,value:n}=t;n===null?e.delete(r):e.set(r,n)},cB=(e,t)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===Zr&&Pu(t[e.right.content.key]||null,e.right.content.value)))break;e.forward()}},dB=(e,t,r,n)=>{let i=e.doc,o=i.clientID,a=new Map;for(let s in n){let l=n[s],u=r.currentAttributes.get(s)||null;if(!Pu(u,l)){a.set(s,u);let{left:c,right:d}=r;r.right=new jt(We(o,Lr(i.store,o)),c,c&&c.lastId,d,d&&d.id,t,null,new Zr(s,l)),r.right.integrate(e,0),r.forward()}}return a},x5=(e,t,r,n,i)=>{r.currentAttributes.forEach((f,h)=>{i[h]===void 0&&(i[h]=null)});let o=e.doc,a=o.clientID;cB(r,i);let s=dB(e,t,r,i),l=n.constructor===String?new bl(n):n instanceof Dn?new bs(n):new O0(n),{left:u,right:c,index:d}=r;t._searchMarker&&I0(t._searchMarker,r.index,l.getLength()),c=new jt(We(a,Lr(o.store,a)),u,u&&u.lastId,c,c&&c.id,t,null,l),c.integrate(e,0),r.right=c,r.index=d,r.forward(),uB(e,t,r,s)},w8=(e,t,r,n,i)=>{let o=e.doc,a=o.clientID;cB(r,i);let s=dB(e,t,r,i);e:for(;r.right!==null&&(n>0||s.size>0&&(r.right.deleted||r.right.content.constructor===Zr));){if(!r.right.deleted)switch(r.right.content.constructor){case Zr:{let{key:l,value:u}=r.right.content,c=i[l];if(c!==void 0){if(Pu(c,u))s.delete(l);else{if(n===0)break e;s.set(l,u)}r.right.delete(e)}else r.currentAttributes.set(l,u);break}default:n<r.right.length&&Yi(e,We(r.right.id.client,r.right.id.clock+n)),n-=r.right.length;break}r.forward()}if(n>0){let l="";for(;n>0;n--)l+=`
`;r.right=new jt(We(a,Lr(o.store,a)),r.left,r.left&&r.left.lastId,r.right,r.right&&r.right.id,t,null,new bl(l)),r.right.integrate(e,0),r.forward()}uB(e,t,r,s)},fB=(e,t,r,n,i)=>{let o=t,a=Ia();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===Zr){let u=o.content;a.set(u.key,u)}o=o.right}let s=0,l=!1;for(;t!==o;){if(r===t&&(l=!0),!t.deleted){let u=t.content;switch(u.constructor){case Zr:{let{key:c,value:d}=u,f=n.get(c)||null;(a.get(c)!==u||f===d)&&(t.delete(e),s++,!l&&(i.get(c)||null)===d&&f!==d&&(f===null?i.delete(c):i.set(c,f))),!l&&!t.deleted&&ch(i,u);break}}}t=t.right}return s},wee=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;let r=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===Zr){let n=t.content.key;r.has(n)?t.delete(e):r.add(n)}t=t.left}},bee=e=>{let t=0;return Ht(e.doc,r=>{let n=e._start,i=e._start,o=Ia(),a=S5(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case Zr:ch(a,i.content);break;default:t+=fB(r,n,i,o,a),o=S5(a),n=i;break}i=i.right}}),t},xee=e=>{let t=new Set,r=e.doc;for(let[n,i]of e.afterState.entries()){let o=e.beforeState.get(n)||0;i!==o&&Y8(e,r.store.clients.get(n),o,i,a=>{!a.deleted&&a.content.constructor===Zr&&a.constructor!==Ko&&t.add(a.parent)})}Ht(r,n=>{wl(e,e.deleteSet,i=>{if(i instanceof Ko||!i.parent._hasFormatting||t.has(i.parent))return;let o=i.parent;i.content.constructor===Zr?t.add(o):wee(n,i)});for(let i of t)bee(i)})},b8=(e,t,r)=>{let n=r,i=S5(t.currentAttributes),o=t.right;for(;r>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case bs:case O0:case bl:r<t.right.length&&Yi(e,We(t.right.id.client,t.right.id.clock+r)),r-=t.right.length,t.right.delete(e);break}t.forward()}o&&fB(e,o,t.right,i,t.currentAttributes);let a=(t.left||t.right).parent;return a._searchMarker&&I0(a._searchMarker,t.index,-n+r),t},Eee=class extends Aw{constructor(e,t,r){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(n=>{n===null?this.childListChanged=!0:this.keysChanged.add(n)})}get changes(){if(this._changes===null){let e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){let e=this.target.doc,t=[];Ht(e,r=>{let n=new Map,i=new Map,o=this.target._start,a=null,s={},l="",u=0,c=0,d=()=>{if(a!==null){let f=null;switch(a){case"delete":c>0&&(f={delete:c}),c=0;break;case"insert":(typeof l=="object"||l.length>0)&&(f={insert:l},n.size>0&&(f.attributes={},n.forEach((h,p)=>{h!==null&&(f.attributes[p]=h)}))),l="";break;case"retain":u>0&&(f={retain:u},uZ(s)||(f.attributes=sZ({},s))),u=0;break}f&&t.push(f),a=null}};for(;o!==null;){switch(o.content.constructor){case bs:case O0:this.adds(o)?this.deletes(o)||(d(),a="insert",l=o.content.getContent()[0],d()):this.deletes(o)?(a!=="delete"&&(d(),a="delete"),c+=1):o.deleted||(a!=="retain"&&(d(),a="retain"),u+=1);break;case bl:this.adds(o)?this.deletes(o)||(a!=="insert"&&(d(),a="insert"),l+=o.content.str):this.deletes(o)?(a!=="delete"&&(d(),a="delete"),c+=o.length):o.deleted||(a!=="retain"&&(d(),a="retain"),u+=o.length);break;case Zr:{let{key:f,value:h}=o.content;if(this.adds(o)){if(!this.deletes(o)){let p=n.get(f)||null;Pu(p,h)?h!==null&&o.delete(r):(a==="retain"&&d(),Pu(h,i.get(f)||null)?delete s[f]:s[f]=h)}}else if(this.deletes(o)){i.set(f,h);let p=n.get(f)||null;Pu(p,h)||(a==="retain"&&d(),s[f]=p)}else if(!o.deleted){i.set(f,h);let p=s[f];p!==void 0&&(Pu(p,h)?p!==null&&o.delete(r):(a==="retain"&&d(),h===null?delete s[f]:s[f]=h))}o.deleted||(a==="insert"&&d(),ch(n,o.content));break}}o=o.right}for(d();t.length>0;){let f=t[t.length-1];if(f.retain!==void 0&&f.attributes===void 0)t.pop();else break}}),this._delta=t}return this._delta}},zu=class R5 extends Dn{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(t,r){super._integrate(t,r);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new R5}clone(){let t=new R5;return t.applyDelta(this.toDelta()),t}_callObserver(t,r){super._callObserver(t,r);let n=new Eee(this,t,r);Dw(this,t,n),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){let t="",r=this._start;for(;r!==null;)!r.deleted&&r.countable&&r.content.constructor===bl&&(t+=r.content.str),r=r.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:r=!0}={}){this.doc!==null?Ht(this.doc,n=>{let i=new F5(null,this._start,0,new Map);for(let o=0;o<t.length;o++){let a=t[o];if(a.insert!==void 0){let s=!r&&typeof a.insert=="string"&&o===t.length-1&&i.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof s!="string"||s.length>0)&&x5(n,this,i,s,a.attributes||{})}else a.retain!==void 0?w8(n,this,i,a.retain,a.attributes||{}):a.delete!==void 0&&b8(n,i,a.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,r,n){let i=[],o=new Map,a=this.doc,s="",l=this._start;function u(){if(s.length>0){let d={},f=!1;o.forEach((p,m)=>{f=!0,d[m]=p});let h={insert:s};f&&(h.attributes=d),i.push(h),s=""}}let c=()=>{for(;l!==null;){if(cd(l,t)||r!==void 0&&cd(l,r))switch(l.content.constructor){case bl:{let d=o.get("ychange");t!==void 0&&!cd(l,t)?(d===void 0||d.user!==l.id.client||d.type!=="removed")&&(u(),o.set("ychange",n?n("removed",l.id):{type:"removed"})):r!==void 0&&!cd(l,r)?(d===void 0||d.user!==l.id.client||d.type!=="added")&&(u(),o.set("ychange",n?n("added",l.id):{type:"added"})):d!==void 0&&(u(),o.delete("ychange")),s+=l.content.str;break}case bs:case O0:{u();let d={insert:l.content.getContent()[0]};if(o.size>0){let f={};d.attributes=f,o.forEach((h,p)=>{f[p]=h})}i.push(d);break}case Zr:cd(l,t)&&(u(),ch(o,l.content));break}l=l.right}u()};return t||r?Ht(a,d=>{t&&T5(d,t),r&&T5(d,r),c()},"cleanup"):c(),i}insert(t,r,n){if(r.length<=0)return;let i=this.doc;i!==null?Ht(i,o=>{let a=cw(o,this,t,!n);n||(n={},a.currentAttributes.forEach((s,l)=>{n[l]=s})),x5(o,this,a,r,n)}):this._pending.push(()=>this.insert(t,r,n))}insertEmbed(t,r,n){let i=this.doc;i!==null?Ht(i,o=>{let a=cw(o,this,t,!n);x5(o,this,a,r,n||{})}):this._pending.push(()=>this.insertEmbed(t,r,n||{}))}delete(t,r){if(r===0)return;let n=this.doc;n!==null?Ht(n,i=>{b8(i,cw(i,this,t,!0),r)}):this._pending.push(()=>this.delete(t,r))}format(t,r,n){if(r===0)return;let i=this.doc;i!==null?Ht(i,o=>{let a=cw(o,this,t,!1);a.right!==null&&w8(o,this,a,r,n)}):this._pending.push(()=>this.format(t,r,n))}removeAttribute(t){this.doc!==null?Ht(this.doc,r=>{gw(r,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,r){this.doc!==null?Ht(this.doc,n=>{rA(n,this,t,r)}):this._pending.push(()=>this.setAttribute(t,r))}getAttribute(t){return nA(this,t)}getAttributes(){return aB(this)}_write(t){t.writeTypeRef(jee)}},See=e=>new zu,E5=class{constructor(e,t=()=>!0){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(t)))do if(t=e.content.type,!e.deleted&&(t.constructor===yi||t.constructor===dh)&&t._start!==null)e=t._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}},dh=class M5 extends Dn{constructor(){super(),this._prelimContent=[]}get firstChild(){let t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,r){super._integrate(t,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new M5}clone(){let t=new M5;return t.insert(0,this.toArray().map(r=>r instanceof Dn?r.clone():r)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new E5(this,t)}querySelector(t){t=t.toUpperCase();let n=new E5(this,i=>i.nodeName&&i.nodeName.toUpperCase()===t).next();return n.done?null:n.value}querySelectorAll(t){return t=t.toUpperCase(),gl(new E5(this,r=>r.nodeName&&r.nodeName.toUpperCase()===t))}_callObserver(t,r){Dw(this,t,new Aee(this,r,t))}toString(){return tB(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,r={},n){let i=t.createDocumentFragment();return n!==void 0&&n._createAssociation(i,this),F0(this,o=>{i.insertBefore(o.toDOM(t,r,n),null)}),i}insert(t,r){this.doc!==null?Ht(this.doc,n=>{iB(n,this,t,r)}):this._prelimContent.splice(t,0,...r)}insertAfter(t,r){if(this.doc!==null)Ht(this.doc,n=>{let i=t&&t instanceof Dn?t._item:t;mw(n,this,i,r)});else{let n=this._prelimContent,i=t===null?0:n.findIndex(o=>o===t)+1;if(i===0&&t!==null)throw vl("Reference item not found");n.splice(i,0,...r)}}delete(t,r=1){this.doc!==null?Ht(this.doc,n=>{oB(n,this,t,r)}):this._prelimContent.splice(t,r)}toArray(){return eB(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return rB(this,t)}slice(t=0,r=this.length){return Z8(this,t,r)}forEach(t){F0(this,t)}_write(t){t.writeTypeRef(Uee)}},Cee=e=>new dh,yi=class _5 extends dh{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){let t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){let t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,r){super._integrate(t,r),this._prelimAttrs.forEach((n,i)=>{this.setAttribute(i,n)}),this._prelimAttrs=null}_copy(){return new _5(this.nodeName)}clone(){let t=new _5(this.nodeName),r=this.getAttributes();return lZ(r,(n,i)=>{typeof n=="string"&&t.setAttribute(i,n)}),t.insert(0,this.toArray().map(n=>n instanceof Dn?n.clone():n)),t}toString(){let t=this.getAttributes(),r=[],n=[];for(let s in t)n.push(s);n.sort();let i=n.length;for(let s=0;s<i;s++){let l=n[s];r.push(l+'="'+t[l]+'"')}let o=this.nodeName.toLocaleLowerCase(),a=r.length>0?" "+r.join(" "):"";return`<${o}${a}>${super.toString()}</${o}>`}removeAttribute(t){this.doc!==null?Ht(this.doc,r=>{gw(r,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,r){this.doc!==null?Ht(this.doc,n=>{rA(n,this,t,r)}):this._prelimAttrs.set(t,r)}getAttribute(t){return nA(this,t)}hasAttribute(t){return sB(this,t)}getAttributes(t){return t?mee(this,t):aB(this)}toDOM(t=document,r={},n){let i=t.createElement(this.nodeName),o=this.getAttributes();for(let a in o){let s=o[a];typeof s=="string"&&i.setAttribute(a,s)}return F0(this,a=>{i.appendChild(a.toDOM(t,r,n))}),n!==void 0&&n._createAssociation(i,this),i}_write(t){t.writeTypeRef($ee),t.writeKey(this.nodeName)}},kee=e=>new yi(e.readKey()),Aee=class extends Aw{constructor(e,t,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach(n=>{n===null?this.childListChanged=!0:this.attributesChanged.add(n)})}},oA=class O5 extends Ra{constructor(t){super(),this.hookName=t}_copy(){return new O5(this.hookName)}clone(){let t=new O5(this.hookName);return this.forEach((r,n)=>{t.set(n,r)}),t}toDOM(t=document,r={},n){let i=r[this.hookName],o;return i!==void 0?o=i.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(o,this),o}_write(t){t.writeTypeRef(Wee),t.writeKey(this.hookName)}},Tee=e=>new oA(e.readKey()),wi=class B5 extends zu{get nextSibling(){let t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){let t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new B5}clone(){let t=new B5;return t.applyDelta(this.toDelta()),t}toDOM(t=document,r,n){let i=t.createTextNode(this.toString());return n!==void 0&&n._createAssociation(i,this),i}toString(){return this.toDelta().map(t=>{let r=[];for(let i in t.attributes){let o=[];for(let a in t.attributes[i])o.push({key:a,value:t.attributes[i][a]});o.sort((a,s)=>a.key<s.key?-1:1),r.push({nodeName:i,attrs:o})}r.sort((i,o)=>i.nodeName<o.nodeName?-1:1);let n="";for(let i=0;i<r.length;i++){let o=r[i];n+=`<${o.nodeName}`;for(let a=0;a<o.attrs.length;a++){let s=o.attrs[a];n+=` ${s.key}="${s.value}"`}n+=">"}n+=t.insert;for(let i=r.length-1;i>=0;i--)n+=`</${r[i].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(qee)}},Dee=e=>new wi,aA=class{constructor(e,t){this.id=e,this.length=t}get deleted(){throw vo()}mergeWith(e){return!1}write(e,t,r){throw vo()}integrate(e,t){throw vo()}},Iee=0,Ko=class extends aA{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),K8(e.doc.store,this)}write(e,t){e.writeInfo(Iee),e.writeLen(this.length-t)}getMissing(e,t){return null}},sA=class hB{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new hB(this.content)}splice(t){throw vo()}mergeWith(t){return!1}integrate(t,r){}delete(t){}gc(t){}write(t,r){t.writeBuf(this.content)}getRef(){return 3}},Fee=e=>new sA(e.readBuf()),pB=class N5{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new N5(this.len)}splice(t){let r=new N5(this.len-t);return this.len=t,r}mergeWith(t){return this.len+=t.len,!0}integrate(t,r){D0(t.deleteSet,r.id.client,r.id.clock,this.len),r.markDeleted()}delete(t){}gc(t){}write(t,r){t.writeLen(this.len-r)}getRef(){return 1}},Ree=e=>new pB(e.readLen()),mB=(e,t)=>new Fa({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1}),lA=class gB{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;let r={};this.opts=r,t.gc||(r.gc=!1),t.autoLoad&&(r.autoLoad=!0),t.meta!==null&&(r.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new gB(mB(this.doc.guid,this.opts))}splice(t){throw vo()}mergeWith(t){return!1}integrate(t,r){this.doc._item=r,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,r){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}},Mee=e=>new lA(mB(e.readString(),e.readAny())),O0=class vB{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new vB(this.embed)}splice(t){throw vo()}mergeWith(t){return!1}integrate(t,r){}delete(t){}gc(t){}write(t,r){t.writeJSON(this.embed)}getRef(){return 5}},_ee=e=>new O0(e.readJSON()),Zr=class yB{constructor(t,r){this.key=t,this.value=r}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new yB(this.key,this.value)}splice(t){throw vo()}mergeWith(t){return!1}integrate(t,r){let n=r.parent;n._searchMarker=null,n._hasFormatting=!0}delete(t){}gc(t){}write(t,r){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}},Oee=e=>new Zr(e.readKey(),e.readJSON()),Bee=class P5{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new P5(this.arr)}splice(t){let r=new P5(this.arr.slice(t));return this.arr=this.arr.slice(0,t),r}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,r){}delete(t){}gc(t){}write(t,r){let n=this.arr.length;t.writeLen(n-r);for(let i=r;i<n;i++){let o=this.arr[i];t.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}},Nee=e=>{let t=e.readLen(),r=[];for(let n=0;n<t;n++){let i=e.readString();i==="undefined"?r.push(void 0):r.push(JSON.parse(i))}return new Bee(r)},vw=class L5{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new L5(this.arr)}splice(t){let r=new L5(this.arr.slice(t));return this.arr=this.arr.slice(0,t),r}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,r){}delete(t){}gc(t){}write(t,r){let n=this.arr.length;t.writeLen(n-r);for(let i=r;i<n;i++){let o=this.arr[i];t.writeAny(o)}}getRef(){return 8}},Pee=e=>{let t=e.readLen(),r=[];for(let n=0;n<t;n++)r.push(e.readAny());return new vw(r)},bl=class z5{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new z5(this.str)}splice(t){let r=new z5(this.str.slice(t));this.str=this.str.slice(0,t);let n=this.str.charCodeAt(t-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,t-1)+"\uFFFD",r.str="\uFFFD"+r.str.slice(1)),r}mergeWith(t){return this.str+=t.str,!0}integrate(t,r){}delete(t){}gc(t){}write(t,r){t.writeString(r===0?this.str:this.str.slice(r))}getRef(){return 4}},Lee=e=>new bl(e.readString()),zee=[vee,yee,See,kee,Cee,Tee,Dee],Vee=0,Hee=1,jee=2,$ee=3,Uee=4,Wee=5,qee=6,bs=class wB{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new wB(this.type._copy())}splice(t){throw vo()}mergeWith(t){return!1}integrate(t,r){this.type._integrate(t.doc,r)}delete(t){let r=this.type._start;for(;r!==null;)r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t),r=r.right;this.type._map.forEach(n=>{n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t)}),t.changed.delete(this.type)}gc(t){let r=this.type._start;for(;r!==null;)r.gc(t,!0),r=r.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(t,!0),n=n.left}),this.type._map=new Map}write(t,r){this.type._write(t)}getRef(){return 7}},Kee=e=>new bs(zee[e.readTypeRef()](e)),V5=(e,t)=>{let r=t,n=0,i;do n>0&&(r=We(r.client,r.clock+n)),i=dw(e,r),n=r.clock-i.id.clock,r=i.redone;while(r!==null&&i instanceof jt);return{item:i,diff:n}},uA=(e,t)=>{for(;e!==null&&e.keep!==t;)e.keep=t,e=e.parent._item},yw=(e,t,r)=>{let{client:n,clock:i}=t.id,o=new jt(We(n,i+r),t,We(n,i+r-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(r));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),t.redone!==null&&(o.redone=We(t.redone.client,t.redone.clock+r)),t.right=o,o.right!==null&&(o.right.left=o),e._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),t.length=r,o},x8=(e,t)=>XO(e,r=>fd(r.deletions,t)),bB=(e,t,r,n,i,o)=>{let a=e.doc,s=a.store,l=a.clientID,u=t.redone;if(u!==null)return Yi(e,u);let c=t.parent._item,d=null,f;if(c!==null&&c.deleted===!0){if(c.redone===null&&(!r.has(c)||bB(e,c,r,n,i,o)===null))return null;for(;c.redone!==null;)c=Yi(e,c.redone)}let h=c===null?t.parent:c.content.type;if(t.parentSub===null){for(d=t.left,f=t;d!==null;){let g=d;for(;g!==null&&g.parent._item!==c;)g=g.redone===null?null:Yi(e,g.redone);if(g!==null&&g.parent._item===c){d=g;break}d=d.left}for(;f!==null;){let g=f;for(;g!==null&&g.parent._item!==c;)g=g.redone===null?null:Yi(e,g.redone);if(g!==null&&g.parent._item===c){f=g;break}f=f.right}}else if(f=null,t.right&&!i){for(d=t;d!==null&&d.right!==null&&(d.right.redone||fd(n,d.right.id)||x8(o.undoStack,d.right.id)||x8(o.redoStack,d.right.id));)for(d=d.right;d.redone;)d=Yi(e,d.redone);if(d&&d.right!==null)return null}else d=h._map.get(t.parentSub)||null;let p=Lr(s,l),m=We(l,p),v=new jt(m,d,d&&d.lastId,f,f&&f.id,h,t.parentSub,t.content.copy());return t.redone=m,uA(v,!0),v.integrate(e,0),v},jt=class H5 extends aA{constructor(t,r,n,i,o,a,s,l){super(t,l.getLength()),this.origin=n,this.left=r,this.right=i,this.rightOrigin=o,this.parent=a,this.parentSub=s,this.redone=null,this.content=l,this.info=this.content.isCountable()?p5:0}set marker(t){(this.info&Xy)>0!==t&&(this.info^=Xy)}get marker(){return(this.info&Xy)>0}get keep(){return(this.info&h5)>0}set keep(t){this.keep!==t&&(this.info^=h5)}get countable(){return(this.info&p5)>0}get deleted(){return(this.info&Qy)>0}set deleted(t){this.deleted!==t&&(this.info^=Qy)}markDeleted(){this.info|=Qy}getMissing(t,r){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Lr(r,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Lr(r,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===nh&&this.id.client!==this.parent.client&&this.parent.clock>=Lr(r,this.parent.client))return this.parent.client;if(this.origin&&(this.left=f8(t,r,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Yi(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Ko||this.right&&this.right.constructor===Ko)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===H5&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===H5&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===nh){let n=dw(r,this.parent);n.constructor===Ko?this.parent=null:this.parent=n.content.type}return null}integrate(t,r){if(r>0&&(this.id.clock+=r,this.left=f8(t,t.doc.store,We(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(r),this.length-=r),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,i;if(n!==null)i=n.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;let o=new Set,a=new Set;for(;i!==null&&i!==this.right;){if(a.add(i),o.add(i),sw(this.origin,i.origin)){if(i.id.client<this.id.client)n=i,o.clear();else if(sw(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&a.has(dw(t.doc.store,i.origin)))o.has(dw(t.doc.store,i.origin))||(n=i,o.clear());else break;i=i.right}this.left=n}if(this.left!==null){let n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),K8(t.doc.store,this),this.content.integrate(t,this),p8(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new Ko(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:We(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&sw(t.origin,this.lastId)&&this.right===t&&sw(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){let r=this.parent._searchMarker;return r&&r.forEach(n=>{n.p===t&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){let r=this.parent;this.countable&&this.parentSub===null&&(r._length-=this.length),this.markDeleted(),D0(t.deleteSet,this.id.client,this.id.clock,this.length),p8(t,r,this.parentSub),this.content.delete(t)}}gc(t,r){if(!this.deleted)throw gi();this.content.gc(t),r?XZ(t,this,new Ko(this.id,this.length)):this.content=new pB(this.length)}write(t,r){let n=r>0?We(this.id.client,this.id.clock+r-1):this.origin,i=this.rightOrigin,o=this.parentSub,a=this.content.getRef()&S0|(n===null?0:Ki)|(i===null?0:vs)|(o===null?0:rh);if(t.writeInfo(a),n!==null&&t.writeLeftID(n),i!==null&&t.writeRightID(i),n===null&&i===null){let s=this.parent;if(s._item!==void 0){let l=s._item;if(l===null){let u=uh(s);t.writeParentInfo(!0),t.writeString(u)}else t.writeParentInfo(!1),t.writeLeftID(l.id)}else s.constructor===String?(t.writeParentInfo(!0),t.writeString(s)):s.constructor===nh?(t.writeParentInfo(!1),t.writeLeftID(s)):gi();o!==null&&t.writeString(o)}this.content.write(t,r)}},xB=(e,t)=>Yee[t&S0](e),Yee=[()=>{gi()},Ree,Nee,Fee,Lee,_ee,Oee,Kee,Pee,Mee,()=>{gi()}],Gee=10,Yo=class extends aA{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,t){gi()}write(e,t){e.writeInfo(Gee),at(e.restEncoder,this.length-t)}getMissing(e,t){return null}},EB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},SB="__ $YJS$ __";EB[SB]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");EB[SB]=!0;var Jee=globalThis,Qee="__ $YJS$ __";delete Jee[Qee];var Gi=class CB{constructor(t,r,n){this.label=t,this.shapes=r,this.initialValue=n}concat(t){return t?new CB(t.label,{...this.shapes,...t.shapes}):this}create(){return this.initialValue??Object.fromEntries(Object.entries(this.shapes).map(([t,r])=>[t,r.create()]))}toY(t){let r=t||{},n=new Ra;for(let i of Rt(this.shapes))n.set(i,this.shapes[i].toY(r[i]));return n}fromY(t){let r={};for(let n of Rt(this.shapes))r[n]=this.shapes[n].fromY(t?.get(n));return r}applyY(t,r,n){let i="getMap"in r?r.getMap(n):r.get(n);if(!i)return void r.set(n,this.toY(t));let o=t??{};for(let a of Rt(this.shapes))this.shapes[a].init(i,a),a in o&&this.shapes[a].applyY(o[a],i,a)}init(t,r){t.has(r)||t.set(r,this.toY(this.create()))}watch(t,r){return n=>{let i=r?t.get(r):t;return i.observe(n),()=>i.unobserve(n)}}mutator(t,r){return{set:(n,i)=>{let o=t.get(r),a=this.shapes[n];o.set(n,a.toY(i))}}}async applyLinks(t,r){let n=t||{},i=[];for(let[o,a]of ue(this.shapes))i.push(a.applyLinks(n[o],r));await Promise.all(i)}toV1(t){let r=t||{},n={};for(let i of Rt(this.shapes)){let a=i.startsWith("_")?r[i.slice(1)]:r[i],s=r[i]??a;s!==void 0&&(n[i]=this.shapes[i].toV1(s))}return n}searchableText(t){let r="",n=t||{};for(let i of Rt(this.shapes))r+=this.shapes[i].searchableText(n[i]);return r}};w();var Xee=/^[A-Za-z][A-Za-z0-9_]*$/;function Vu(e){return Xee.test(e)}var me;(e=>{function t(y){return tt(y).label}e.label=t;function r(y){return tt(y).contains??[]}e.contains=r;function n(y){return tt(y).insertOrder??"free"}e.insertOrder=n;function i(y){return!!tt(y).hidden}e.isHidden=i;function o(y){return tt(y).shape}e.shape=o;function a(y,b){return o(y).searchableText(b).trim()}e.searchableText=a;function s(y){return tt(y).allFields}function l(y){return tt(y).sections}e.sections=l;function u(y){return!!tt(y).contains}e.isContainer=u;function c(y,b){return tt(y).allFields[b]}e.field=c;function d(y){return!!(y&&$I(y))}e.isType=d;function f(y,b){let x={};for(let[S,E]of ue(s(y)))He.options(E).shared&&(x[S]=b[S]);if(Rt(x).length!==0)return x}e.sharedData=f;function h(y){let b={};for(let[x,S]of ue(s(y)))b[x]=He.initialValue(S);return b}e.initialValue=h;function p(y){return tt(y).preview}e.preview=p;let m=Mu({view:Ru.optional,summaryRow:Ru.optional,summaryThumb:Ru.optional});function v(y){m(tt(y));for(let[b,x]of ue(s(y)))if(!Vu(b))throw new Error(`Invalid field name "${b}" in Type "${t(y)}", must match [A-Za-z][A-Za-z0-9_]*`)}e.validate=v;function g(y){let{view:b,summaryRow:x,summaryThumb:S}=tt(y);return[b,x,S,...kB(tt(y).fields)].filter(E=>typeof E=="string")}e.referencedViews=g})(me||(me={}));function kB(e){return ma(e).flatMap(t=>He.isField(t)?He.referencedViews(t):cr.isSection(t)?cr.referencedViews(t).concat(kB(cr.fields(t))):[])}function Zee(e){return ue(e).flatMap(([t,r])=>He.isField(r)?[[t,r]]:cr.isSection(r)?ue(cr.fields(r)):[])}function wr(e,t){let r=[],n={},i=()=>{Rt(n).length>0&&r.push(Zf({definition:n})),n={}},o=[];if(typeof t.fields!="object")throw new Error("Type fields must be an object");for(let[l,u]of ue(t.fields))if(He.isField(u))n[l]=u,o.push([l,u]);else if(cr.isSection(u)){i(),r.push(u);for(let[c,d]of ue(cr.fields(u)))o.push([c,d])}i();let a=Dt(o),s={...a,[Gv]:{...t,allFields:a,sections:r,shape:new Gi(e,Dt(Zee(t.fields).map(([l,u])=>[l,He.shape(u)]))),label:e}};return me.validate(s),s}var cA=wr("Media directory",{view:Qe.MediaExplorer,icon:Jy,contains:["MediaLibrary"],fields:{title:mi("Title"),path:mi("Path")}}),Ot=wr("Media file",{view:Qe.MediaFile,summaryRow:Qe.FileSummaryRow,summaryThumb:Qe.FileSummaryThumb,hidden:!0,fields:{title:Kr("Title"),path:mi("Path"),location:mi("Location"),previewUrl:mi("Preview URL"),extension:mi("Extension"),size:mi("File size"),hash:mi("Hash"),width:mi("Image width"),height:mi("Image height"),preview:mi("Preview"),averageColor:mi("Average color"),focus:mi("Focus"),thumbHash:mi("Blur hash")}});w();w();var dA=new WeakMap,br;(e=>{function t(a){return ma(a).flatMap(s=>me.referencedViews(s))}e.referencedViews=t;function r(a){let s=i(a);for(let[l,u]of ue(a))switch(l){case"Entry":throw new Error(`${l} is a reserved Type name`);default:{if(!Vu(l))throw new Error(`Invalid Type name "${l}", use only a-z, A-Z, 0-9, and _`);let{contains:c}=tt(u);if(c){for(let d of c)if(typeof d=="string"){if(!a[d])throw new Error(`Type "${l}" contains "${d}", but that Type does not exist`)}else if(!s.has(d))throw new Error(`Type "${l}" contains "${me.label(d)}", but that Type does not exist`)}}}}e.validate=r;function n(a){return dA.has(a)||dA.set(a,Dt(ue(a).map(([s,l])=>[s,me.shape(l)]))),dA.get(a)}e.shapes=n;function i(a){return new Map(ue(a).map(([s,l])=>[l,s]))}e.typeNames=i;function o(a,s){let l=i(a);return s.map(u=>typeof u=="string"?u:l.get(u))}e.contained=o})(br||(br={}));function AB(e){return e.types??e}var xr;(e=>{function t(d){return ln(d).label}e.label=t;function r(d){return ln(d).contains??[]}e.contains=r;function n(d){return ln(d)}e.data=n;function i(d){return ln(d).preview}e.preview=i;function o(d){return ln(d).i18n?.locales[0]}e.defaultLocale=o;function a(d){return!!(d&&Yv(d))}e.isRoot=a;function s(d){return!!ln(d).isMediaRoot}e.isMediaRoot=s;let l=Mu({label:Ru,i18n:Mu({locales:w0(Ru)}).optional,view:Ru.optional,isMediaRoot:UO.optional});function u(d,f,h){let{contains:p}=ln(d),m=br.typeNames(h);if(p){for(let v of p)if(typeof v=="string"){if(!h[v])throw new Error(`Root "${t(d)}" in workspace "${f}" contains "${v}", but that Type does not exist`)}else if(!m.has(v))throw new Error(`Root "${t(d)}" in workspace "${f}" contains "${me.label(v)}", but that Type does not exist`)}}e.validate=u;function c(d){let{view:f}=n(d);return typeof f=="string"?[f]:[]}e.referencedViews=c})(xr||(xr={}));function Iw(e,t={}){return{...t.children,[Kv]:{...t,label:e}}}w();w();var TB=["#EA9280","#EB9091","#E58FB1","#E38EC3","#CF91D8","#AA99EC","#5EB0EF","#3DB9CF","#53B9AB","#5BB98C","#65BA75","#D09E72","#FA934E","#2EBDE5","#40C4AA","#94BA2C","#EBBC00","#EE9D2B","#B8A383"];function Fw(e){let t=0;for(let r=e.length-1;r>=0;r--){let n=e.charCodeAt(r),i=r%8;t^=(n<<i)+(n>>8-i)}return TB[t%TB.length]}var $t;(e=>{function t(c){return Bi(c)}e.data=t;function r(c){return Bi(c).roots}e.roots=r;function n(c){return Bi(c).label}e.label=n;function i(c){return Bi(c).preview}e.preview=i;function o(c){return!!(c&&Xv(c))}e.isWorkspace=o;function a(c){let{roots:d}=Bi(c);for(let[f,h]of ue(d))if(xr.isMediaRoot(h))return f;throw new Error("Workspace has no media root")}e.defaultMediaRoot=a;function s(c){return Object.keys(Bi(c).roots)[0]}e.defaultRoot=s;function l(c,d){for(let[f,h]of ue(c)){if(!Vu(f))throw new Error(`Invalid Root name "${f}" in workspace "${n(c)}", use only a-z, A-Z, 0-9, and _`);xr.validate(h,n(c),d)}}e.validate=l;function u(c){return ma(r(c)).flatMap(xr.referencedViews)}e.referencedViews=u})($t||($t={}));function DB(e,t){return{...t.roots,[Qv]:{...t,label:e,color:t.color??Fw(JSON.stringify(e))}}}w();var ete=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function fA(e){return ete.exec(e).slice(1)}function tte(e,t){let r=[];for(let n=0;n<e.length;n++){let i=e[n];!i||i==="."||(i===".."?r.length&&r[r.length-1]!==".."?r.pop():t&&r.push(".."):r.push(i))}return r}function rte(e){return e.charAt(0)==="/"}function hA(e){e=e.replace(/\\/g,"/");let t=rte(e),r=e&&e[e.length-1]==="/";return e=tte(e.split("/"),!t).join("/"),!e&&!t&&(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function hd(e){let t=fA(e),r=t[0],n=t[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)}function pd(e,t){let r=fA(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r}function zr(...e){let t="";for(let r=0;r<e.length;r++){let n=e[r];typeof n=="string"&&n&&(t?t+=`/${n}`:t+=n)}return hA(t)}function Rw(e){return fA(e)[3]}var Vr;(e=>{function t(f,h="production"){let p=typeof f.baseUrl=="object"?f.baseUrl[h]:f.baseUrl;return!p||p.includes("://")?p:`https://${p}`}e.baseUrl=t;function r(f){let h=Object.keys(f.workspaces)[0];return Bi(f.workspaces[h])}e.mainWorkspace=r;function n(f,h){return f.schema[h]}e.type=n;function i(f,h,p){let m=xr.contains(h);if(m.length===0)return!1;let v=ga(f),g=v.nameOf(p);for(let y of m)if(typeof y=="string"){if(y===g)return!0}else if(v.nameOf(y)===g)return!0;return!1}e.rootContains=i;function o(f,h,p){let m=me.contains(h);if(m.length===0)return!1;let v=ga(f),g=v.nameOf(p);for(let y of m)if(typeof y=="string"){if(y===g)return!0}else if(v.nameOf(y)===g)return!0;return!1}e.typeContains=o;function a(f){return!!f.auth}e.hasAuth=a;function s(f){return Object.keys(f.workspaces).length>1}e.multipleWorkspaces=s;function l(f){let h=r(f);return s(f)?hd(h.source):h.source}e.contentDir=l;function u(f,h,p,m,...v){let g=s(f),y="";return g&&(y=zr(y,h)),y=zr(y,p),m&&(y=zr(y,m.toLowerCase())),zr(y,...v)}e.filePath=u;function c(f){br.validate(f.schema);let h=ue(f.workspaces),p;for(let[m,v]of h){if(!Vu(m))throw new Error(`Invalid Workspace name "${m}", use only a-z, A-Z, 0-9, and _`);if($t.validate(v,f.schema),h.length>1){let g=Bi(v).source,y=hd(g),b=pd(g);if(b!==m)throw new Error(`Workspace "${m}" source directory "${b}" must be named "${m}"`);if(p??=y,p!==y)throw new Error(`Workspaces "${m}" must be a directory of "${p}"`)}}}e.validate=c;function d(f){return br.referencedViews(f.schema).concat(ma(f.workspaces).flatMap($t.referencedViews))}e.referencedViews=d})(Vr||(Vr={}));var IB=new WeakSet;function _w(e){if(IB.has(e))return e;if(e.schema.MediaFile&&e.schema.MediaFile!==Ot)throw new Error('"MediaFile" is a reserved Type name');if(e.schema.MediaLibrary&&e.schema.MediaLibrary!==cA)throw new Error('"MediaLibrary" is a reserved Type name');let t={auth:LO,...e,publicDir:e.publicDir??"/public",schema:{...e.schema,MediaLibrary:cA,MediaFile:Ot}};return Vr.validate(t),IB.add(t),t}w();w();var yo=A($(),1),RB=A(pi(),1);w();var FB=A($(),1);function Ow(){let[,e]=(0,FB.useReducer)(t=>t+1,0);return e}var fh=A(P(),1);function Hu(){let e=(0,yo.createContext)(void 0);function t({children:a}){let[s,l]=(0,yo.useState)([]);return(0,fh.jsx)(e.Provider,{value:[s,l],children:a})}function r(){let[a,s]=(0,yo.useContext)(e);return{shown:a.length>0}}function n(){let a=(0,yo.useRef)(null),[s,l]=(0,yo.useContext)(e),u=Ow();return(0,yo.useLayoutEffect)(()=>(l(c=>c.concat(a)),()=>l(c=>c.filter(d=>d!==a))),[]),(0,yo.useLayoutEffect)(u,[s]),a}function i({children:a}){let s=n();return s.current?(0,RB.createPortal)(a,s.current):null}function o(a){let[s]=(0,yo.useContext)(e);return(0,fh.jsx)(fh.Fragment,{children:s.map((l,u)=>(0,fh.jsx)("div",{ref:l,...a},u))})}return{Provider:t,Portal:o,Slot:i,useSlots:r}}var ju=A(P(),1),nte={root:"alinea-Statusbar",status:"alinea-Statusbar-status"},MB=j(nte),Hr;(e=>{({Provider:e.Provider,Portal:e.Portal,Slot:e.Slot}=Hu());function t({children:n}){return(0,ju.jsxs)("footer",{className:MB.root(),children:[(0,ju.jsx)(e.Portal,{}),n]})}e.Root=t;function r({children:n,icon:i}){return(0,ju.jsx)("div",{className:MB.status(),children:(0,ju.jsxs)(q,{center:!0,gap:5,children:[(0,ju.jsx)(ee,{icon:i}),(0,ju.jsx)("span",{children:n})]})})}e.Status=r})(Hr||(Hr={}));w();w();var LB=A($(),1);w();w();function md(e,t,r){return Math.min(Math.max(e,r),t)}var B0=class extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}};function Bw(e){if(typeof e!="string")throw new B0(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=ute.test(e)?function(a){let s=a.toLowerCase().trim(),l=ite[function(u){let c=5381,d=u.length;for(;d;)c=33*c^u.charCodeAt(--d);return(c>>>0)%2341}(s)];if(!l)throw new B0(a);return`#${l}`}(e):e;let r=ote.exec(t);if(r){let a=Array.from(r).slice(1);return[...a.slice(0,3).map(s=>parseInt(N0(s,2),16)),parseInt(N0(a[3]||"f",2),16)/255]}let n=ate.exec(t);if(n){let a=Array.from(n).slice(1);return[...a.slice(0,3).map(s=>parseInt(s,16)),parseInt(a[3]||"ff",16)/255]}let i=ste.exec(t);if(i){let a=Array.from(i).slice(1);return[...a.slice(0,3).map(s=>parseInt(s,10)),parseFloat(a[3]||"1")]}let o=lte.exec(t);if(o){let[a,s,l,u]=Array.from(o).slice(1).map(parseFloat);if(md(0,100,s)!==s)throw new B0(e);if(md(0,100,l)!==l)throw new B0(e);return[...cte(a,s,l),u||1]}throw new B0(e)}var _B=e=>parseInt(e.replace(/_/g,""),36),ite="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{let r=_B(t.substring(0,3)),n=_B(t.substring(3)).toString(16),i="";for(let o=0;o<6-n.length;o++)i+="0";return e[r]=`${i}${n}`,e},{}),N0=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),ote=new RegExp(`^#${N0("([a-f0-9])",3)}([a-f0-9])?$`,"i"),ate=new RegExp(`^#${N0("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),ste=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${N0(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),lte=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,ute=/^[a-z]+$/i,OB=e=>Math.round(255*e),cte=(e,t,r)=>{let n=r/100;if(t===0)return[n,n,n].map(OB);let i=(e%360+360)%360/60,o=(1-Math.abs(2*n-1))*(t/100),a=o*(1-Math.abs(i%2-1)),s=0,l=0,u=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,u=a):i>=3&&i<4?(l=a,u=o):i>=4&&i<5?(s=a,u=o):i>=5&&i<6&&(s=o,u=a);let c=n-o/2;return[s+c,l+c,u+c].map(OB)};function BB(e){let[t,r,n,i]=Bw(e).map((u,c)=>c===3?u:u/255),o=Math.max(t,r,n),a=Math.min(t,r,n),s=(o+a)/2;if(o===a)return[0,0,s,i];let l=o-a;return[60*(t===o?(r-n)/l+(r<n?6:0):r===o?(n-t)/l+2:(t-r)/l+4),s>.5?l/(2-o-a):l/(o+a),s,i]}function NB(e){if(e==="transparent")return 0;function t(o){let a=o/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}let[r,n,i]=Bw(e);return .2126*t(r)+.7152*t(n)+.0722*t(i)}function pA(e,t,r,n){return`rgba(${md(0,255,e).toFixed()}, ${md(0,255,t).toFixed()}, ${md(0,255,r).toFixed()}, ${parseFloat(md(0,1,n).toFixed(3))})`}function hh(e,t){let[r,n,i,o]=Bw(e);return pA(r,n,i,o-t)}function PB(e){let[t,r,n,i]=Bw(e),o=a=>{let s=md(0,255,a).toString(16);return s.length===1?`0${s}`:s};return`#${o(t)}${o(r)}${o(n)}${i<1?o(Math.round(255*i)):""}`}function ph(e){if(e)try{return NB(e)>.5?"#11181c":"white"}catch{return}}function mh(e){if(e)return(0,LB.useMemo)(()=>ph(e),[e])}var zB=A(P(),1);function mA({color:e}){let t=mh(e),r=eF(`
    <svg
      width="36"
      height="36"
      view-box="0 0 36 36"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <linearGradient
          id="grad1"
          x1="0%"
          y1="0%"
          x2="100%"
          y2="0%"
          gradient-transform="rotate(65)"
        >
          <stop offset="0%" style="stop-color: ${e}; stop-opacity: 1" />
          <stop
            offset="100%"
            style="stop-color: ${e}; stop-opacity: 1"
          />
        </linearGradient>
      </defs>
      <path
        d="M18 36C25.884 36 29.9427 36 32.8047 33.138C35.6667 30.276 36 25.884 36 18C36 10.116 35.6667 6.05733 32.8047 3.19533C29.9427 0.333333 25.884 0 18 0C10.116 0 6.05733 0.333333 3.19533 3.19533C0.333333 6.05733 0 10.116 0 18C0 25.884 0.333333 29.9427 3.19533 32.8047C6.05733 35.6667 10.116 36 18 36Z"
        fill="url(#grad1)"
      />
      <path 
        fill="${t}" 
        d="M20.8178 10.3977V11.733C19.8978 10.6534 18.5316 10 16.6636 10C13.0112 10 10 13.267 10 17.5C10 21.733 13.0112 25 16.6636 25C18.5316 25 19.8978 24.3466 20.8178 23.267V24.6023H25V10.3977H20.8178ZM17.5 20.9659C15.5762 20.9659 14.1822 19.6307 14.1822 17.5C14.1822 15.3693 15.5762 14.0341 17.5 14.0341C19.4238 14.0341 20.8178 15.3693 20.8178 17.5C20.8178 19.6307 19.4238 20.9659 17.5 20.9659Z"
      />
      </svg>
  `);return(0,zB.jsx)("link",{rel:"icon",type:"image/svg",href:`data:image/svg+xml;base64,${r}`})}w();var gA=A(P(),1);function Ma(e){return(0,gA.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,gA.jsx)("path",{fill:"currentColor",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})})}w();var vA=A(P(),1);function gh(e){return(0,vA.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,vA.jsx)("path",{fill:"currentColor",d:"M14.59 2.59c-.38-.38-.89-.59-1.42-.59H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.41l-4.82-4.83zM15 18H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1zm0-4H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1zm-2-6V3.5L18.5 9H14c-.55 0-1-.45-1-1z"})})}w();var yA=A(P(),1);function VB(e){return(0,yA.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,yA.jsx)("path",{fill:"currentColor",d:"M12 4V2.21c0-.45-.54-.67-.85-.35l-2.8 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.32.31.86.09.86-.36V6c3.31 0 6 2.69 6 6c0 .79-.15 1.56-.44 2.25c-.15.36-.04.77.23 1.04c.51.51 1.37.33 1.64-.34c.37-.91.57-1.91.57-2.95c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6c0-.79.15-1.56.44-2.25c.15-.36.04-.77-.23-1.04c-.51-.51-1.37-.33-1.64.34C4.2 9.96 4 10.96 4 12c0 4.42 3.58 8 8 8v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79a.5.5 0 0 0-.85.36z"})})}w();var wA=A(P(),1);function bA(e){return(0,wA.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,wA.jsx)("path",{fill:"currentColor",d:"M12 11q3.75 0 6.375-1.175T21 7q0-1.65-2.625-2.825T12 3Q8.25 3 5.625 4.175T3 7q0 1.65 2.625 2.825T12 11Zm0 2.5q1.025 0 2.563-.213t2.962-.687q1.425-.475 2.45-1.237T21 9.5V12q0 1.1-1.025 1.863t-2.45 1.237q-1.425.475-2.962.688T12 16q-1.025 0-2.563-.213T6.476 15.1q-1.425-.475-2.45-1.237T3 12V9.5q0 1.1 1.025 1.863t2.45 1.237q1.425.475 2.963.688T12 13.5Zm0 5q1.025 0 2.563-.213t2.962-.687q1.425-.475 2.45-1.238T21 14.5V17q0 1.1-1.025 1.863t-2.45 1.237q-1.425.475-2.962.688T12 21q-1.025 0-2.563-.213T6.476 20.1q-1.425-.475-2.45-1.238T3 17v-2.5q0 1.1 1.025 1.863t2.45 1.237q1.425.475 2.963.688T12 18.5Z"})})}var aV=A($(),1);w();var $u={matchEntry:"/entry/*",matchEntryId:"/:action/:workspace/:root?/:id?",matchWorkspace:"/:action/:workspace",matchRoot:"/:action/:workspace/:root"};function HB(e){function t(a){let s=a?.workspace??e.workspace,l=a?.root??e.root,u="locale"in a?a.locale:e.locale,c=a.id??("id"in a?a.id:e.id),d=u?`${l}:${u}`:l;return!c&&!l?`/${s}`:c?`/${s}/${d}/${c}`:`/${s}/${d}`}function r({id:a,...s}){return n(s)}function n(a){return`/entry${t(a)}`}function i(a){return`${n(a)}?new`}function o(a){return`/draft${t(a)}`}return{root:r,entry:n,draft:o,create:i,...$u}}w();w();w();var xA=A($(),1);w();w();function jB(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,i,o,a=[],s="",l=e.split("/");for(l[0]||l.shift();i=l.shift();)r=i[0],r==="*"?(a.push("wild"),s+="/(.*)"):r===":"?(n=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~n?n:~o?o:i.length)),s+=~n&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~n?"?":"")+"\\"+i.substring(o))):s+="/"+i;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}var Nw={get location(){return globalThis?.location??{hash:""}}},P0=Q(Nw.location.hash,(e,t,r)=>{e(P0)!==r&&(Nw.location.hash=r),t(P0,r)});P0.onMount=e=>{let t=()=>e(Nw.location.hash);return window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)};var wo=Q(e=>{let r=e(P0).slice(1)||"/";return new URL(r,Nw.location.href)},(e,t,r)=>{let n=`#${r}`;t(P0,n)});function dte(e,t){let r={};if(e.keys)for(let n=0;n<e.keys.length;n++)r[e.keys[n]]=t[n+1];return r}var Sl=Kn(({route:e,loose:t})=>{let r,n=jB(e,t);return Q(i=>{let o=i(wo),a=n.pattern.exec(o.pathname);if(a===null)return;let s=dte(n,a);if(r){let l=ma(s),u=ma(r);if(l.every((c,d)=>c===u[d]))return r}return r=s})},(e,t)=>e.route===t.route&&e.loose===t.loose);function _a(){return oe(wo)}function en(){let e=rt(wo);return function(r){e(r)}}function bo(e){return typeof e=="string"?{href:`#${e}`}:{}}var L0=A(P(),1),fte={root:"alinea-IconButton","is-active":"alinea-IconButton-is-active",isActive:"alinea-IconButton-is-active"},$B=j(fte),je=(0,xA.forwardRef)(function({icon:t,active:r,size:n,...i},o){return(0,L0.jsx)("button",{type:"button",ref:o,...i,style:{...i.style,fontSize:n?Me(n):void 0},className:$B.root.mergeProps(i)({active:r}),children:(0,L0.jsx)(t,{})})}),Pw=(0,xA.forwardRef)(function({icon:t,active:r,...n},i){return(0,L0.jsx)("a",{ref:i,...n,...bo(n.href),className:$B.root.mergeProps(n)({active:r}),children:(0,L0.jsx)(t,{})})});w();var EA=A(P(),1);function Ji(e){return(0,EA.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,EA.jsx)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})})}var UB=A($(),1),WB=A(pi(),1),gd=A(P(),1),hte={root:"alinea-Modal","is-open":"alinea-Modal-is-open",isOpen:"alinea-Modal-is-open","root-background":"alinea-Modal-background",rootBackground:"alinea-Modal-background","root-inner":"alinea-Modal-inner",rootInner:"alinea-Modal-inner","root-inner-close":"alinea-Modal-inner-close",rootInnerClose:"alinea-Modal-inner-close"},Lw=j(hte),SA=null;function Go({children:e,...t}){let r=(0,UB.useRef)(null);if(!t.open)return null;let n=(0,gd.jsxs)("div",{...t,ref:r,className:Lw.root({open:t.open}),children:[(0,gd.jsx)("div",{className:Lw.root.background(),onClick:t.onClose}),(0,gd.jsxs)("div",{className:Lw.root.inner.mergeProps(t)(),children:[e,(0,gd.jsx)(je,{className:Lw.root.inner.close(),size:18,icon:Ji,onClick:t.onClose})]})]});return SA?(0,WB.createPortal)(n,SA):n}function qB(){return(0,gd.jsx)("div",{ref:e=>{SA=e}})}var zw=A(P(),1);function KB(e){let t=e.fullPage!==!1;xO({fullPage:t,...e});let r=oe(EO);return(0,zw.jsxs)(pO,{client:r,children:[e.children,(0,zw.jsx)(qB,{})]})}w();w();var CA=Array("draft","published","archived"),G={id:new pt({type:"entryField",name:"id"}),status:new pt({type:"entryField",name:"status"}),title:new pt({type:"entryField",name:"title"}),type:new pt({type:"entryField",name:"type"}),seeded:new pt({type:"entryField",name:"seeded"}),workspace:new pt({type:"entryField",name:"workspace"}),root:new pt({type:"entryField",name:"root"}),level:new pt({type:"entryField",name:"level"}),filePath:new pt({type:"entryField",name:"filePath"}),parentDir:new pt({type:"entryField",name:"parentDir"}),childrenDir:new pt({type:"entryField",name:"childrenDir"}),index:new pt({type:"entryField",name:"index"}),parentId:new pt({type:"entryField",name:"parentId"}),locale:new pt({type:"entryField",name:"locale"}),rowHash:new pt({type:"entryField",name:"rowHash"}),active:new pt({type:"entryField",name:"active"}),main:new pt({type:"entryField",name:"main"}),path:new pt({type:"entryField",name:"path"}),fileHash:new pt({type:"entryField",name:"fileHash"}),url:new pt({type:"entryField",name:"url"}),data:new pt({type:"entryField",name:"data"}),searchableText:new pt({type:"entryField",name:"searchableText"})};w();var GB=A($(),1);var JB=Q(e=>{let t=e(Wo).db,r=Q(),n=Q(async i=>i(r)??t.sync(),(i,o)=>{let a=s=>{s instanceof Kt&&s.data.op==="index"&&o(r,s.data.sha),s instanceof Kt&&s.data.op==="entry"&&o(yh(s.data.id))};return t.events.addEventListener(Kt.type,a),()=>{t.events.removeEventListener(Kt.type,a)}});return n.onMount=i=>i(),{db:t,metaAtom:n}}),gt=Q(e=>e(JB).db),vh=Q(e=>e(e(JB).metaAtom)),YB=Q(0),kA=Q(e=>e(YB),(e,t)=>{let r=e(gt),n=i=>{if(i instanceof Kt&&i.data.op==="mutate"){let{data:o}=i;t(YB,a=>{let s=a;return o.status==="pending"?s++:s--,s>0?s:0})}};return r.events.addEventListener(Kt.type,n),()=>{r.events.removeEventListener(Kt.type,n)}});kA.onMount=e=>e();var yh=Kn(e=>{let t=Q(0);return Q(r=>r(t),(r,n)=>{let i=r(t);n(t,i+1)})});function QB(e=30){let t=oe(gt);(0,GB.useEffect)(()=>{let r=()=>t.sync(),n=0;return n=setInterval(r,e*1e3),()=>{clearInterval(n)}},[e,t])}w();w();w();var fn=Qf("@alinea/preferences",{scheme:void 0,workspace:void 0,size:16,language:void 0}),AA=Q(e=>e(fn).scheme,(e,t,r)=>{t(fn,{...e(fn),scheme:r})}),z0=Q(null,(e,t)=>{let r=e(AA),i=(r===void 0?window.matchMedia("(prefers-color-scheme: light)").matches:r==="light")?"dark":"light";t(AA,i)}),vd=Q(e=>e(fn).workspace,(e,t,r)=>{t(fn,{...e(fn),workspace:r})}),V0=Q(e=>e(fn).size,(e,t,r)=>{t(fn,{...e(fn),size:r})}),pte=Q(e=>e(fn).language,(e,t,r)=>{t(fn,{...e(fn),language:r})});var mte=Q(e=>{let t=e(Yn),r=e(Sl({route:$u.matchWorkspace,loose:!0})),n=e(vd),o=[(r??{}).workspace,n,Rt(t.workspaces)[0]];for(let a of o)if(a&&t.workspaces[a])return a;throw new Error("No workspace found")}),Jo=Q(e=>{let t=e(Yn),r=e(mte);return{name:r,...$t.data(t.workspaces[r])}});function TA(e){return e.split(":")}var gte=Q(e=>{let t=e(Jo),n=e(Sl({route:$u.matchRoot,loose:!0}))??{},o=[n.root?TA(n.root)[0]:void 0,Rt(t.roots)[0]];for(let a of o)if(a&&t.roots[a])return a;throw new Error("No root found")}),wh=Q(e=>{let t=e(Yn),r=e(Jo),n=e(gte);if(!r.roots[n])throw new Error("No root found");return{name:n,...xr.data(t.workspaces[r.name][n])}}),XB=Qf("@alinea/locale",null),yd=Q(e=>{let t=e(Jo),r=e(wh),n=e(Yn),{i18n:i}=r;if(!i)return null;let a=e(Sl({route:$u.matchRoot,loose:!0}))??{},{root:s}=a;if(s){let u=TA(s)[1];if(u&&i.locales.includes(u))return u}let l=e(XB);return l&&i.locales.includes(l)?l:xr.defaultLocale(n.workspaces[t.name][r.name])??null}),Vw=Q(e=>{let t=e(Sl({route:$u.matchEntryId})),[r,n]=TA(t?.root??""),i={...t,locale:n};return r&&(i.root=r),i||void 0}),Hw=Q(e=>{let{name:t}=e(Jo),{name:r}=e(wh),n=e(yd);return HB({workspace:t,root:r,locale:n})}),ZB=()=>mo(XB);var Bt=()=>oe(Hw);var Fz=A($(),1);w();w();var xs="#root";function DA(e,t){let r=new Fa({gc:!1});return t&&IA(r,e,t),r}function IA(e,t,r){let n=e.clientID;e.clientID=1,e.transact(()=>{let i=e.getMap(xs);for(let[o,a]of ue(t)){if(o==="path")continue;let s=r.data[o];i.set(o,He.shape(a).toY(s))}}),e.clientID=n}function eN(e,t){let r=t.getMap(xs),n=me.shape(e).fromY(r);return{path:n.path,title:n.title,data:n}}w();var vte="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function tN(e){if(e.byteLength!==20)throw new Error("incorrect buffer size");let t=new Array(27).fill("0"),r=27,n=new Array(5);n[0]=e.getUint32(0,!1),n[1]=e.getUint32(4,!1),n[2]=e.getUint32(8,!1),n[3]=e.getUint32(12,!1),n[4]=e.getUint32(16,!1);let i=4294967296n,o=62n;for(;n.length!==0;){let a=[],s=0;for(let l of n){let u=BigInt(l)+BigInt(s)*i,c=u/o;s=Number(u%o),(a.length!==0||c!==0n)&&a.push(Number(c))}r--,t[r]=vte.charAt(s),n=a}return t.join("")}function yte(e,t){return t?4294967295-(Math.round(e/1e3)-14e8):Math.round(e/1e3)-14e8}function wte(){return pa.getRandomValues(new Uint8Array(16))}function bte(e=!1,t=Date.now()){let r=new ArrayBuffer(20),n=new DataView(r),i=yte(t,e),o=0;n.setUint32(o,i,!1),o+=4;let a=wte();for(let s of a)n.setUint8(o++,s);return e?`z${tN(n)}`:tN(n)}function _t(){return bte()}w();w();w();w();var xo=Symbol(),xh=Symbol(),i3e=Symbol(),rN=Symbol(),o3e=Symbol(),a3e=Symbol(),$w=Symbol(),Uw=Symbol(),s3e=Symbol(),Eh=Symbol(),l3e=Symbol(),Nt=e=>e[xo],nN=e=>xh in e,Ww=e=>e[xh];var xte=e=>$w in e,Ete=e=>e[$w];var Sh=e=>e[Uw];var iN=e=>Eh in e,oN=e=>e[Eh],bh=class{constructor(e,t){this.type=e,this.inner=t}},FA=class jw{static SELF_TARGET="$$self";alias;mapFromDriverValue;[xh]=this;#e;constructor(t=[]){this.#e=t}as(t){return this.alias=t,this}mapWith(t){let r=this;return r.mapFromDriverValue=typeof t=="function"?t:t.mapFromDriverValue,r}chunk(t,r){return this.#e.push(new bh(t,r)),this}unsafe(t){return t.length>0&&this.chunk("emitUnsafe",t),this}field(t){return this.chunk("emitField",t)}add(t){let r=Ww(t);if(!(r instanceof jw))throw new Error("Invalid SQL");return this.#e.push(...r.#e),this}value(t){return this.chunk("emitValue",t)}getValue(){if(this.#e.length!==1)return;let t=this.#e[0];if(t?.type==="emitValue")return t.inner}inline(t){return this.chunk("emitInline",t)}jsonPath(t){let r=t.target.#e[0];if(r?.type!=="emitJsonPath")return this.chunk("emitJsonPath",t);let n=r.inner;return this.chunk("emitJsonPath",{...n,segments:[...n.segments,...t.segments]})}forSelection(){if(this.#e.length===1){let t=this.#e[0];if(t.type==="emitJsonPath")return ae.jsonPath({...t.inner,asSql:!1}).mapWith(this)}return this}placeholder(t){return this.chunk("emitPlaceholder",t)}identifier(t){return this.chunk("emitIdentifierOrSelf",t)}inlineValues(){return new jw(this.#e.map(t=>t.type!=="emitValue"?t:new bh("emitInline",t.inner)))}inlineFields(t){return new jw(this.#e.flatMap(r=>{if(r.type!=="emitField")return[r];let n=r.inner;return t?[new bh("emitIdentifierOrSelf",n.targetName),new bh("emitUnsafe","."),new bh("emitIdentifier",n.fieldName)]:[new bh("emitIdentifier",n.fieldName)]}))}nameSelf(t){return ae.chunk("emitSelf",{name:t,inner:this})}emitTo(t){for(let r of this.#e)t[r.type](r.inner)}};function ae(e,...t){let r=new FA;for(let n=0;n<e.length;n++)if(r.unsafe(e[n]),n<t.length){let i=t[n];i!==null&&typeof i=="object"&&nN(i)?r.add(i):r.value(i)}return r}(e=>{function t(){return new FA}e.empty=t;function r(h){return t().unsafe(String(h))}e.unsafe=r;function n(h){return t().value(h)}e.value=n;function i(h){return t().inline(h)}e.inline=i;function o(h){return t().placeholder(h)}e.placeholder=o;function a(h){return t().identifier(h)}e.identifier=a;function s(h){return t().field(h)}e.field=s;function l(h){return t().jsonPath(h)}e.jsonPath=l;function u(h,p){return t().chunk(h,p)}e.chunk=u;function c(h){return t().chunk("emitUniversal",h)}e.universal=c;function d(h){return f(Object.entries(h).map(([p,m])=>{let v=p.replace(/([A-Z])/g," $1").toLocaleLowerCase();return m===!0?e.unsafe(v):(Array.isArray(m)&&(m=f(m)),p?m&&e`${e.unsafe(v)} ${m}`:m)}))}e.query=d;function f(h,p=e` `){let m=h.filter(Boolean),v=new FA;for(let g=0;g<m.length;g++)g>0&&v.add(p),v.add(m[g]);return v}e.join=f})(ae||(ae={}));function H0(e){return typeof e!="object"||e===null?ae.value(e):xte(e)?ae.identifier(Ete(e).name):nN(e)?Ww(e):ae.value(e)}var h3e=class RA{[xo];constructor(t){this[xo]=t}on(...t){let r=t.map(Sh);return new RA({...Nt(this),fields:r})}nullsNotDistinct(){return new RA({...Nt(this),nullsNotDistinct:!0})}get[Eh](){let{fields:t,nullsNotDistinct:r}=Nt(this);return ae.join([ae`unique`,r?ae`nulls not distinct`:void 0,ae`(${ae.join(t.map(n=>ae.identifier(n.fieldName)),ae`, `)})`])}},Ste=class{constructor(e){this.data=e,this[xo]=e}[xo];get[Eh](){let{fields:e}=Nt(this);return ae`primary key (${ae.join(e.map(t=>ae.identifier(t.fieldName)),ae`, `)})`}};function aN(...e){return new Ste({fields:e.map(Sh)})}var p3e=class sN{[xo];constructor(t){this[xo]=t}references(...t){return new sN({...Nt(this),references:t.map(Sh)})}get[Eh](){let{fields:t,references:r}=Nt(this);return ae`foreign key (${ae.join(t.map(n=>ae.identifier(n.fieldName)),ae`, `)}) references ${ae.identifier(r[0].targetName)} (${ae.join(r.map(n=>ae.identifier(n.fieldName)),ae`, `)})`}};w();w();var uN=class Uu{[xo];constructor(t){this[xo]=t}notNull(){return new Uu({...Nt(this),notNull:!0})}$defaultFn(t){return this.$default(t)}$default(t){return new Uu({...Nt(this),$default(){return H0(t instanceof Function?t():t)}})}default(t){return new Uu({...Nt(this),defaultValue:H0(t).inlineValues()})}defaultNow(){return new Uu({...Nt(this),defaultValue:ae.unsafe("now()")})}primaryKey(){return new Uu({...Nt(this),primary:!0})}unique(t){return new Uu({...Nt(this),isUnique:!0})}references(t){return new Uu({...Nt(this),references(){return Sh(typeof t=="function"?t():t)}})}$type(){return this}},cN=class extends uN{constructor(e){super({...e,json:!0})}};function Cte(e){return new uN(e)}var Ss=new Proxy(Cte,{get(e,t){return e[t]??=(...r)=>{for(;r.length>0&&r.at(-1)===void 0;)r.pop();return r.length===0?ae.unsafe(t):ae`${ae.unsafe(t)}(${ae.join(r.map(ae.inline),ae`, `)})`}}});function kte(e,t){return ae`${e}(${ae.join(t.map(H0),ae`, `)})`}function Ate(e,t){return e[t]??=(...r)=>kte(ae.identifier(t),r)}var Tte=new Proxy(Object.create(null),{get:Ate}),Dte=class{fields;concurrently;unique;only;using;order;nulls;where},Ite=class extends Dte{toSql(e,t,r){return ae.join([ae`create`,this.unique&&ae`unique`,ae`index`,r&&ae`if not exists`,ae.identifier(t),ae`on`,ae`${ae.identifier(e)}(${ae.join(this.fields,ae`, `)})`,this.where&&ae`where ${this.where}`]).inlineFields(!1)}},dN=class Es{[xo];constructor(t){this[xo]=Object.assign(new Ite,t)}on(...t){return new Es({...Nt(this),fields:t})}concurrently(){return new Es({...Nt(this),concurrently:!0})}only(){return new Es({...Nt(this),only:!0})}using(t){return new Es({...Nt(this),using:t})}asc(){return new Es({...Nt(this),order:"asc"})}desc(){return new Es({...Nt(this),order:"desc"})}nullsFirst(){return new Es({...Nt(this),nulls:"first"})}nullsLast(){return new Es({...Nt(this),nulls:"last"})}where(t){return new Es({...Nt(this),where:t})}};function Cl(){return new dN({fields:[]})}var Fte=class{[Uw];[xh];constructor(e,t,r={}){let n={targetName:e,fieldName:t};this[Uw]=n;let i=ae.field(n).as(t).mapWith(r);this[xh]=i}},Rte=/^\d+$/;function fN(e){return new Proxy(e,{get(t,r){if(typeof r!="string")return Reflect.get(t,r);let n=Rte.test(r);return fN(ae.jsonPath({target:Ww(t),asSql:!0,segments:[n?Number(r):r]}).mapWith({mapFromDriverValue(i,o){return o.parsesJson?i:JSON.parse(i)}}))}})}var{assign:Mte,fromEntries:lN,entries:j0,keys:_te}=Object,Ote=class{name;alias;schemaName;columns;config},Bte=class extends Ote{get aliased(){return this.alias??this.name}identifier(e){return ae.join([this.schemaName?ae.identifier(this.schemaName):void 0,ae.identifier(e??this.name)],ae`.`)}target(){return ae.join([this.identifier(),this.alias?ae`as ${ae.identifier(this.alias)}`:void 0])}columnDefinition(e){let t=this.columns[e],r=Nt(t),n=ae.identifier(r.name??e);return ae`${n} ${ae.chunk("emitColumn",r)}`}createDefinition(){let e=_te(this.columns).map(r=>this.columnDefinition(r)),t=j0(this.config??{}).filter(([,r])=>iN(r)).map(([r,n])=>ae`constraint ${ae.identifier(r)} ${oN(n)}`);return ae.join(e.concat(t),ae`, `)}listColumns(){return ae.join(j0(this.columns).map(([e,t])=>{let r=Nt(t),{name:n}=r;return ae.identifier(n??e)}),ae`, `)}fields(){return lN(j0(this.columns).map(([e,t])=>{let r=Nt(t),{name:n}=r,i=new Fte(this.aliased,n??e,r);return r.json?[e,fN(i)]:[e,i]}))}createTable(e,t=!1){return ae.join([ae`create table`,t?ae`if not exists`:void 0,this.identifier(e),ae`(${this.createDefinition()})`])}createIndexes(){return j0(this.indexes()).map(([e,t])=>Nt(t).toSql(this.name,e,!1))}create(){return[this.createTable(),...this.createIndexes()]}drop(){return ae`drop table ${this.target()}`}indexes(){return lN(j0(this.config??{}).filter(([,e])=>e instanceof dN))}};function hN(e,t,r,n){let i=Mte(new Bte,{name:e,schemaName:n,columns:t}),o={[$w]:i,[rN]:i.target(),...i.fields()};return r&&(i.config=r(o)),o}var I3e=ae.universal({sqlite:ae`integer`,postgres:ae`integer generated always as identity`,mysql:ae`int not null auto_increment`}),F3e=ae.universal({postgres:ae`bytea`,default:ae`blob`}),R3e=ae.universal({mysql:ae`double`,default:ae`numeric`}),M3e=ae.universal({mysql:ae`json`,default:ae`jsonb`});function hn(e){return Ss({name:e,type:Ss.text()})}function pN(e){return Ss({name:e,type:Ss.integer()})}function MA(e){return Ss({name:e,type:Ss.boolean(),mapFromDriverValue:Boolean})}function mN(e){return new cN({name:e,type:Ss.json(),mapToDriverValue(t){return JSON.stringify(t)},mapFromDriverValue(t,{parsesJson:r}){return r?t:JSON.parse(t)}})}var gN=["draft","archived"];function Nte(){return Ss({type:ae`text collate nocase`})}var V3e=hN("Entry",{id:hn().$default(_t),status:hn().notNull().$type(),title:hn().notNull(),type:hn().notNull(),seeded:hn(),workspace:hn().notNull(),root:hn().notNull(),index:hn().notNull(),parentId:hn(),locale:Nte(),active:MA().notNull(),main:MA().notNull(),path:hn().notNull(),data:mN().notNull().$type(),level:pN().notNull(),filePath:hn().notNull(),parentDir:hn().notNull(),childrenDir:hn().notNull(),rowHash:hn().notNull(),fileHash:hn().notNull(),url:hn().notNull(),searchableText:hn().notNull()},e=>({primary:aN(e.id,e.locale,e.status),rowHash:Cl().on(e.rowHash),type:Cl().on(e.type),parent:Cl().on(e.parentId),url:Cl().on(e.url),path:Cl().on(e.path),fileIdentifier:Cl().on(e.filePath,e.workspace,e.root),parentDir:Cl().on(e.parentDir),childrenDir:Cl().on(e.childrenDir)}));function Wu(e,t){return $t.data(e.workspaces[t])?.mediaDir??""}function $0(e){let t=gN.find(r=>e.endsWith(`.${r}`));return t?[e.slice(0,-t.length-1),t]:[e,"published"]}function Pte(e,t,r){let n=e.workspaces[t.workspace];if(!n)throw new Error(`Workspace "${t.workspace}" does not exist`);let i=$t.roots(n)[t.root];if(!i)throw new Error(`Root "${t.root}" does not exist`);let o=ln(i).i18n,{locale:a,path:s,status:l}=t;if(o&&!a)throw new Error("Entry is missing locale");if(!CA.includes(l))throw new Error(`Entry has unknown phase: ${l}`);return`/${(a?[a.toLowerCase()]:[]).concat(r.concat(s).map(u=>u===""?"index":u)).join("/")}`}function _A(e,t,r){let{status:n}=t;if(!CA.includes(n))throw new Error(`Entry has unknown phase: ${n}`);let i=n==="published"?"":`.${n}`;return`${Pte(e,t,r)+i}.json`.toLowerCase()}function vN(e,t,r){let n=e.workspaces[t.workspace];if(!n)throw new Error(`Workspace "${t.workspace}" does not exist`);let{source:i}=$t.data(n);if(!$t.roots(n)[t.root])throw new Error(`Root "${t.root}" does not exist`);return zr(i,t.root,_A(e,t,r))}function qw(e,t){let{entryUrl:r}=tt(e);return r?r(t):`/${(t.locale?[t.locale.toLowerCase()]:[]).concat(t.parentPaths.concat(t.path).filter(i=>i!=="index"&&i!=="")).join("/")}`}function U0(e,t){if(t.includes(e)){let r=0;for(;;)if(!t.includes(`${e}-${++r}`))return r}}w();w();var Lte=new TextEncoder,zte=new TextDecoder,yN={extension:".json",parse(e,t){return JSON.parse(zte.decode(t))},format(e,t){return Lte.encode(JSON.stringify(t,null,"  "))}};w();var Qo;(e=>{e.id="_id",e.type="_type",e.index="_index",e.root="_root",e.seeded="_seeded"})(Qo||(Qo={}));function wN(e){let{[Qo.id]:t,[Qo.type]:r,[Qo.index]:n,_i18nId:i,[Qo.root]:o,[Qo.seeded]:a,...s}=e;return{meta:{id:i??t,type:r,index:n,root:o,seeded:a},data:s,v0Id:typeof i=="string"?t:void 0}}function Oa(e,t){let{path:r=e.path,title:n=e.title,...i}=e.data,o=e.id,a={[Qo.id]:o,[Qo.type]:e.type,[Qo.index]:e.index};e.seeded&&(a[Qo.seeded]=e.seeded),e.parentId||(a[Qo.root]=e.root);let s={...a,title:n,path:r,...i};return t!=="draft"&&delete s.path,s}w();function Vte(e){return Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join("").slice(0,8)}async function W0(e){let t=await pa.subtle.digest("SHA-256",e);return Vte(t)}async function bN(e){let r=new TextEncoder().encode(`entryId ${e.id}status ${e.status}title ${e.title}type ${e.type}seeded ${e.seeded}workspace ${e.workspace}root ${e.root}level ${e.level}filePath ${e.filePath}parentDir ${e.parentDir}childrenDir ${e.childrenDir}index ${e.index}parent ${e.parentId}locale ${e.locale}fileHash ${e.fileHash}active ${e.active}main ${e.main}path ${e.path}url ${e.url}`);return W0(r)}async function xN(e,t,r){let n=Oa(t,r),i=yN.format(e.schema,n),o=await W0(i),a=await bN({...t,fileHash:o}),s=e.schema[t.type],l=me.searchableText(s,t.data);return{...t,searchableText:l,fileHash:o,rowHash:a}}w();var wd=A($(),1);w();var EN=new Map;function SN(e){return EN.get(He.ref(e))}var CN=new Map;function kN(e){return CN.get(He.ref(e))}var Ba;(e=>{function t(n,i){return EN.set(He.ref(n),i),n}e.options=t;function r(n,i){return CN.set(He.ref(n),i),n}e.value=r})(Ba||(Ba={}));var OA=A(P(),1),Kw=class{constructor(e,t,r="",n={}){this.type=e,this.container=t,this.path=r,this.options=n;let i=n.readOnly,o=i===!0?{readOnly:i}:{};t.doc.transact(()=>{for(let a of me.sections(e))for(let[s,l]of ue(cr.fields(a))){let u=He.ref(l),c=He.shape(l),d={...He.options(l),...o},f=SN(l);c.init(t,s);let h=c.mutator(t,s),p=f?Xf(Q(y=>{let b=f(this.getter(y));return b instanceof Promise?b.then(x=>({...d,...x,...o})):{...d,...b,...o}}),y=>y??d):Q(d),m=kN(l),v=this.valueAtom(l,s,m),g=Q(y=>{let{validate:b,required:x}=y(p);if(b){let S=b(y(v));return typeof S=="boolean"?!S:S}if(x){let S=y(v);if(S==null||typeof S=="string"&&S===""||Array.isArray(S)&&S.length===0)return!0}});this.fields.set(u,{key:s,field:l,value:v,mutator:h,error:g,options:p})}},"self")}fields=new Map;errorMap=Q(new Map);errors=Q(e=>e(this.errorMap),(e,t,r,n,i)=>{let o=e(this.errorMap);if(!i&&!o.has(r))return;let a=new Map(o);i?a.set(r,{field:n,error:i}):a.delete(r),t(this.errorMap,a),this.options.parent&&t(this.options.parent.errors,r,n,i)});hasErrors=Q(e=>e(this.errorMap).size>0);data(){return me.shape(this.type).fromY(this.container)}getter=e=>t=>{let r=this.fieldInfo(t);if(!r)throw new Error(`Field not found: ${He.label(t)}`);return e(r.value)};valueAtom(e,t,r){let n=He.shape(e),i=Q(0);return i.onMount=o=>{let a=()=>o(l=>l+1),s=n.watch(this.container,t);return a(),s(a)},Q(o=>{o(i);let a=n.fromY(this.container.get(t)),s=r?r(this.getter(o)):a;return r&&s!==a&&n.applyY(s,this.container,t),s})}fieldByKey(e){for(let t of this.fields.values())if(t.key===e)return t.field;throw new Error(`Field not found: "${e}"`)}keyOf(e){return this.fieldInfo(e).key}fieldInfo(e){let t=this.fields.get(He.ref(e)),r=He.label(e);if(!t){if(this.options.parent)return this.options.parent.fieldInfo(e);throw new Error(`Field not found: ${r}`)}return t}},AN=(0,wd.createContext)(void 0);function Ch(e,t={}){return(0,wd.useMemo)(()=>{let r=t.doc??new Fa;return t.initialValue&&IA(r,e,{data:t.initialValue}),new Kw(e,r.getMap(xs))},[e,t.doc])}function qu(){let e=(0,wd.useContext)(AN);if(!e)throw new Error("FormAtoms is not provided");return e}function bd({children:e,form:t}){return(0,OA.jsx)(AN.Provider,{value:t,children:e})}function Na({children:e,field:t,type:r,rowId:n,readOnly:i}){let o=qu(),a=(0,wd.useMemo)(()=>{let s=o.keyOf(t),l=o.container.get(s),u=n?l.get(n):l,c=`${o.path}.${s}${n?`[${n}]`:""}`;return new Kw(r,u,c,{readOnly:i,parent:o})},[o,n,i]);return(0,OA.jsx)(bd,{form:a,children:e})}w();function TN(e,t){let r,n=Q(t);return Q((i,{setSelf:o})=>{let a=i(e),s=i(n);return r=a.then(l=>(o(r,l),l)),s??r},(i,o,a,s)=>{a===r&&o(n,s)})}w();w();var DN=async(e,t="deflate")=>{let r=new vS([e]),n=t?new mS(r.stream().pipeThrough(new hS(t))):r,i=new Uint8Array(await n.arrayBuffer()),{fromCharCode:o}=String,{length:a}=i,s="",l=2e3;for(let u=0;u<a;u+=l)s+=o(...i.subarray(u,u+l));return btoa(s)};function IN(e){let t=ud();return qo(t,e.locale??""),qo(t,e.entryId),qo(t,e.contentHash),qo(t,e.status),Jn(t,e.update),DN(go(t))}w();function FN(e,t){let r=Q(void 0),n;return Q((o,a)=>{let s=o(e),l=()=>a.setSelf(s);return clearTimeout(n),n=setTimeout(l,t),o(r)??s},(o,a,s)=>{a(r,s)})}w();w();function q0(e,t){let r=Q(0);return r.onMount=n=>{let i=(o,a)=>{a.origin!=="self"&&n(s=>s+1)};return e.observeDeep(i),()=>e.unobserveDeep(i)},Q(n=>(n(r),t()))}var Hte=class{#e;#r;doc=new Fa;sourceVector;sourceUpdate;root=this.doc.getMap(xs);hasChanges=jte(this.root);resetChanges=Q(null,(e,t)=>{this.applyEntryData(this.#r.data),t(this.hasChanges,!1)});yUpdate=q0(this.root,()=>this.getLocalUpdate());constructor(e,t){this.#e=e,this.#r=t,this.applyEntryData(t.data),this.sourceVector=$8(this.doc)}hasData(){return!this.root.keys().next().done}getLocalUpdate(){return V8(this.doc,this.sourceVector)}applyEntryData(e){let t=this.doc.clientID;this.doc.clientID=1,this.doc.transact(()=>{me.shape(this.#e).applyY(e,this.doc,xs)},"self"),this.doc.clientID=t}getEntryData(e){return me.shape(e).fromY(this.root)}};function jte(e){let t=Q(!1);return t.onMount=r=>{let n=(i,o)=>{o.origin!=="self"&&r(!0)};return e.observeDeep(n),()=>e.unobserveDeep(n)},t}var RN=Kn(e=>Q(t=>{let n=t(Yn).schema[e.type];return new Hte(n,e)}),(e,t)=>e.id===t.id&&e.locale===t.locale&&e.fileHash===t.fileHash);w();var MN=Q(null),Yw=Q(e=>e(MN),(e,t,r,n)=>{t(MN,r),n&&console.error(n)});var Eo=(e=>(e[e.SaveDraft=0]="SaveDraft",e[e.SaveTranslation=1]="SaveTranslation",e[e.PublishEdits=2]="PublishEdits",e[e.RestoreRevision=3]="RestoreRevision",e[e.PublishDraft=4]="PublishDraft",e[e.UnpublishDraft=5]="UnpublishDraft",e[e.DiscardDraft=6]="DiscardDraft",e[e.ArchivePublished=7]="ArchivePublished",e[e.PublishArchived=8]="PublishArchived",e[e.DeleteFile=9]="DeleteFile",e[e.DeleteEntry=10]="DeleteEntry",e))(Eo||{}),$te=Kn(e=>Q(void 0)),ON=Kn(({id:e,locale:t})=>Q(async r=>{if(!e)return;r(yh(e));let n=r(Yn),i=r(c0),o=r(gt),a=await o.first({select:G,id:e,locale:t,status:"preferDraft"});if(!a){let{searchParams:E}=r(wo),I=E.get("from");a=await o.first({select:G,locale:I??void 0,id:e,status:"preferDraft"})}if(!a)return;let s=a.id,l=a.locale,u=n.schema[a.type],c=r(RN(a)),d=await o.find({select:{...G,parents:{edge:"parents",select:G.id}},locale:l,id:s,status:"all"}),f=await o.first({select:{parents:{edge:"parents",select:{id:G.id,path:G.path,status:G.status,main:G.main}}},id:s,locale:l,status:"preferDraft"}),h=await o.find({select:{locale:G.locale,entryId:G.id},id:s,filter:{_locale:{isNot:l}},status:"preferDraft"}),p=a.parentId&&await o.first({select:G.id,id:a.parentId,locale:t,status:"preferDraft"}),m=!!(a.locale&&t!==a.locale),v=a.parentId?!p:!1,g=f?.parents??[],y=g.every(E=>E.status==="published"),b=!a.seeded;if(d.length===0)return;let x=Dt(d.map(E=>[E.status,E])),S=Array("draft","published","archived").filter(E=>x[E]!==void 0);return Ute({parents:g,canDelete:b,canPublish:y,translations:h,untranslated:m,parentNeedsTranslation:v,client:i,config:n,entryId:s,versions:d,statuses:x,availableStatuses:S,edits:c})}),(e,t)=>e.locale===t.locale&&e.id===t.id),_N=Q(!1);function Ute(e){let{config:t,availableStatuses:r,edits:n}=e,i=r[0],o=e.statuses[i],a=t.schema[o.type],s=Dt(ue(e.statuses).map(([re,ce])=>[re,DA(a,ce)])),l=n.doc,u=n.hasChanges,c=TN(q0(n.doc.getMap(xs),J)),d=Q("editing"),f=tt(a).view,h=Q(void 0),p=Q(re=>re(_N),(re,ce,Te)=>{ce(_N,Te),Te||ce(h,void 0)}),m=$te(o.id),v=Q(re=>{let{search:ce}=re(wo),Te=ce.slice(1);if(r.includes(Te))return Te}),g=Q(re=>re(v)??i);function y(re,ce){return vN(t,re,ce??e.parents.map(Te=>Te.path))}let b=Q(null,(re,ce,{transition:Te,result:Xe,errorMessage:At,clearChanges:Tt=!1})=>{let mr=Date.now();return ce(m,Te),Xe.then(async()=>{Tt&&ce(u,!1)}).catch(kr=>{ce(Yw,At,kr)}).finally(()=>{let kr=Date.now()-mr,Ar=Math.max(0,500-kr);setTimeout(()=>{ce(m,void 0)},Ar)})}),x=e.parents.at(-1),S=x?.status==="archived",E=x?.status==="draft"&&x.main,I=Q(null,async(re,ce)=>{if(S||E)return ce(T);let Te=re(gt),Xe=await J({status:"published",path:o.path});return ce(b,{transition:0,result:Te.create({type:a,id:Xe.id,locale:Xe.locale,status:"draft",set:Xe.data,overwrite:!0}),errorMessage:"Could not complete draft action, please try again later",clearChanges:!0})}),k=Q(null,async(re,ce,Te)=>{let Xe=re(gt),At=o.parentId,Tt=At?await Xe.get({select:{entryId:G.id,path:G.path,paths:{edge:"parents",select:G.path}},id:At,locale:Te,status:"preferDraft"}):void 0;if(At&&!Tt)throw new Error("Parent not translated");let mr=Tt?.paths?Tt.paths.concat(Tt.path):[],kr=await J({id:o.id,status:"published",parent:Tt?.entryId,parentPaths:mr,locale:Te});return ce(b,{transition:1,result:Xe.create({type:a,id:kr.id,parentId:At,locale:Te,status:t.enableDrafts?"draft":"published",set:kr.data}),errorMessage:"Could not complete translate action, please try again later",clearChanges:!0})}),D=Q(re=>re(re(be).errors)),F=Q(null,re=>{let ce=re(D);if(ce.size>0){let Te="";for(let[At,{field:Tt,error:mr}]of ce.entries()){let kr=He.label(Tt),Ar=typeof mr=="string"?`${kr}: ${mr}`:kr;Te+=`
\u2014 ${Ar}`}let Xe=`These fields contains errors, are you sure you want to publish?${Te}`;return confirm(Xe)}return!0}),T=Q(null,async(re,ce)=>{if(!ce(F))return;let Te=re(gt),Xe=await J({status:"published"});return ce(b,{transition:2,result:Te.create({type:a,id:Xe.id,locale:Xe.locale,status:"published",set:Xe.data,overwrite:!0}),errorMessage:"Could not complete publish action, please try again later",clearChanges:!0})}),R=Q(null,async(re,ce)=>{let Te=re(h);if(!Te)return;let Xe=await re(z(Te));if(!Xe)return;let At=re(gt),{edits:Tt}=e;Tt.applyEntryData(Xe);let mr=await J({status:"published",path:o.path});return ce(b,{transition:3,result:At.update({type:a,id:mr.id,locale:mr.locale,status:"published",set:mr.data}),errorMessage:"Could not complete publish action, please try again later",clearChanges:!0})}),_=Q(null,async(re,ce)=>{if(!ce(F))return;let Te=re(gt);return ce(b,{transition:4,result:Te.publish({id:o.id,locale:o.locale,status:"draft"}),errorMessage:"Could not complete publish action, please try again later"})}),M=Q(null,async(re,ce)=>{let Te=re(gt);return ce(b,{transition:6,result:Te.discard({id:o.id,locale:o.locale,status:"draft"}),errorMessage:"Could not complete discard action, please try again later"})}),L=Q(null,async(re,ce)=>{let Te=re(gt);return ce(b,{transition:5,result:Te.unpublish({id:o.id,locale:o.locale}),errorMessage:"Could not complete unpublish action, please try again later"})}),V=Q(null,async(re,ce)=>{let Te=re(gt);return ce(b,{transition:7,result:Te.archive({id:o.id,locale:o.locale}),errorMessage:"Could not complete archive action, please try again later"})}),U=Q(null,async(re,ce)=>{let Te=re(gt);return ce(b,{transition:8,result:Te.publish({id:o.id,locale:o.locale,status:"archived"}),errorMessage:"Could not complete publish action, please try again later"})}),N=Q(null,async(re,ce)=>{if(!confirm("Are you sure you want to delete this folder and all its files?"))return;let Xe=re(gt);return ce(b,{transition:10,result:Xe.remove(o.id),errorMessage:"Could not complete delete action, please try again later"})}),H=Q(null,async(re,ce)=>{if(!confirm("Are you sure you want to delete this file?"))return;let Xe=re(gt);return ce(b,{transition:9,result:Xe.remove(o.id),errorMessage:"Could not complete delete action, please try again later"})}),O=Q(null,async(re,ce)=>{let Te=re(gt);return ce(b,{transition:10,result:Te.remove(o.id),errorMessage:"Could not complete delete action, please try again later"})});async function J(re={}){let ce=eN(a,l),Te=re.status??o.status,Xe=re.locale??o.locale,At=re.path??ce.path??o.path,Tt=re.id??o.id,mr=re.parent??o.parentId,kr=re.parentPaths??e.parents.map(an=>an.path),Ar={...o,...ce,id:Tt,parent:mr,locale:Xe,path:At,status:Te},En=_A(t,Ar,kr),Zs=hd(En),el=Rw(En),eu=pd(En,el),[pf]=$0(eu),am=zr(Zs,pf),Wr=qw(a,{locale:Xe,path:At,status:Te,parentPaths:kr});return xN(t,{...Ar,parentDir:Zs,childrenDir:am,filePath:En,url:Wr},Te)}let B=Q(async re=>{let ce=re(c0),Te=y(o),Xe=await ce.revisions(Te);return Xe.sort((At,Tt)=>Tt.createdAt-At.createdAt),Xe}),z=Kn(re=>Q(ce=>ce(c0).revisionData(re.file,re.ref)),(re,ce)=>re.file===ce.file&&re.ref===ce.ref),Y=Kn(re=>Q(async ce=>{let Te=await ce(z(re)),Xe=Te?{...o,data:Te}:o;return DA(a,Xe)}),(re,ce)=>re.file===ce.file&&re.ref===ce.ref),K=Q(re=>{let ce=re(g);return ce===i?n.doc:s[ce]}),te=q0(n.root,()=>n.root.get("title")),se=Q(re=>{let ce=re(h);return ce?re(Y(ce)):void 0}),de=re=>re,Se=Q(re=>re(Xf(se,de))??re(K)),be=Q(re=>{let ce=re(Se),Te=ce!==n.doc;return new Kw(a,ce.getMap(xs),"",{readOnly:Te})}),Ce=FN(n.yUpdate,250),pe=Q(async re=>{let ce=await re(vh),Te=re(Ce),Xe=re(g);return IN({locale:o.locale,entryId:o.id,contentHash:ce,status:Xe,update:Te})}),ve=n.resetChanges,Ie=me.preview(a)??xr.preview(t.workspaces[o.workspace][o.root])??$t.preview(t.workspaces[o.workspace])??t.preview,lr=Q(async re=>re(c0).previewToken({locale:o.locale,entryId:e.entryId}));return{...e,transition:m,revisionId:_t(),activeStatus:i,statusInUrl:v,selectedStatus:g,entryData:e,editMode:d,activeVersion:o,type:a,previewPayload:pe,activeTitle:te,hasChanges:u,draftEntry:c,saveDraft:I,publishEdits:T,restoreRevision:R,publishDraft:_,discardDraft:M,unPublish:L,archive:V,publishArchived:U,deleteFile:H,deleteMediaLibrary:N,deleteEntry:O,saveTranslation:k,discardEdits:ve,showHistory:p,revisionsAtom:B,previewToken:lr,previewRevision:h,preview:Ie,form:be,view:f}}w();var Ku=A($(),1);var kh=A(P(),1),BA=class{constructor(e){this.data=e}get component(){return this.data.component}},BN=class{constructor(e){this.data=e,this.matchers=this.data.routes.map(t=>({route:t,matcher:Sl({route:t.data.path})}))}matchers;matchingRoute=Q(e=>{for(let{route:t,matcher:r}of this.matchers){let n=e(r);if(n)return{route:t,params:n}}});matchingRouteWithData=Q(async e=>{let t=e(this.matchingRoute);if(!t)return;let{loader:r}=t.route.data,n=r?await e(r(t.params)):{};return{route:t.route,data:n,params:t.params}});currentRoute=Q(void 0);prevLocation=Q(void 0);blockers=Q(new Set);expected;cancelled=Q(!1);match=Q((e,{setSelf:t})=>{let r=e(this.currentRoute),n=e(this.matchingRouteWithData);return this.expected=n.then(i=>(t(this.expected,i),i)),r??this.expected},(e,t,r,n)=>{if(e(this.cancelled)){t(this.cancelled,!1);return}let o=e(this.blockers);if(r!==this.expected)return;let a=e(wo),s=e(this.prevLocation),l=()=>{for(let c of o)t(c,void 0);t(this.currentRoute,n),t(this.prevLocation,a)},u=()=>{t(this.cancelled,!0);for(let c of o)t(c,void 0);if(s){let c=s.pathname+s.search;t(wo,c)}};if(o.size)for(let c of o)t(c,{nextRoute:n,confirm:l,cancel:u});else l()})},NN=(0,Ku.createContext)(void 0);function PN({children:e,router:t}){return(0,kh.jsx)(NN.Provider,{value:t,children:e})}function LN(){let e=(0,Ku.useContext)(NN);if(!e)throw new Error("No router context found");return e}function zN(e,t){let r=LN(),[n]=(0,Ku.useState)(()=>Q(void 0)),i=rt(r.blockers);(0,Ku.useEffect)(()=>{if(t)return i(a=>new Set(a).add(n)),window.onbeforeunload=()=>!0,()=>{window.onbeforeunload=null,i(a=>{let s=new Set(a);return s.delete(n),s})}},[e,t]);let o=oe(n);return{isBlocking:!!o,...o}}function Wte(){let e=LN();return oe(e.match)}function qte(){let e=Wte();return e?(0,kh.jsx)(e.route.component,{...e.data}):null}function VN({fallback:e}){let t=qte();return(0,kh.jsx)(kh.Fragment,{children:t??e??null})}w();w();function Cs(e,t){return typeof t!="string"?t:e[t]}w();var NA=A(P(),1);function Gw(e){return(0,NA.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,NA.jsx)("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm4 11h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1z"})})}var K0=Gw;w();var dr=()=>oe(Yn);w();var Fr=()=>oe(yd);w();var Qn=()=>oe(wh);w();var bi=()=>oe(Jo);w();var Jw=A($(),1),PA=A(P(),1);function Kte({name:e,children:t}){return(0,Jw.useEffect)(()=>{console.info(`SuspenseBoundary ${e} fallback triggered`)},[]),t}function Pa(e){return(0,PA.jsx)(Jw.Suspense,{...e,fallback:(0,PA.jsx)(Kte,{name:e.name,children:e.fallback??null})})}w();w();var LA=class{constructor(e){this.types=e,this.definition=Dt(e.flatMap(ue)),this.fields=Dt(e.flatMap(ue).filter(([t,r])=>He.isField(r))),this.sections=e.flatMap(me.sections)}view=Qe.TabsView;definition;fields;sections};function Qw(...e){return Zf(new LA(e))}var Y0=wr;w();w();w();var HN=A($(),1);function Pt(e){let t=qu(),r=typeof e=="string"?t.fieldByKey(e):e,n=jN(r),i=Yte(r),o=Gte(r),a=kl(r),s=zA(r);return{fieldKey:n,label:a.label,options:a,value:i,mutator:o,error:s}}function jN(e){return qu().keyOf(e)}function kl(e){let r=qu().fieldInfo(e);return oe(r.options)}function zA(e){let t=qu(),r=t.fieldInfo(e),n=rt(t.errors),i=jN(e),o=`${t.path}.${i}`,a=oe(r.error);return(0,HN.useEffect)(()=>(n(o,e,a),()=>n(o,e,void 0)),[n,o,e,a]),a}function Yte(e){let r=qu().fieldInfo(e);return oe(r.value)}function Gte(e){return qu().fieldInfo(e).mutator}w();w();var Xw={root:"alinea-Lift",header:"alinea-Lift-header"};w();var Zw=A($(),1),$N=A(P(),1),UN=(0,Zw.createContext)({level:0}),VA=()=>(0,Zw.useContext)(UN);function eb({children:e,type:t}){let{level:r}=VA();return(0,$N.jsx)(UN.Provider,{value:{level:r+1,parent:t},children:e})}var HA=A(P(),1),Jte=j(Xw);function La(e){return(0,HA.jsx)(eb,{type:"lift",children:(0,HA.jsx)("div",{...e,className:Jte.root.mergeProps(e)()})})}w();w();var jA=A(P(),1);function Ah(e){return(0,jA.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,jA.jsx)("path",{fill:"currentColor",d:"M18 19H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h5c.55 0 1-.45 1-1s-.45-1-1-1H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1v5c0 .55-.45 1-1 1zM14 4c0 .55.45 1 1 1h2.59l-9.13 9.13a.996.996 0 1 0 1.41 1.41L19 6.41V9c0 .55.45 1 1 1s1-.45 1-1V4c0-.55-.45-1-1-1h-5c-.55 0-1 .45-1 1z"})})}var UA=A($(),1),ks=A($(),1);var Rr=A(P(),1),Qte=function(e){var t,r;function n(o){var a;return(a=e.call(this,o)||this).state={hasError:!1,error:null},a}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.getDerivedStateFromError=function(o){return{hasError:!0,error:o}};var i=n.prototype;return i.componentDidCatch=function(o,a){return this.props.onDidCatch(o,a)},i.render=function(){var o=this.state,a=this.props,s=a.render,l=a.children,u=a.renderError;return o.hasError?u?u({error:o.error}):null:s?s():l||null},n}(ks.PureComponent),Xte=function(e,t){switch(t.type){case"catch":return{didCatch:!0,error:t.error};case"reset":return{didCatch:!1,error:null};default:return e}};function Zte(e){var t=(0,ks.useReducer)(Xte,{didCatch:!1,error:null}),r=t[0],n=t[1],i=(0,ks.useRef)(null);function o(){return l=function(u,c){n({type:"catch",error:u}),e&&e.onDidCatch&&e.onDidCatch(u,c)},function(u){return ks.default.createElement(Qte,{onDidCatch:l,children:u.children,render:u.render,renderError:u.renderError})};var l}var a,s=(0,ks.useCallback)(function(){i.current=o(),n({type:"reset"})},[]);return{ErrorBoundary:(a=i.current,a!==null?a:(i.current=o(),i.current)),didCatch:r.didCatch,error:r.error,reset:s}}var ere=Zte,tre={root:"alinea-ErrorBoundary","root-inner":"alinea-ErrorBoundary-inner",rootInner:"alinea-ErrorBoundary-inner","root-mesage":"alinea-ErrorBoundary-mesage",rootMesage:"alinea-ErrorBoundary-mesage"},$A=j(tre);function tb({children:e,dependencies:t}){let{ErrorBoundary:r,didCatch:n,error:i,reset:o}=ere(),a=_a();return(0,UA.useEffect)(()=>{i&&o()},[a]),(0,UA.useEffect)(()=>{i&&o()},t||[]),(0,Rr.jsx)(Rr.Fragment,{children:n?(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(ji,{children:(0,Rr.jsx)("title",{children:"Error"})}),(0,Rr.jsx)("div",{className:$A.root(),children:(0,Rr.jsxs)(ot,{gap:16,className:$A.root.inner(),children:[(0,Rr.jsxs)(q,{gap:8,center:!0,children:[(0,Rr.jsx)(ee,{icon:Yy,size:20}),(0,Rr.jsx)(Et.H3,{flat:!0,children:"Oops, something went wrong"})]}),(0,Rr.jsx)("div",{className:$A.root.mesage(),children:i.message}),(0,Rr.jsxs)(q,{gap:16,center:!0,children:[(0,Rr.jsx)(Jt,{onClick:o,icon:Ji,children:"Close error"}),(0,Rr.jsx)(Et.Link,{href:"https://github.com/alineacms/alinea/issues",target:"_blank",children:(0,Rr.jsxs)(q,{gap:8,center:!0,children:[(0,Rr.jsx)("span",{children:"Create an issue"}),(0,Rr.jsx)(ee,{icon:Ah})]})})]})]})})]}):(0,Rr.jsx)(r,{children:e})})}var So=A(P(),1);function jr(e){let{views:t}=Xr(),r=e.type??e.form.type,n=(0,So.jsx)(ot,{gap:20,children:me.sections(r).map((i,o)=>{let a=cr.view(i),s=a?Cs(t,a):void 0;return s?(0,So.jsx)(s,{section:i},o):(0,So.jsx)("div",{style:{display:"contents"},children:(0,So.jsx)(rre,{fields:cr.fields(i),border:e.border})},o)})});return e.form?(0,So.jsx)(bd,{form:e.form,children:n}):n}function rre({fields:e,border:t=!0}){let r=ue(e).map(([n,i])=>(0,So.jsx)(rb,{field:i},n));return r.length===0?null:t?(0,So.jsx)(La,{children:r}):(0,So.jsx)("div",{children:r})}function nre({field:e}){return(0,So.jsx)(FO,{error:`Missing view for field: ${He.label(e)}`})}function rb({field:e}){let{views:t}=Xr(),r=He.view(e),n=kl(e),i=Cs(t,r);return i?n.hidden?null:(0,So.jsx)(tb,{children:(0,So.jsx)(i,{field:e})}):(0,So.jsx)(nre,{field:e})}w();w();var WA=A(P(),1);function WN(e){return(0,WA.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,WA.jsx)("path",{fill:"currentColor",d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2z"})})}w();var qA=A(P(),1);function qN(e){return(0,qA.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256",...e,children:(0,qA.jsx)("path",{fill:"currentColor",d:"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm-26.37 144h52.74C149 186.34 140 202.87 128 215.89c-12-13.02-21-29.55-26.37-47.89ZM98 152a145.72 145.72 0 0 1 0-48h60a145.72 145.72 0 0 1 0 48Zm-58-24a87.61 87.61 0 0 1 3.33-24h38.46a161.79 161.79 0 0 0 0 48H43.33A87.61 87.61 0 0 1 40 128Zm114.37-40h-52.74C107 69.66 116 53.13 128 40.11c12 13.02 21 29.55 26.37 47.89Zm19.84 16h38.46a88.15 88.15 0 0 1 0 48h-38.46a161.79 161.79 0 0 0 0-48Zm32.16-16h-35.43a142.39 142.39 0 0 0-20.26-45a88.37 88.37 0 0 1 55.69 45ZM105.32 43a142.39 142.39 0 0 0-20.26 45H49.63a88.37 88.37 0 0 1 55.69-45ZM49.63 168h35.43a142.39 142.39 0 0 0 20.26 45a88.37 88.37 0 0 1-55.69-45Zm101.05 45a142.39 142.39 0 0 0 20.26-45h35.43a88.37 88.37 0 0 1-55.69 45Z"})})}var nb=A($(),1),Qi=A(P(),1),ire={root:"alinea-InputLabel","root-inner":"alinea-InputLabel-inner",rootInner:"alinea-InputLabel-inner","is-readOnly":"alinea-InputLabel-is-readOnly",isReadOnly:"alinea-InputLabel-is-readOnly","root-inner-content":"alinea-InputLabel-inner-content",rootInnerContent:"alinea-InputLabel-inner-content","root-header":"alinea-InputLabel-header",rootHeader:"alinea-InputLabel-header",header:"alinea-InputLabel-header","header-title":"alinea-InputLabel-header-title",headerTitle:"alinea-InputLabel-header-title","header-help":"alinea-InputLabel-header-help",headerHelp:"alinea-InputLabel-header-help","is-error":"alinea-InputLabel-is-error",isError:"alinea-InputLabel-is-error","is-large":"alinea-InputLabel-is-large",isLarge:"alinea-InputLabel-is-large","is-focused":"alinea-InputLabel-is-focused",isFocused:"alinea-InputLabel-is-focused"},xd=j(ire),ore=(0,nb.memo)(function({label:t,help:r,size:n,focused:i,shared:o,readOnly:a,required:s,error:l}){let u=typeof l=="string";return(0,Qi.jsx)("header",{className:xd.header(n,{focused:i,error:!!l}),children:(0,Qi.jsxs)(q,{center:!0,wrap:!0,gap:`${Me(4)} ${Me(8)}`,children:[(0,Qi.jsx)(q,{center:!0,gap:8,className:xd.header.title(),children:(0,Qi.jsxs)("span",{children:[t,s&&" *"]})}),a&&(0,Qi.jsx)(ee,{title:"Read-only",icon:WN,style:{opacity:.6}}),o&&(0,Qi.jsx)($i,{icon:qN,children:"Shared"}),u?(0,Qi.jsx)("div",{className:xd.header.help({error:!0}),children:l}):r&&(0,Qi.jsx)("div",{className:xd.header.help(),children:r})]})})}),Ke=(0,nb.forwardRef)(function({children:t,label:r,asLabel:n,help:i,width:o=1,inline:a=!1,collection:s=!1,focused:l=!1,size:u,icon:c,empty:d,shared:f,readOnly:h,className:p,error:m,required:v},g){return(0,Qi.jsx)(n?"label":"div",{className:xd.root.with(p)({collection:s,inline:a,focused:l,empty:d,readOnly:h}),style:{width:`${o*100}%`},ref:g,children:(0,Qi.jsxs)("div",{className:xd.root.inner(),children:[!a&&r&&(0,Qi.jsx)(ore,{label:r,help:i,required:v,size:u,focused:l,icon:c,shared:f,readOnly:h,error:m}),(0,Qi.jsx)("div",{className:xd.root.inner.content(),children:t})]})})});w();var Yu=A(P(),1),are={root:"alinea-Sink",row:"alinea-Sink-row",header:"alinea-Sink-header",title:"alinea-Sink-title",content:"alinea-Sink-content",options:"alinea-Sink-options"},Th=j(are),vt;(e=>{function t(s){return(0,Yu.jsx)(eb,{type:"sink",children:(0,Yu.jsx)("div",{className:Th.root(),...s})})}e.Root=t;function r(s){return(0,Yu.jsx)("div",{...s,className:Th.row(j.merge(s))})}e.Row=r;function n(s){return(0,Yu.jsx)("div",{...s,className:Th.content(j.merge(s))})}e.Content=n;function i(s){return(0,Yu.jsx)("div",{...s,className:Th.options(j.merge(s))})}e.Options=i;function o(s){return(0,Yu.jsx)("header",{...s,className:Th.header(j.merge(s))})}e.Header=o;function a(s){return(0,Yu.jsx)("p",{...s,className:Th.title(j.merge(s))})}e.Title=a})(vt||(vt={}));w();w();w();var Al=A($(),1),GN=A($(),1),sb=A($(),1),ub=A($(),1),QA=A($(),1),XN=A($(),1),J0=A($(),1),Ju=A($(),1),cb=A($(),1),db=A($(),1),iP=A($(),1),oP=A($(),1),fb=A($(),1),tn=A($(),1),Er=A($(),1),hb=A($(),1),lP=A($(),1),ob=!1,KA=0;function JA(){ob=!0,setTimeout(()=>{ob=!1},50)}function KN(e){e.pointerType==="touch"&&JA()}function sre(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",KN):document.addEventListener("touchend",JA),KA++,()=>{KA--,!(KA>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",KN):document.removeEventListener("touchend",JA))}}function As(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:i}=e,[o,a]=(0,Al.useState)(!1),s=(0,Al.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,Al.useEffect)(sre,[]);let{hoverProps:l,triggerHoverEnd:u}=(0,Al.useMemo)(()=>{let c=(h,p)=>{if(s.pointerType=p,i||p==="touch"||s.isHovered||!h.currentTarget.contains(h.target))return;s.isHovered=!0;let m=h.currentTarget;s.target=m,t&&t({type:"hoverstart",target:m,pointerType:p}),r&&r(!0),a(!0)},d=(h,p)=>{if(s.pointerType="",s.target=null,p==="touch"||!s.isHovered)return;s.isHovered=!1;let m=h.currentTarget;n&&n({type:"hoverend",target:m,pointerType:p}),r&&r(!1),a(!1)},f={};return typeof PointerEvent<"u"?(f.onPointerEnter=h=>{ob&&h.pointerType==="mouse"||c(h,h.pointerType)},f.onPointerLeave=h=>{!i&&h.currentTarget.contains(h.target)&&d(h,h.pointerType)}):(f.onTouchStart=()=>{s.ignoreEmulatedMouseEvents=!0},f.onMouseEnter=h=>{!s.ignoreEmulatedMouseEvents&&!ob&&c(h,"mouse"),s.ignoreEmulatedMouseEvents=!1},f.onMouseLeave=h=>{!i&&h.currentTarget.contains(h.target)&&d(h,"mouse")}),{hoverProps:f,triggerHoverEnd:d}},[t,r,n,i,s]);return(0,Al.useEffect)(()=>{i&&u({currentTarget:s.target},s.pointerType)},[i]),{hoverProps:l,isHovered:o}}var JN=typeof document<"u"?GN.default.useLayoutEffect:()=>{};function lre(e){let t=(0,sb.useRef)(null);return JN(()=>{t.current=e},[e]),(0,sb.useCallback)((...r)=>{let n=t.current;return n?.(...r)},[])}var Q0=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},Ed=e=>e&&"window"in e&&e.window===e?e:Q0(e).defaultView||window;function lb(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function tT(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Tl(e){let t=null;return()=>(t==null&&(t=e()),t)}var rT=Tl(function(){return tT(/^Mac/i)}),ure=Tl(function(){return tT(/^iPhone/i)}),cre=Tl(function(){return tT(/^iPad/i)||rT()&&navigator.maxTouchPoints>1}),dre=Tl(function(){return ure()||cre()}),lIe=Tl(function(){return rT()||dre()}),uIe=Tl(function(){return lb(/AppleWebKit/i)&&!fre()}),fre=Tl(function(){return lb(/Chrome/i)}),hre=Tl(function(){return lb(/Android/i)}),cIe=Tl(function(){return lb(/Firefox/i)});function pre(e){return e.mozInputSource===0&&e.isTrusted?!0:hre()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}var mre=class{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}};function QN(e){let t=(0,ub.useRef)({isFocused:!1,observer:null});JN(()=>{let n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=lre(n=>{e?.(n)});return(0,ub.useCallback)(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=n.target,o=a=>{t.current.isFocused=!1,i.disabled&&r(new mre("blur",a)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let s=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:s})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:s}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function gre(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:i}=e,o=(0,QA.useCallback)(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),a=QN(o),s=(0,QA.useCallback)(l=>{let u=Q0(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(r&&r(l),i&&i(!0),a(l))},[i,r,a]);return{focusProps:{onFocus:!t&&(r||i||n)?s:void 0,onBlur:!t&&(n||i)?o:void 0}}}var X0=null,XA=new Set,G0=new Map,Sd=!1,ZA=!1,vre={Tab:!0,Escape:!0};function nT(e,t){for(let r of XA)r(e,t)}function yre(e){return!(e.metaKey||!rT()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ab(e){Sd=!0,yre(e)&&(X0="keyboard",nT("keyboard",e))}function Xo(e){X0="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Sd=!0,nT("pointer",e))}function ZN(e){pre(e)&&(Sd=!0,X0="virtual")}function eP(e){e.target===window||e.target===document||(!Sd&&!ZA&&(X0="virtual",nT("virtual",e)),Sd=!1,ZA=!1)}function tP(){Sd=!1,ZA=!0}function eT(e){if(typeof window>"u"||G0.get(Ed(e)))return;let t=Ed(e),r=Q0(e),n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Sd=!0,n.apply(this,arguments)},r.addEventListener("keydown",ab,!0),r.addEventListener("keyup",ab,!0),r.addEventListener("click",ZN,!0),t.addEventListener("focus",eP,!0),t.addEventListener("blur",tP,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",Xo,!0),r.addEventListener("pointermove",Xo,!0),r.addEventListener("pointerup",Xo,!0)):(r.addEventListener("mousedown",Xo,!0),r.addEventListener("mousemove",Xo,!0),r.addEventListener("mouseup",Xo,!0)),t.addEventListener("beforeunload",()=>{rP(e)},{once:!0}),G0.set(t,{focus:n})}var rP=(e,t)=>{let r=Ed(e),n=Q0(e);t&&n.removeEventListener("DOMContentLoaded",t),G0.has(r)&&(r.HTMLElement.prototype.focus=G0.get(r).focus,n.removeEventListener("keydown",ab,!0),n.removeEventListener("keyup",ab,!0),n.removeEventListener("click",ZN,!0),r.removeEventListener("focus",eP,!0),r.removeEventListener("blur",tP,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",Xo,!0),n.removeEventListener("pointermove",Xo,!0),n.removeEventListener("pointerup",Xo,!0)):(n.removeEventListener("mousedown",Xo,!0),n.removeEventListener("mousemove",Xo,!0),n.removeEventListener("mouseup",Xo,!0)),G0.delete(r))};function wre(e){let t=Q0(e),r;return t.readyState!=="loading"?eT(e):(r=()=>{eT(e)},t.addEventListener("DOMContentLoaded",r)),()=>rP(e,r)}typeof document<"u"&&wre();function nP(){return X0!=="pointer"}var bre=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function xre(e,t,r){var n;let i=typeof window<"u"?Ed(r?.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Ed(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?Ed(r?.target).HTMLElement:HTMLElement,s=typeof window<"u"?Ed(r?.target).KeyboardEvent:KeyboardEvent;return e=e||r?.target instanceof i&&!bre.has(r==null||(n=r.target)===null||n===void 0?void 0:n.type)||r?.target instanceof o||r?.target instanceof a&&r?.target.isContentEditable,!(e&&t==="keyboard"&&r instanceof s&&!vre[r.key])}function Ere(e,t,r){eT(),(0,XN.useEffect)(()=>{let n=(i,o)=>{xre(!!r?.isTextInput,i,o)&&e(nP())};return XA.add(n),()=>{XA.delete(n)}},t)}function Sre(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=e,o=(0,J0.useRef)({isFocusWithin:!1}),a=(0,J0.useCallback)(u=>{o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,r&&r(u),i&&i(!1))},[r,i,o]),s=QN(a),l=(0,J0.useCallback)(u=>{!o.current.isFocusWithin&&document.activeElement===u.target&&(n&&n(u),i&&i(!0),o.current.isFocusWithin=!0,s(u))},[n,i,s]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:a}}}function za(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,i=(0,Ju.useRef)({isFocused:!1,isFocusVisible:t||nP()}),[o,a]=(0,Ju.useState)(!1),[s,l]=(0,Ju.useState)(()=>i.current.isFocused&&i.current.isFocusVisible),u=(0,Ju.useCallback)(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),c=(0,Ju.useCallback)(h=>{i.current.isFocused=h,a(h),u()},[u]);Ere(h=>{i.current.isFocusVisible=h,u()},[],{isTextInput:r});let{focusProps:d}=gre({isDisabled:n,onFocusChange:c}),{focusWithinProps:f}=Sre({isDisabled:!n,onFocusWithinChange:c});return{isFocused:o,isFocusVisible:s,focusProps:n?f:d}}var Cre=Object.defineProperty,kre=(e,t,r)=>t in e?Cre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,YA=(e,t,r)=>(kre(e,typeof t!="symbol"?t+"":t,r),r),Are=class{constructor(){YA(this,"current",this.detect()),YA(this,"handoffState","pending"),YA(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Qu=new Are;function In(e){return Qu.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function Z0(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Xn(){let e=[],t={addEventListener(r,n,i,o){return r.addEventListener(n,i,o),t.add(()=>r.removeEventListener(n,i,o))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Z0(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,i){let o=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:o})})},group(r){let n=Xn();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let i of e.splice(n,1))i()}},dispose(){for(let r of e.splice(0))r()}};return t}function Co(){let[e]=(0,cb.useState)(Xn);return(0,cb.useEffect)(()=>()=>e.dispose(),[e]),e}var ut=(e,t)=>{Qu.isServer?(0,db.useEffect)(e,t):(0,db.useLayoutEffect)(e,t)};function Fn(e){let t=(0,iP.useRef)(e);return ut(()=>{t.current=e},[e]),t}var le=function(e){let t=Fn(e);return oP.default.useCallback((...r)=>t.current(...r),[t])};function Tre(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Dre(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Ts({disabled:e=!1}={}){let t=(0,fb.useRef)(null),[r,n]=(0,fb.useState)(!1),i=Co(),o=le(()=>{t.current=null,n(!1),i.dispose()}),a=le(s=>{if(i.dispose(),t.current===null){t.current=s.currentTarget,n(!0);{let l=In(s.currentTarget);i.addEventListener(l,"pointerup",o,!1),i.addEventListener(l,"pointermove",u=>{if(t.current){let c=Tre(u);n(Dre(c,t.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:a,onPointerUp:o,onClick:o}}}function Lt(e,t,...r){if(e in t){let i=t[e];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Lt),n}function YN(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var xi=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(xi||{}),Ire=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ire||{});function nt(){let e=Rre();return(0,tn.useCallback)(t=>Fre({mergeRefs:e,...t}),[e])}function Fre({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:o=!0,name:a,mergeRefs:s}){s=s??Mre;let l=aP(t,e);if(o)return ib(l,r,n,a,s);let u=i??0;if(u&2){let{static:c=!1,...d}=l;if(c)return ib(d,r,n,a,s)}if(u&1){let{unmount:c=!0,...d}=l;return Lt(c?0:1,{0(){return null},1(){return ib({...d,hidden:!0,style:{display:"none"}},r,n,a,s)}})}return ib(l,r,n,a,s)}function ib(e,t={},r,n,i){let{as:o=r,children:a,refName:s="ref",...l}=GA(e,["unmount","static"]),u=e.ref!==void 0?{[s]:e.ref}:{},c=typeof a=="function"?a(t):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(t){let f=!1,h=[];for(let[p,m]of Object.entries(t))typeof m=="boolean"&&(f=!0),m===!0&&h.push(p.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(f){d["data-headlessui-state"]=h.join(" ");for(let p of h)d[`data-${p}`]=""}}if(o===tn.Fragment&&(Object.keys(Gu(l)).length>0||Object.keys(Gu(d)).length>0))if(!(0,tn.isValidElement)(c)||Array.isArray(c)&&c.length>1){if(Object.keys(Gu(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Gu(l)).concat(Object.keys(Gu(d))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=c.props,h=f?.className,p=typeof h=="function"?(...g)=>YN(h(...g),l.className):YN(h,l.className),m=p?{className:p}:{},v=aP(c.props,Gu(GA(l,["ref"])));for(let g in d)g in v&&delete d[g];return(0,tn.cloneElement)(c,Object.assign({},v,d,u,{ref:i(_re(c),u.ref)},m))}return(0,tn.createElement)(o,Object.assign({},GA(l,["ref"]),o!==tn.Fragment&&u,o!==tn.Fragment&&d),c)}function Rre(){let e=(0,tn.useRef)([]),t=(0,tn.useCallback)(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function Mre(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function aP(...e){var t;if(e.length===0)return{};if(e.length===1)return e[0];let r={},n={};for(let i of e)for(let o in i)o.startsWith("on")&&typeof i[o]=="function"?((t=n[o])!=null||(n[o]=[]),n[o].push(i[o])):r[o]=i[o];if(r.disabled||r["aria-disabled"])for(let i in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(n[i]=[o=>{var a;return(a=o?.preventDefault)==null?void 0:a.call(o)}]);for(let i in n)Object.assign(r,{[i](o,...a){let s=n[i];for(let l of s){if((o instanceof Event||o?.nativeEvent instanceof Event)&&o.defaultPrevented)return;l(o,...a)}}});return r}function Ei(...e){var t;if(e.length===0)return{};if(e.length===1)return e[0];let r={},n={};for(let i of e)for(let o in i)o.startsWith("on")&&typeof i[o]=="function"?((t=n[o])!=null||(n[o]=[]),n[o].push(i[o])):r[o]=i[o];for(let i in n)Object.assign(r,{[i](...o){let a=n[i];for(let s of a)s?.(...o)}});return r}function it(e){var t;return Object.assign((0,tn.forwardRef)(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Gu(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function GA(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function _re(e){return tn.default.version.split(".")[0]>="19"?e.props.ref:e.ref}var sP=Symbol();function pb(e,t=!0){return Object.assign(e,{[sP]:t})}function yt(...e){let t=(0,hb.useRef)(e);(0,hb.useEffect)(()=>{t.current=e},[e]);let r=le(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return e.every(n=>n==null||n?.[sP])?void 0:r}var De=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(De||{});function Ds(e,t){return(0,lP.useMemo)(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}var iT=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Ore=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Ut=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Ut||{}),Is=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Is||{}),Bre=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Bre||{});function Dh(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(iT)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Nre(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ore)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Dl=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Dl||{});function Il(e,t=0){var r;return e===((r=In(e))==null?void 0:r.body)?!1:Lt(t,{0(){return e.matches(iT)},1(){let n=e;for(;n!==null;){if(n.matches(iT))return!0;n=n.parentElement}return!1}})}function oT(e){let t=In(e);Xn().nextFrame(()=>{t&&!Il(t.activeElement,0)&&Lre(e)})}var Pre=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Pre||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Lre(e){e?.focus({preventScroll:!0})}var zre=["textarea","input"].join(",");function Vre(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,zre))!=null?r:!1}function Va(e,t=r=>r){return e.slice().sort((r,n)=>{let i=t(r),o=t(n);if(i===null||o===null)return 0;let a=i.compareDocumentPosition(o);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function mb(e,t){return Zn(Dh(),t,{relativeTo:e})}function Zn(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?r?Va(e):e:t&64?Nre(e):Dh(e);i.length>0&&a.length>1&&(a=a.filter(h=>!i.some(p=>p!=null&&"current"in p?p?.current===h:p===h))),n=n??o.activeElement;let s=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(n))-1;if(t&4)return Math.max(0,a.indexOf(n))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,d=a.length,f;do{if(c>=d||c+d<=0)return 0;let h=l+c;if(t&16)h=(h+d)%d;else{if(h<0)return 3;if(h>=d)return 1}f=a[h],f?.focus(u),c+=s}while(f!==o.activeElement);return t&6&&Vre(f)&&f.select(),2}w();var Hre="span",Ha=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ha||{});function jre(e,t){var r;let{features:n=1,...i}=e,o={ref:t,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return nt()({ourProps:o,theirProps:i,slot:{},defaultTag:Hre,name:"Hidden"})}var ja=it(jre);var uP=A($(),1),zt=A($(),1),gb=A($(),1),ea=A($(),1),sT=A(P(),1);function $re(){let e=(0,uP.useRef)(!1);return ut(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Ure({onFocus:e}){let[t,r]=(0,gb.useState)(!0),n=$re();return t?gb.default.createElement(ja,{as:"button",type:"button",features:Ha.Focusable,onFocus:i=>{i.preventDefault();let o,a=50;function s(){if(a--<=0){o&&cancelAnimationFrame(o);return}if(e()){if(cancelAnimationFrame(o),!n.current)return;r(!1);return}o=requestAnimationFrame(s)}o=requestAnimationFrame(s)}}):null}var cP=ea.createContext(null);function Wre(){return{groups:new Map,get(e,t){var r;let n=this.groups.get(e);n||(n=new Map,this.groups.set(e,n));let i=(r=n.get(t))!=null?r:0;n.set(t,i+1);let o=Array.from(n.keys()).indexOf(t);function a(){let s=n.get(t);s>1?n.set(t,s-1):n.delete(t)}return[o,a]}}}function qre({children:e}){let t=ea.useRef(Wre());return ea.createElement(cP.Provider,{value:t},e)}function dP(e){let t=ea.useContext(cP);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let r=ea.useId(),[n,i]=t.current.get(e,r);return ea.useEffect(()=>i,[]),n}var Kre=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Kre||{}),Yre=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Yre||{}),Gre=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Gre||{}),Jre={0(e,t){var r;let n=Va(e.tabs,c=>c.current),i=Va(e.panels,c=>c.current),o=n.filter(c=>{var d;return!((d=c.current)!=null&&d.hasAttribute("disabled"))}),a={...e,tabs:n,panels:i};if(t.index<0||t.index>n.length-1){let c=Lt(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>Lt(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return a;let d=Lt(c,{0:()=>n.indexOf(o[0]),1:()=>n.indexOf(o[o.length-1])});return{...a,selectedIndex:d===-1?e.selectedIndex:d}}let s=n.slice(0,t.index),l=[...n.slice(t.index),...s].find(c=>o.includes(c));if(!l)return a;let u=(r=n.indexOf(l))!=null?r:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...a,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],n=Va([...e.tabs,t.tab],o=>o.current),i=e.selectedIndex;return e.info.current.isControlled||(i=n.indexOf(r),i===-1&&(i=e.selectedIndex)),{...e,tabs:n,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(r=>r!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Va([...e.panels,t.panel],r=>r.current)}},4(e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}}},lT=(0,zt.createContext)(null);lT.displayName="TabsDataContext";function Ih(e){let t=(0,zt.useContext)(lT);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ih),r}return t}var uT=(0,zt.createContext)(null);uT.displayName="TabsActionsContext";function cT(e){let t=(0,zt.useContext)(uT);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,cT),r}return t}function Qre(e,t){return Lt(t.type,Jre,e,t)}var Xre="div";function Zre(e,t){let{defaultIndex:r=0,vertical:n=!1,manual:i=!1,onChange:o,selectedIndex:a=null,...s}=e,l=n?"vertical":"horizontal",u=i?"manual":"auto",c=a!==null,d=Fn({isControlled:c}),f=yt(t),[h,p]=(0,zt.useReducer)(Qre,{info:d,selectedIndex:a??r,tabs:[],panels:[]}),m=(0,zt.useMemo)(()=>({selectedIndex:h.selectedIndex}),[h.selectedIndex]),v=Fn(o||(()=>{})),g=Fn(h.tabs),y=(0,zt.useMemo)(()=>({orientation:l,activation:u,...h}),[l,u,h]),b=le(F=>(p({type:1,tab:F}),()=>p({type:2,tab:F}))),x=le(F=>(p({type:3,panel:F}),()=>p({type:4,panel:F}))),S=le(F=>{E.current!==F&&v.current(F),c||p({type:0,index:F})}),E=Fn(c?e.selectedIndex:h.selectedIndex),I=(0,zt.useMemo)(()=>({registerTab:b,registerPanel:x,change:S}),[]);ut(()=>{p({type:0,index:a??r})},[a]),ut(()=>{if(E.current===void 0||h.tabs.length<=0)return;let F=Va(h.tabs,T=>T.current);F.some((T,R)=>h.tabs[R]!==T)&&S(F.indexOf(h.tabs[E.current]))});let k={ref:f},D=nt();return zt.default.createElement(qre,null,zt.default.createElement(uT.Provider,{value:I},zt.default.createElement(lT.Provider,{value:y},y.tabs.length<=0&&zt.default.createElement(Ure,{onFocus:()=>{var F,T;for(let R of g.current)if(((F=R.current)==null?void 0:F.tabIndex)===0)return(T=R.current)==null||T.focus(),!0;return!1}}),D({ourProps:k,theirProps:s,slot:m,defaultTag:Xre,name:"Tabs"}))))}var ene="div";function tne(e,t){let{orientation:r,selectedIndex:n}=Ih("Tab.List"),i=yt(t),o=(0,zt.useMemo)(()=>({selectedIndex:n}),[n]),a=e,s={ref:i,role:"tablist","aria-orientation":r};return nt()({ourProps:s,theirProps:a,slot:o,defaultTag:ene,name:"Tabs.List"})}var rne="button";function nne(e,t){var r,n;let i=(0,Er.useId)(),{id:o=`headlessui-tabs-tab-${i}`,disabled:a=!1,autoFocus:s=!1,...l}=e,{orientation:u,activation:c,selectedIndex:d,tabs:f,panels:h}=Ih("Tab"),p=cT("Tab"),m=Ih("Tab"),[v,g]=(0,zt.useState)(null),y=(0,zt.useRef)(null),b=yt(y,t,g);ut(()=>p.registerTab(y),[p,y]);let x=dP("tabs"),S=f.indexOf(y);S===-1&&(S=x);let E=S===d,I=le(O=>{var J;let B=O();if(B===Is.Success&&c==="auto"){let z=(J=In(y))==null?void 0:J.activeElement,Y=m.tabs.findIndex(K=>K.current===z);Y!==-1&&p.change(Y)}return B}),k=le(O=>{let J=f.map(B=>B.current).filter(Boolean);if(O.key===De.Space||O.key===De.Enter){O.preventDefault(),O.stopPropagation(),p.change(S);return}switch(O.key){case De.Home:case De.PageUp:return O.preventDefault(),O.stopPropagation(),I(()=>Zn(J,Ut.First));case De.End:case De.PageDown:return O.preventDefault(),O.stopPropagation(),I(()=>Zn(J,Ut.Last))}if(I(()=>Lt(u,{vertical(){return O.key===De.ArrowUp?Zn(J,Ut.Previous|Ut.WrapAround):O.key===De.ArrowDown?Zn(J,Ut.Next|Ut.WrapAround):Is.Error},horizontal(){return O.key===De.ArrowLeft?Zn(J,Ut.Previous|Ut.WrapAround):O.key===De.ArrowRight?Zn(J,Ut.Next|Ut.WrapAround):Is.Error}}))===Is.Success)return O.preventDefault()}),D=(0,zt.useRef)(!1),F=le(()=>{var O;D.current||(D.current=!0,(O=y.current)==null||O.focus({preventScroll:!0}),p.change(S),Z0(()=>{D.current=!1}))}),T=le(O=>{O.preventDefault()}),{isFocusVisible:R,focusProps:_}=za({autoFocus:s}),{isHovered:M,hoverProps:L}=As({isDisabled:a}),{pressed:V,pressProps:U}=Ts({disabled:a}),N=(0,zt.useMemo)(()=>({selected:E,hover:M,active:V,focus:R,autofocus:s,disabled:a}),[E,M,R,V,s,a]),H=Ei({ref:b,onKeyDown:k,onMouseDown:T,onClick:F,id:o,role:"tab",type:Ds(e,v),"aria-controls":(n=(r=h[S])==null?void 0:r.current)==null?void 0:n.id,"aria-selected":E,tabIndex:E?0:-1,disabled:a||void 0,autoFocus:s},_,L,U);return nt()({ourProps:H,theirProps:l,slot:N,defaultTag:rne,name:"Tabs.Tab"})}var ine="div";function one(e,t){let{selectedIndex:r}=Ih("Tab.Panels"),n=yt(t),i=(0,zt.useMemo)(()=>({selectedIndex:r}),[r]),o=e,a={ref:n};return nt()({ourProps:a,theirProps:o,slot:i,defaultTag:ine,name:"Tabs.Panels"})}var ane="div",sne=xi.RenderStrategy|xi.Static;function lne(e,t){var r,n,i,o;let a=(0,Er.useId)(),{id:s=`headlessui-tabs-panel-${a}`,tabIndex:l=0,...u}=e,{selectedIndex:c,tabs:d,panels:f}=Ih("Tab.Panel"),h=cT("Tab.Panel"),p=(0,zt.useRef)(null),m=yt(p,t);ut(()=>h.registerPanel(p),[h,p]);let v=dP("panels"),g=f.indexOf(p);g===-1&&(g=v);let y=g===c,{isFocusVisible:b,focusProps:x}=za(),S=(0,zt.useMemo)(()=>({selected:y,focus:b}),[y,b]),E=Ei({ref:m,id:s,role:"tabpanel","aria-labelledby":(n=(r=d[g])==null?void 0:r.current)==null?void 0:n.id,tabIndex:y?l:-1},x),I=nt();return!y&&((i=u.unmount)==null||i)&&!((o=u.static)!=null&&o)?zt.default.createElement(ja,{"aria-hidden":"true",...E}):I({ourProps:E,theirProps:u,slot:S,defaultTag:ane,features:sne,visible:y,name:"Tabs.Panel"})}var une=it(nne),cne=it(Zre),dne=it(tne),fne=it(one),hne=it(lne),eg=Object.assign(une,{Group:cne,List:dne,Panels:fne,Panel:hne}),pne={list:"alinea-Tabs-list",trigger:"alinea-Tabs-trigger","is-selected":"alinea-Tabs-is-selected",isSelected:"alinea-Tabs-is-selected"},aT=j(pne),mne=j(Xw),Zo;(e=>{e.Root=eg.Group;function t({backdrop:n=!0,...i}){return(0,sT.jsx)(eg.List,{className:n?mne.header.mergeProps(i).with(aT.list)():aT.list,...i})}e.List=t;function r(n){return(0,sT.jsx)(eg,{...n,className:({selected:i})=>aT.trigger.mergeProps(n)({selected:i})})}e.Trigger=r,e.Panels=eg.Panels,e.Panel=eg.Panel})(Zo||(Zo={}));var Rn=A(P(),1);function dT({section:e,backdrop:t}){let n=e[cr.Data].types.filter(i=>!me.isHidden(i));return n.length?(0,Rn.jsx)(Zo.List,{backdrop:t,children:n.map((i,o)=>{let{icon:a}=tt(i);return(0,Rn.jsx)(Zo.Trigger,{children:(0,Rn.jsxs)(q,{center:!0,gap:8,children:[a&&(0,Rn.jsx)(a,{}),(0,Rn.jsx)(Ze,{label:me.label(i)})]})},o)})}):null}function fP({section:e}){let{parent:t}=VA(),n=e[cr.Data].types.filter(o=>!me.isHidden(o));if(!n.length)return null;let i=(0,Rn.jsxs)(Zo.Root,{children:[(0,Rn.jsx)(dT,{section:e}),(0,Rn.jsx)(La,{children:(0,Rn.jsx)(Zo.Panels,{children:n.map((o,a)=>(0,Rn.jsx)(Zo.Panel,{unmount:!1,tabIndex:a,children:(0,Rn.jsx)(jr,{type:o,border:!1})},a))})})]});return(0,Rn.jsx)("div",{children:t==="lift"?(0,Rn.jsx)(Ke,{inline:!0,children:(0,Rn.jsx)(vt.Root,{children:(0,Rn.jsx)(vt.Content,{children:i})})}):i})}w();var hP=A($(),1);var Cd=A(P(),1),gne={root:"alinea-Main","root-loading":"alinea-Main-loading",rootLoading:"alinea-Main-loading","root-inner":"alinea-Main-inner",rootInner:"alinea-Main-inner","is-scrollable":"alinea-Main-is-scrollable",isScrollable:"alinea-Main-is-scrollable",container:"alinea-Main-container"},vb=j(gne);function vne({children:e,head:t,scrollRef:r,isLoading:n,scrollable:i=!0,...o},a){return(0,Cd.jsxs)("div",{ref:a,className:vb.root({scrollable:i,loading:n}),children:[t,(0,Cd.jsx)("div",{ref:r,...o,className:vb.root.inner.mergeProps(o)(),children:e}),n&&(0,Cd.jsx)("div",{className:vb.root.loading(),children:(0,Cd.jsx)(ir,{absolute:!0})})]})}function yne(e){return(0,Cd.jsx)("div",{...e,className:vb.container(j.merge(e))})}var Fs=ss((0,hP.forwardRef)(vne),{Container:yne});w();var fT=A(P(),1);function pP(e){return(0,fT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,fT.jsx)("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 2v3H5V5h14zm0 5v4H5v-4h14zM5 19v-3h14v3H5z"})})}w();var hT=A(P(),1);function kd(e){return(0,hT.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,hT.jsx)("path",{fill:"currentColor",d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.41l-4.83-4.83c-.37-.38-.88-.59-1.41-.59H6zm7 6V3.5L18.5 9H14c-.55 0-1-.45-1-1z"})})}w();var pT=A(P(),1);function Fh(e){return(0,pT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,pT.jsx)("path",{fill:"currentColor",d:"M12.65 15.67c.14-.36.05-.77-.23-1.05l-2.09-2.06l.03-.03A17.52 17.52 0 0 0 14.07 6h1.94c.54 0 .99-.45.99-.99v-.02c0-.54-.45-.99-.99-.99H10V3c0-.55-.45-1-1-1s-1 .45-1 1v1H1.99c-.54 0-.99.45-.99.99c0 .55.45.99.99.99h10.18A15.66 15.66 0 0 1 9 11.35c-.81-.89-1.49-1.86-2.06-2.88A.885.885 0 0 0 6.16 8c-.69 0-1.13.75-.79 1.35c.63 1.13 1.4 2.21 2.3 3.21L3.3 16.87a.99.99 0 0 0 0 1.42c.39.39 1.02.39 1.42 0L9 14l2.02 2.02c.51.51 1.38.32 1.63-.35zM17.5 10c-.6 0-1.14.37-1.35.94l-3.67 9.8c-.24.61.22 1.26.87 1.26c.39 0 .74-.24.88-.61l.89-2.39h4.75l.9 2.39c.14.36.49.61.88.61c.65 0 1.11-.65.88-1.26l-3.67-9.8c-.22-.57-.76-.94-1.36-.94zm-1.62 7l1.62-4.33L19.12 17h-3.24z"})})}var Ns=A($(),1);w();var yb=A($(),1),mP=A(P(),1),gP=(0,yb.createContext)(void 0);function Rh(){return(0,yb.useContext)(gP)}function vP({children:e,editor:t}){return(0,mP.jsx)(gP.Provider,{value:t,children:e})}w();w();w();var wb=A($(),1),bb=e=>{var t=(0,wb.useRef)(e);return(0,wb.useEffect)(()=>{t.current=e}),t};var cc=A($(),1),tp=A($(),1);w();var tg=A(P(),1),wne={root:"alinea-Badge","root-number":"alinea-Badge-number",rootNumber:"alinea-Badge-number"},yP=j(wne);function wP({children:e,amount:t,top:r,right:n,bottom:i,left:o}){return(0,tg.jsxs)("div",{className:yP.root(),children:[(0,tg.jsx)("div",{children:e}),Number(t)>0&&(0,tg.jsx)("span",{className:yP.root.number(),style:{top:r&&Me(r),right:n&&Me(n),bottom:i&&Me(i),left:o&&Me(o)},children:t})]})}w();w();var Mn=A($(),1),Rb=A($(),1),NP=A(pi(),1);function ng(e){return e.split("-")[0]}function kb(e){return e.split("-")[1]}function yT(e){return["top","bottom"].includes(ng(e))?"x":"y"}function AP(e){return e==="y"?"height":"width"}function bP(e,t,r){let{reference:n,floating:i}=e,o=n.x+n.width/2-i.width/2,a=n.y+n.height/2-i.height/2,s=yT(t),l=AP(s),u=n[l]/2-i[l]/2,c=ng(t),d=s==="x",f;switch(c){case"top":f={x:o,y:n.y-i.height};break;case"bottom":f={x:o,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:a};break;case"left":f={x:n.x-i.width,y:a};break;default:f={x:n.x,y:n.y}}switch(kb(t)){case"start":f[s]-=u*(r&&d?-1:1);break;case"end":f[s]+=u*(r&&d?-1:1);break}return f}var bne=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=await(a.isRTL==null?void 0:a.isRTL(t)),l=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:c}=bP(l,n,s),d=n,f={},h=0;for(let p=0;p<o.length;p++){let{name:m,fn:v}=o[p],{x:g,y,data:b,reset:x}=await v({x:u,y:c,initialPlacement:n,placement:d,strategy:i,middlewareData:f,rects:l,platform:a,elements:{reference:e,floating:t}});if(u=g??u,c=y??c,f={...f,[m]:{...f[m],...b}},x&&h<=50){h++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(l=x.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:u,y:c}=bP(l,d,s)),p=-1;continue}}return{x:u,y:c,placement:d,strategy:i,middlewareData:f}};function xne(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ene(e){return typeof e!="number"?xne(e):{top:e,right:e,bottom:e,left:e}}function xb(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function TP(e,t){var r;t===void 0&&(t={});let{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=t,p=Ene(h),v=s[f?d==="floating"?"reference":"floating":d],g=xb(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y=xb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:d==="floating"?{...a.floating,x:n,y:i}:a.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),strategy:l}):a[d]);return{top:g.top-y.top+p.top,bottom:y.bottom-g.bottom+p.bottom,left:g.left-y.left+p.left,right:y.right-g.right+p.right}}var Mh=Math.max,Sne={left:"right",right:"left",bottom:"top",top:"bottom"};function Eb(e){return e.replace(/left|right|bottom|top/g,t=>Sne[t])}function Cne(e,t,r){r===void 0&&(r=!1);let n=kb(e),i=yT(e),o=AP(i),a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Eb(a)),{main:a,cross:Eb(a)}}var kne={start:"end",end:"start"};function xP(e){return e.replace(/start|end/g,t=>kne[t])}function Ane(e){let t=Eb(e);return[xP(e),t,xP(t)]}var Ab=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r;let{placement:n,middlewareData:i,rects:o,initialPlacement:a,platform:s,elements:l}=t,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",flipAlignment:h=!0,...p}=e,m=ng(n),g=d||(m===a||!h?[Eb(a)]:Ane(a)),y=[a,...g],b=await TP(t,p),x=[],S=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&x.push(b[m]),c){let{main:D,cross:F}=Cne(n,o,await(s.isRTL==null?void 0:s.isRTL(l.floating)));x.push(b[D],b[F])}if(S=[...S,{placement:n,overflows:x}],!x.every(D=>D<=0)){var E,I;let D=((E=(I=i.flip)==null?void 0:I.index)!=null?E:0)+1,F=y[D];if(F)return{data:{index:D,overflows:S},reset:{placement:F}};let T="bottom";switch(f){case"bestFit":{var k;let R=(k=S.map(_=>[_,_.overflows.filter(M=>M>0).reduce((M,L)=>M+L,0)]).sort((_,M)=>_[1]-M[1])[0])==null?void 0:k[0].placement;R&&(T=R);break}case"initialPlacement":T=a;break}if(n!==T)return{reset:{placement:T}}}return{}}}};async function Tne(e,t){let{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=ng(r),s=kb(r),l=yT(r)==="x",u=["left","top"].includes(a)?-1:1,c=o&&l?-1:1,d=typeof t=="function"?t(e):t,{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}var Tb=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){let{x:r,y:n}=t,i=await Tne(t,e);return{x:r+i.x,y:n+i.y,data:i}}}},DP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){let{placement:r,rects:n,platform:i,elements:o}=t,{apply:a,...s}=e,l=await TP(t,s),u=ng(r),c=kb(r),d,f;u==="top"||u==="bottom"?(d=u,f=c===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(f=u,d=c==="end"?"top":"bottom");let h=Mh(l.left,0),p=Mh(l.right,0),m=Mh(l.top,0),v=Mh(l.bottom,0),g={availableHeight:n.floating.height-(["left","right"].includes(r)?2*(m!==0||v!==0?m+v:Mh(l.top,l.bottom)):l[d]),availableWidth:n.floating.width-(["top","bottom"].includes(r)?2*(h!==0||p!==0?h+p:Mh(l.left,l.right)):l[f])},y=await i.getDimensions(o.floating);a?.({...t,...g});let b=await i.getDimensions(o.floating);return y.width!==b.width||y.height!==b.height?{reset:{rects:!0}}:{}}}};function IP(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Ml(e){if(e==null)return window;if(!IP(e)){let t=e.ownerDocument;return t&&t.defaultView||window}return e}function ig(e){return Ml(e).getComputedStyle(e)}function Fl(e){return IP(e)?"":e?(e.nodeName||"").toLowerCase():""}function FP(){let e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function Rs(e){return e instanceof Ml(e).HTMLElement}function Xu(e){return e instanceof Ml(e).Element}function Dne(e){return e instanceof Ml(e).Node}function wT(e){if(typeof ShadowRoot>"u")return!1;let t=Ml(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Db(e){let{overflow:t,overflowX:r,overflowY:n}=ig(e);return/auto|scroll|overlay|hidden/.test(t+n+r)}function Ine(e){return["table","td","th"].includes(Fl(e))}function RP(e){let t=/firefox/i.test(FP()),r=ig(e);return r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].includes(r.willChange)||t&&r.willChange==="filter"||t&&(r.filter?r.filter!=="none":!1)}function MP(){return!/^((?!chrome|android).)*safari/i.test(FP())}var EP=Math.min,rg=Math.max,Sb=Math.round;function Rl(e,t,r){var n,i,o,a;t===void 0&&(t=!1),r===void 0&&(r=!1);let s=e.getBoundingClientRect(),l=1,u=1;t&&Rs(e)&&(l=e.offsetWidth>0&&Sb(s.width)/e.offsetWidth||1,u=e.offsetHeight>0&&Sb(s.height)/e.offsetHeight||1);let c=Xu(e)?Ml(e):window,d=!MP()&&r,f=(s.left+(d&&(n=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?n:0))/l,h=(s.top+(d&&(o=(a=c.visualViewport)==null?void 0:a.offsetTop)!=null?o:0))/u,p=s.width/l,m=s.height/u;return{width:p,height:m,top:h,right:f+p,bottom:h+m,left:f,x:f,y:h}}function Zu(e){return((Dne(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ib(e){return Xu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function _P(e){return Rl(Zu(e)).left+Ib(e).scrollLeft}function Fne(e){let t=Rl(e);return Sb(t.width)!==e.offsetWidth||Sb(t.height)!==e.offsetHeight}function Rne(e,t,r){let n=Rs(t),i=Zu(t),o=Rl(e,n&&Fne(t),r==="fixed"),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if(n||!n&&r!=="fixed")if((Fl(t)!=="body"||Db(i))&&(a=Ib(t)),Rs(t)){let l=Rl(t,!0);s.x=l.x+t.clientLeft,s.y=l.y+t.clientTop}else i&&(s.x=_P(i));return{x:o.left+a.scrollLeft-s.x,y:o.top+a.scrollTop-s.y,width:o.width,height:o.height}}function OP(e){return Fl(e)==="html"?e:e.assignedSlot||e.parentNode||(wT(e)?e.host:null)||Zu(e)}function SP(e){return!Rs(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function Mne(e){let t=OP(e);for(wT(t)&&(t=t.host);Rs(t)&&!["html","body"].includes(Fl(t));){if(RP(t))return t;t=t.parentNode}return null}function mT(e){let t=Ml(e),r=SP(e);for(;r&&Ine(r)&&getComputedStyle(r).position==="static";)r=SP(r);return r&&(Fl(r)==="html"||Fl(r)==="body"&&getComputedStyle(r).position==="static"&&!RP(r))?t:r||Mne(e)||t}function CP(e){if(Rs(e))return{width:e.offsetWidth,height:e.offsetHeight};let t=Rl(e);return{width:t.width,height:t.height}}function _ne(e){let{rect:t,offsetParent:r,strategy:n}=e,i=Rs(r),o=Zu(r);if(r===o)return t;let a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if((i||!i&&n!=="fixed")&&((Fl(r)!=="body"||Db(o))&&(a=Ib(r)),Rs(r))){let l=Rl(r,!0);s.x=l.x+r.clientLeft,s.y=l.y+r.clientTop}return{...t,x:t.x-a.scrollLeft+s.x,y:t.y-a.scrollTop+s.y}}function One(e,t){let r=Ml(e),n=Zu(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;let u=MP();(u||!u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function Bne(e){var t;let r=Zu(e),n=Ib(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=rg(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=rg(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+_P(e),l=-n.scrollTop;return ig(i||r).direction==="rtl"&&(s+=rg(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function BP(e){let t=OP(e);return["html","body","#document"].includes(Fl(t))?e.ownerDocument.body:Rs(t)&&Db(t)?t:BP(t)}function Cb(e,t){var r;t===void 0&&(t=[]);let n=BP(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=Ml(n),a=i?[o].concat(o.visualViewport||[],Db(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(Cb(a))}function Nne(e,t){let r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&wT(r)){let n=t;do{if(n&&e===n)return!0;n=n.parentNode||n.host}while(n)}return!1}function Pne(e,t){let r=Rl(e,!1,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft;return{top:n,left:i,x:i,y:n,right:i+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function kP(e,t,r){return t==="viewport"?xb(One(e,r)):Xu(t)?Pne(t,r):xb(Bne(Zu(e)))}function Lne(e){let t=Cb(e),n=["absolute","fixed"].includes(ig(e).position)&&Rs(e)?mT(e):e;return Xu(n)?t.filter(i=>Xu(i)&&Nne(i,n)&&Fl(i)!=="body"):[]}function zne(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e,a=[...r==="clippingAncestors"?Lne(t):[].concat(r),n],s=a[0],l=a.reduce((u,c)=>{let d=kP(t,c,i);return u.top=rg(d.top,u.top),u.right=EP(d.right,u.right),u.bottom=EP(d.bottom,u.bottom),u.left=rg(d.left,u.left),u},kP(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}var Vne={getClippingRect:zne,convertOffsetParentRelativeRectToViewportRelativeRect:_ne,isElement:Xu,getDimensions:CP,getOffsetParent:mT,getDocumentElement:Zu,getElementRects:e=>{let{reference:t,floating:r,strategy:n}=e;return{reference:Rne(t,mT(r),n),floating:{...CP(r),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ig(e).direction==="rtl"};function Fb(e,t,r,n){n===void 0&&(n={});let{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=!0,animationFrame:s=!1}=n,l=i&&!s,u=o&&!s,c=l||u?[...Xu(e)?Cb(e):[],...Cb(t)]:[];c.forEach(m=>{l&&m.addEventListener("scroll",r,{passive:!0}),u&&m.addEventListener("resize",r)});let d=null;if(a){let m=!0;d=new ResizeObserver(()=>{m||r(),m=!1}),Xu(e)&&!s&&d.observe(e),d.observe(t)}let f,h=s?Rl(e):null;s&&p();function p(){let m=Rl(e);h&&(m.x!==h.x||m.y!==h.y||m.width!==h.width||m.height!==h.height)&&r(),h=m,f=requestAnimationFrame(p)}return r(),()=>{var m;c.forEach(v=>{l&&v.removeEventListener("scroll",r),u&&v.removeEventListener("resize",r)}),(m=d)==null||m.disconnect(),d=null,s&&cancelAnimationFrame(f)}}var Hne=(e,t,r)=>bne(e,t,{platform:Vne,...r}),gT=typeof document<"u"?Rb.useLayoutEffect:Rb.useEffect;function vT(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!vT(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){let o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!vT(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function jne(e){let t=Mn.useRef(e);return gT(()=>{t.current=e}),t}function Mb(e){let{middleware:t,placement:r="bottom",strategy:n="absolute",whileElementsMounted:i}=e===void 0?{}:e,o=Mn.useRef(null),a=Mn.useRef(null),s=jne(i),l=Mn.useRef(null),[u,c]=Mn.useState({x:null,y:null,strategy:n,placement:r,middlewareData:{}}),[d,f]=Mn.useState(t);vT(d?.map(b=>{let{options:x}=b;return x}),t?.map(b=>{let{options:x}=b;return x}))||f(t);let h=Mn.useCallback(()=>{!o.current||!a.current||Hne(o.current,a.current,{middleware:d,placement:r,strategy:n}).then(b=>{p.current&&NP.flushSync(()=>{c(b)})})},[d,r,n]);gT(()=>{p.current&&h()},[h]);let p=Mn.useRef(!1);gT(()=>(p.current=!0,()=>{p.current=!1}),[]);let m=Mn.useCallback(()=>{if(typeof l.current=="function"&&(l.current(),l.current=null),o.current&&a.current)if(s.current){let b=s.current(o.current,a.current,h);l.current=b}else h()},[h,s]),v=Mn.useCallback(b=>{o.current=b,m()},[m]),g=Mn.useCallback(b=>{a.current=b,m()},[m]),y=Mn.useMemo(()=>({reference:o,floating:a}),[]);return Mn.useMemo(()=>({...u,update:h,refs:y,reference:v,floating:g}),[u,h,y,v,g])}w();w();var zb=A($(),1),ZP=A($(),1),ag=A($(),1),t9=A($(),1),r9=A($(),1),i9=A($(),1),a9=A($(),1),s9=A($(),1),sg=A($(),1),ec=A($(),1),Ye=A($(),1),Hb=A($(),1),Pb=A(pi(),1),Yr=A($(),1),qb=A($(),1),w9=A(pi(),1),DT=A($(),1),fr=A($(),1),_d=A($(),1),Zt=A($(),1),A9=A(pi(),1),Gb=A($(),1),Fd=A($(),1),Jb=A($(),1);function $ne(e){if(e===null)return{width:0,height:0};let{width:t,height:r}=e.getBoundingClientRect();return{width:t,height:r}}function Bh(e,t=!1){let[r,n]=(0,zb.useReducer)(()=>({}),{}),i=(0,zb.useMemo)(()=>$ne(e),[e,r]);return ut(()=>{if(!e)return;let o=new ResizeObserver(n);return o.observe(e),()=>{o.disconnect()}},[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}function Nh(e,t,r){let n=Fn(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&r()});(0,ZP.useEffect)(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let o=Xn();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>n.current(i));a.observe(i),o.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>n.current(i));a.observe(i),o.add(()=>a.disconnect())}return()=>o.dispose()},[t,n,e])}function e9(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Une(){return/Android/gi.test(window.navigator.userAgent)}function Wne(){return e9()||Une()}function og(e,t,r,n){let i=Fn(r);(0,t9.useEffect)(()=>{if(!e)return;function o(a){i.current(a)}return document.addEventListener(t,o,n),()=>document.removeEventListener(t,o,n)},[e,t,n])}var qne=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};function n9(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...o){let a=t[i].call(r,...o);a&&(r=a,n.forEach(s=>s()))}}}function o9(e){return(0,i9.useSyncExternalStore)(e.subscribe,e.getSnapshot,e.getSnapshot)}var Kne=new qne(()=>n9(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let r=this.slice();return r.splice(t,1),r}}));function Vb(e,t){let r=Kne.get(t),n=(0,r9.useId)(),i=o9(r);if(ut(()=>{if(e)return r.dispatch("ADD",n),()=>r.dispatch("REMOVE",n)},[r,e]),!e)return!1;let o=i.indexOf(n),a=i.length;return o===-1&&(o=a,a+=1),o===a-1}function FT(e,t,r,n){let i=Fn(r);(0,a9.useEffect)(()=>{if(!e)return;function o(a){i.current(a)}return window.addEventListener(t,o,n),()=>window.removeEventListener(t,o,n)},[e,t,n])}var PP=30;function Ph(e,t,r){let n=Vb(e,"outside-click"),i=Fn(r),o=(0,ag.useCallback)(function(l,u){if(l.defaultPrevented)return;let c=u(l);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let d=function f(h){return typeof h=="function"?f(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let f of d)if(f!==null&&(f.contains(c)||l.composed&&l.composedPath().includes(f)))return;return!Il(c,Dl.Loose)&&c.tabIndex!==-1&&l.preventDefault(),i.current(l,c)},[i,t]),a=(0,ag.useRef)(null);og(n,"pointerdown",l=>{var u,c;a.current=((c=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:c[0])||l.target},!0),og(n,"mousedown",l=>{var u,c;a.current=((c=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:c[0])||l.target},!0),og(n,"click",l=>{Wne()||a.current&&(o(l,()=>a.current),a.current=null)},!0);let s=(0,ag.useRef)({x:0,y:0});og(n,"touchstart",l=>{s.current.x=l.touches[0].clientX,s.current.y=l.touches[0].clientY},!0),og(n,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-s.current.x)>=PP||Math.abs(u.y-s.current.y)>=PP))return o(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),FT(n,"blur",l=>o(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ua(...e){return(0,s9.useMemo)(()=>In(...e),[...e])}function Yne(){let e;return{before({doc:t}){var r;let n=t.documentElement,i=(r=t.defaultView)!=null?r:window;e=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),o=Math.max(0,e-i);r.style(n,"paddingRight",`${o}px`)}}}function Gne(){return e9()?{before({doc:e,d:t,meta:r}){function n(i){return r.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=Xn();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let l=s.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=e.querySelector(u);c&&!n(c)&&(a=c)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(n(s.target)){let l=s.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement){if(s.target.tagName==="INPUT")return;if(n(s.target)){let l=s.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let l=(s=window.scrollY)!=null?s:window.pageYOffset;o!==l&&window.scrollTo(0,o),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Jne(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Qne(e){let t={};for(let r of e)Object.assign(t,r(t));return t}var Ad=n9(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:Xn(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:Qne(r)},i=[Gne(),Yne(),Jne()];i.forEach(({before:o})=>o?.(n)),i.forEach(({after:o})=>o?.(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ad.subscribe(()=>{let e=Ad.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&Ad.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ad.dispatch("TEARDOWN",r)}});function Xne(e,t,r=()=>({containers:[]})){let n=o9(Ad),i=t?n.get(t):void 0,o=i?i.count>0:!1;return ut(()=>{if(!(!t||!e))return Ad.dispatch("PUSH",t,r),()=>Ad.dispatch("POP",t,r)},[e,t]),o}function Lh(e,t,r=()=>[document.body]){let n=Vb(e,"scroll-lock");Xne(n,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],r]}})}function Zne(e=0){let[t,r]=(0,ec.useState)(e),n=(0,ec.useCallback)(l=>r(l),[t]),i=(0,ec.useCallback)(l=>r(u=>u|l),[t]),o=(0,ec.useCallback)(l=>(t&l)===l,[t]),a=(0,ec.useCallback)(l=>r(u=>u&~l),[r]),s=(0,ec.useCallback)(l=>r(u=>u^l),[r]);return{flags:t,setFlag:n,addFlag:i,hasFlag:o,removeFlag:a,toggleFlag:s}}var LP,zP;typeof C<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((LP=C==null?void 0:C.env)==null?void 0:LP.NODE_ENV)==="test"&&typeof((zP=Element?.prototype)==null?void 0:zP.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var eie=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(eie||{});function Rd(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function Md(e,t,r,n){let[i,o]=(0,sg.useState)(r),{hasFlag:a,addFlag:s,removeFlag:l}=Zne(e&&i?3:0),u=(0,sg.useRef)(!1),c=(0,sg.useRef)(!1),d=Co();return ut(()=>{var f;if(e){if(r&&o(!0),!t){r&&s(3);return}return(f=n?.start)==null||f.call(n,r),tie(t,{inFlight:u,prepare(){c.current?c.current=!1:c.current=u.current,u.current=!0,!c.current&&(r?(s(3),l(4)):(s(4),l(2)))},run(){c.current?r?(l(3),s(4)):(l(4),s(3)):r?l(1):s(1)},done(){var h;c.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,l(7),r||o(!1),(h=n?.end)==null||h.call(n,r))}})}},[e,r,t,d]),e?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function tie(e,{prepare:t,run:r,done:n,inFlight:i}){let o=Xn();return nie(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{r(),o.requestAnimationFrame(()=>{o.add(rie(e,n))})}),o.dispose}function rie(e,t){var r,n;let i=Xn();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let a=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(s=>s instanceof CSSTransition))!=null?n:[];return a.length===0?(t(),i.dispose):(Promise.allSettled(a.map(s=>s.finished)).then(()=>{o||t()}),i.dispose)}function nie(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function jb(){return typeof window<"u"}function zh(e){return l9(e)?(e.nodeName||"").toLowerCase():"#document"}function ko(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Os(e){var t;return(t=(l9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function l9(e){return jb()?e instanceof Node||e instanceof ko(e).Node:!1}function Si(e){return jb()?e instanceof Element||e instanceof ko(e).Element:!1}function _s(e){return jb()?e instanceof HTMLElement||e instanceof ko(e).HTMLElement:!1}function VP(e){return!jb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ko(e).ShadowRoot}function cg(e){let{overflow:t,overflowX:r,overflowY:n,display:i}=$a(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function iie(e){return["table","td","th"].includes(zh(e))}function $b(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function RT(e){let t=MT(),r=Si(e)?$a(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function oie(e){let t=tc(e);for(;_s(t)&&!Oh(t);){if(RT(t))return t;if($b(t))return null;t=tc(t)}return null}function MT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oh(e){return["html","body","#document"].includes(zh(e))}function $a(e){return ko(e).getComputedStyle(e)}function Ub(e){return Si(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tc(e){if(zh(e)==="html")return e;let t=e.assignedSlot||e.parentNode||VP(e)&&e.host||Os(e);return VP(t)?t.host:t}function u9(e){let t=tc(e);return Oh(t)?e.ownerDocument?e.ownerDocument.body:e.body:_s(t)&&cg(t)?t:u9(t)}function lg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);let i=u9(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),a=ko(i);if(o){let s=kT(a);return t.concat(a,a.visualViewport||[],cg(i)?i:[],s&&r?lg(s):[])}return t.concat(i,lg(i,[],r))}function kT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aie(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}var Td=Math.min,ei=Math.max,ug=Math.round,_b=Math.floor,Ms=e=>({x:e,y:e}),sie={left:"right",right:"left",bottom:"top",top:"bottom"},lie={start:"end",end:"start"};function HP(e,t,r){return ei(e,Td(t,r))}function Vh(e,t){return typeof e=="function"?e(t):e}function rc(e){return e.split("-")[0]}function dg(e){return e.split("-")[1]}function c9(e){return e==="x"?"y":"x"}function d9(e){return e==="y"?"height":"width"}function Dd(e){return["top","bottom"].includes(rc(e))?"y":"x"}function f9(e){return c9(Dd(e))}function uie(e,t,r){r===void 0&&(r=!1);let n=dg(e),i=f9(e),o=d9(i),a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Bb(a)),[a,Bb(a)]}function cie(e){let t=Bb(e);return[AT(e),t,AT(t)]}function AT(e){return e.replace(/start|end/g,t=>lie[t])}function die(e,t,r){let n=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?o:a;default:return[]}}function fie(e,t,r,n){let i=dg(e),o=die(rc(e),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(AT)))),o}function Bb(e){return e.replace(/left|right|bottom|top/g,t=>sie[t])}function hie(e){return{top:0,right:0,bottom:0,left:0,...e}}function pie(e){return typeof e!="number"?hie(e):{top:e,right:e,bottom:e,left:e}}function Nb(e){let{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function jP(e,t,r){let{reference:n,floating:i}=e,o=Dd(t),a=f9(t),s=d9(a),l=rc(t),u=o==="y",c=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,f=n[s]/2-i[s]/2,h;switch(l){case"top":h={x:c,y:n.y-i.height};break;case"bottom":h={x:c,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:d};break;case"left":h={x:n.x-i.width,y:d};break;default:h={x:n.x,y:n.y}}switch(dg(t)){case"start":h[a]-=f*(r&&u?-1:1);break;case"end":h[a]+=f*(r&&u?-1:1);break}return h}var mie=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=jP(u,n,l),f=n,h={},p=0;for(let m=0;m<s.length;m++){let{name:v,fn:g}=s[m],{x:y,y:b,data:x,reset:S}=await g({x:c,y:d,initialPlacement:n,placement:f,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:e,floating:t}});c=y??c,d=b??d,h={...h,[v]:{...h[v],...x}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:c,y:d}=jP(u,f,l)),m=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function Wb(e,t){var r;t===void 0&&(t={});let{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Vh(t,e),p=pie(h),v=s[f?d==="floating"?"reference":"floating":d],g=Nb(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y=d==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),x=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Nb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:l}):y);return{top:(g.top-S.top+p.top)/x.y,bottom:(S.bottom-g.bottom+p.bottom)/x.y,left:(g.left-S.left+p.left)/x.x,right:(S.right-g.right+p.right)/x.x}}var gie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;let{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...v}=Vh(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};let g=rc(i),y=Dd(s),b=rc(s)===s,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=f||(b||!m?[Bb(s)]:cie(s)),E=p!=="none";!f&&E&&S.push(...fie(s,m,p,x));let I=[s,...S],k=await Wb(t,v),D=[],F=((n=o.flip)==null?void 0:n.overflows)||[];if(c&&D.push(k[g]),d){let M=uie(i,a,x);D.push(k[M[0]],k[M[1]])}if(F=[...F,{placement:i,overflows:D}],!D.every(M=>M<=0)){var T,R;let M=(((T=o.flip)==null?void 0:T.index)||0)+1,L=I[M];if(L)return{data:{index:M,overflows:F},reset:{placement:L}};let V=(R=F.filter(U=>U.overflows[0]<=0).sort((U,N)=>U.overflows[1]-N.overflows[1])[0])==null?void 0:R.placement;if(!V)switch(h){case"bestFit":{var _;let U=(_=F.filter(N=>{if(E){let H=Dd(N.placement);return H===y||H==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(H=>H>0).reduce((H,O)=>H+O,0)]).sort((N,H)=>N[1]-H[1])[0])==null?void 0:_[0];U&&(V=U);break}case"initialPlacement":V=s;break}if(i!==V)return{reset:{placement:V}}}return{}}}};async function vie(e,t){let{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=rc(r),s=dg(r),l=Dd(r)==="y",u=["left","top"].includes(a)?-1:1,c=o&&l?-1:1,d=Vh(t,e),{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}var yie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;let{x:i,y:o,placement:a,middlewareData:s}=t,l=await vie(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},wie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:g,y}=v;return{x:g,y}}},...l}=Vh(e,t),u={x:r,y:n},c=await Wb(t,l),d=Dd(rc(i)),f=c9(d),h=u[f],p=u[d];if(o){let v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=h+c[v],b=h-c[g];h=HP(y,h,b)}if(a){let v=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=p+c[v],b=p-c[g];p=HP(y,p,b)}let m=s.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:o,[d]:a}}}}}},bie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;let{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...u}=Vh(e,t),c=await Wb(t,u),d=rc(i),f=dg(i),h=Dd(i)==="y",{width:p,height:m}=o.floating,v,g;d==="top"||d==="bottom"?(v=d,g=f===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(g=d,v=f==="end"?"top":"bottom");let y=m-c.top-c.bottom,b=p-c.left-c.right,x=Td(m-c[v],y),S=Td(p-c[g],b),E=!t.middlewareData.shift,I=x,k=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(I=y),E&&!f){let F=ei(c.left,0),T=ei(c.right,0),R=ei(c.top,0),_=ei(c.bottom,0);h?k=p-2*(F!==0||T!==0?F+T:ei(c.left,c.right)):I=m-2*(R!==0||_!==0?R+_:ei(c.top,c.bottom))}await l({...t,availableWidth:k,availableHeight:I});let D=await a.getDimensions(s.floating);return p!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function h9(e){let t=$a(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=_s(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=ug(r)!==o||ug(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function _T(e){return Si(e)?e:e.contextElement}function _h(e){let t=_T(e);if(!_s(t))return Ms(1);let r=t.getBoundingClientRect(),{width:n,height:i,$:o}=h9(t),a=(o?ug(r.width):r.width)/n,s=(o?ug(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}var xie=Ms(0);function p9(e){let t=ko(e);return!MT()||!t.visualViewport?xie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Eie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ko(e)?!1:t}function Id(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);let i=e.getBoundingClientRect(),o=_T(e),a=Ms(1);t&&(n?Si(n)&&(a=_h(n)):a=_h(e));let s=Eie(o,r,n)?p9(o):Ms(0),l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,c=i.width/a.x,d=i.height/a.y;if(o){let f=ko(o),h=n&&Si(n)?ko(n):n,p=f,m=kT(p);for(;m&&n&&h!==p;){let v=_h(m),g=m.getBoundingClientRect(),y=$a(m),b=g.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,x=g.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,u*=v.y,c*=v.x,d*=v.y,l+=b,u+=x,p=ko(m),m=kT(p)}}return Nb({width:c,height:d,x:l,y:u})}function OT(e,t){let r=Ub(e).scrollLeft;return t?t.left+r:Id(Os(e)).left+r}function m9(e,t,r){r===void 0&&(r=!1);let n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:OT(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function Sie(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e,o=i==="fixed",a=Os(n),s=t?$b(t.floating):!1;if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},u=Ms(1),c=Ms(0),d=_s(n);if((d||!d&&!o)&&((zh(n)!=="body"||cg(a))&&(l=Ub(n)),_s(n))){let h=Id(n);u=_h(n),c.x=h.x+n.clientLeft,c.y=h.y+n.clientTop}let f=a&&!d&&!o?m9(a,l,!0):Ms(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:r.y*u.y-l.scrollTop*u.y+c.y+f.y}}function Cie(e){return Array.from(e.getClientRects())}function kie(e){let t=Os(e),r=Ub(e),n=e.ownerDocument.body,i=ei(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ei(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+OT(e),s=-r.scrollTop;return $a(n).direction==="rtl"&&(a+=ei(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}function Aie(e,t){let r=ko(e),n=Os(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;let u=MT();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function Tie(e,t){let r=Id(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=_s(e)?_h(e):Ms(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=n*o.y;return{width:a,height:s,x:l,y:u}}function $P(e,t,r){let n;if(t==="viewport")n=Aie(e,r);else if(t==="document")n=kie(Os(e));else if(Si(t))n=Tie(t,r);else{let i=p9(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Nb(n)}function g9(e,t){let r=tc(e);return r===t||!Si(r)||Oh(r)?!1:$a(r).position==="fixed"||g9(r,t)}function Die(e,t){let r=t.get(e);if(r)return r;let n=lg(e,[],!1).filter(s=>Si(s)&&zh(s)!=="body"),i=null,o=$a(e).position==="fixed",a=o?tc(e):e;for(;Si(a)&&!Oh(a);){let s=$a(a),l=RT(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||cg(a)&&!l&&g9(e,a))?n=n.filter(c=>c!==a):i=s,a=tc(a)}return t.set(e,n),n}function Iie(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e,a=[...r==="clippingAncestors"?$b(t)?[]:Die(t,this._c):[].concat(r),n],s=a[0],l=a.reduce((u,c)=>{let d=$P(t,c,i);return u.top=ei(d.top,u.top),u.right=Td(d.right,u.right),u.bottom=Td(d.bottom,u.bottom),u.left=ei(d.left,u.left),u},$P(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Fie(e){let{width:t,height:r}=h9(e);return{width:t,height:r}}function Rie(e,t,r){let n=_s(t),i=Os(t),o=r==="fixed",a=Id(e,!0,o,t),s={scrollLeft:0,scrollTop:0},l=Ms(0);if(n||!n&&!o)if((zh(t)!=="body"||cg(i))&&(s=Ub(t)),n){let f=Id(t,!0,o,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=OT(i));let u=i&&!n&&!o?m9(i,s):Ms(0),c=a.left+s.scrollLeft-l.x-u.x,d=a.top+s.scrollTop-l.y-u.y;return{x:c,y:d,width:a.width,height:a.height}}function bT(e){return $a(e).position==="static"}function UP(e,t){if(!_s(e)||$a(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Os(e)===r&&(r=r.ownerDocument.body),r}function v9(e,t){let r=ko(e);if($b(e))return r;if(!_s(e)){let i=tc(e);for(;i&&!Oh(i);){if(Si(i)&&!bT(i))return i;i=tc(i)}return r}let n=UP(e,t);for(;n&&iie(n)&&bT(n);)n=UP(n,t);return n&&Oh(n)&&bT(n)&&!RT(n)?r:n||oie(e)||r}var Mie=async function(e){let t=this.getOffsetParent||v9,r=this.getDimensions,n=await r(e.floating);return{reference:Rie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _ie(e){return $a(e).direction==="rtl"}var Oie={convertOffsetParentRelativeRectToViewportRelativeRect:Sie,getDocumentElement:Os,getClippingRect:Iie,getOffsetParent:v9,getElementRects:Mie,getClientRects:Cie,getDimensions:Fie,getScale:_h,isElement:Si,isRTL:_ie};function y9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Bie(e,t){let r=null,n,i=Os(e);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();let u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:h}=u;if(s||t(),!f||!h)return;let p=_b(d),m=_b(i.clientWidth-(c+f)),v=_b(i.clientHeight-(d+h)),g=_b(c),b={rootMargin:-p+"px "+-m+"px "+-v+"px "+-g+"px",threshold:ei(0,Td(1,l))||1},x=!0;function S(E){let I=E[0].intersectionRatio;if(I!==l){if(!x)return a();I?a(!1,I):n=setTimeout(()=>{a(!1,1e-7)},1e3)}I===1&&!y9(u,e.getBoundingClientRect())&&a(),x=!1}try{r=new IntersectionObserver(S,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return a(!0),o}function Nie(e,t,r,n){n===void 0&&(n={});let{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=_T(e),c=i||o?[...u?lg(u):[],...lg(t)]:[];c.forEach(g=>{i&&g.addEventListener("scroll",r,{passive:!0}),o&&g.addEventListener("resize",r)});let d=u&&s?Bie(u,r):null,f=-1,h=null;a&&(h=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),r()}),u&&!l&&h.observe(u),h.observe(t));let p,m=l?Id(e):null;l&&v();function v(){let g=Id(e);m&&!y9(m,g)&&r(),m=g,p=requestAnimationFrame(v)}return r(),()=>{var g;c.forEach(y=>{i&&y.removeEventListener("scroll",r),o&&y.removeEventListener("resize",r)}),d?.(),(g=h)==null||g.disconnect(),h=null,l&&cancelAnimationFrame(p)}}var xT=Wb,Pie=yie,Lie=wie,zie=gie,Vie=bie,Hie=(e,t,r)=>{let n=new Map,i={platform:Oie,...r},o={...i.platform,_c:n};return mie(e,t,{...i,platform:o})},Ob=typeof document<"u"?qb.useLayoutEffect:qb.useEffect;function Lb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Lb(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){let o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!Lb(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function b9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function WP(e,t){let r=b9(e);return Math.round(t*r)/r}function ET(e){let t=Yr.useRef(e);return Ob(()=>{t.current=e}),t}function jie(e){e===void 0&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[c,d]=Yr.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=Yr.useState(n);Lb(f,n)||h(n);let[p,m]=Yr.useState(null),[v,g]=Yr.useState(null),y=Yr.useCallback(N=>{N!==E.current&&(E.current=N,m(N))},[]),b=Yr.useCallback(N=>{N!==I.current&&(I.current=N,g(N))},[]),x=o||p,S=a||v,E=Yr.useRef(null),I=Yr.useRef(null),k=Yr.useRef(c),D=l!=null,F=ET(l),T=ET(i),R=ET(u),_=Yr.useCallback(()=>{if(!E.current||!I.current)return;let N={placement:t,strategy:r,middleware:f};T.current&&(N.platform=T.current),Hie(E.current,I.current,N).then(H=>{let O={...H,isPositioned:R.current!==!1};M.current&&!Lb(k.current,O)&&(k.current=O,w9.flushSync(()=>{d(O)}))})},[f,t,r,T,R]);Ob(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(N=>({...N,isPositioned:!1})))},[u]);let M=Yr.useRef(!1);Ob(()=>(M.current=!0,()=>{M.current=!1}),[]),Ob(()=>{if(x&&(E.current=x),S&&(I.current=S),x&&S){if(F.current)return F.current(x,S,_);_()}},[x,S,_,F,D]);let L=Yr.useMemo(()=>({reference:E,floating:I,setReference:y,setFloating:b}),[y,b]),V=Yr.useMemo(()=>({reference:x,floating:S}),[x,S]),U=Yr.useMemo(()=>{let N={position:r,left:0,top:0};if(!V.floating)return N;let H=WP(V.floating,c.x),O=WP(V.floating,c.y);return s?{...N,transform:"translate("+H+"px, "+O+"px)",...b9(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:O}},[r,s,V.floating,c.x,c.y]);return Yr.useMemo(()=>({...c,update:_,refs:L,elements:V,floatingStyles:U}),[c,_,L,V,U])}var x9=(e,t)=>({...Pie(e),options:[e,t]}),$ie=(e,t)=>({...Lie(e),options:[e,t]}),Uie=(e,t)=>({...zie(e),options:[e,t]}),Wie=(e,t)=>({...Vie(e),options:[e,t]}),E9={...Ye},qie=E9.useInsertionEffect,Kie=qie||(e=>e());function S9(e){let t=Ye.useRef(()=>{});return Kie(()=>{t.current=e}),Ye.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}var Yie="ArrowUp",Gie="ArrowDown",Jie="ArrowLeft",Qie="ArrowRight",TT=typeof document<"u"?Hb.useLayoutEffect:Hb.useEffect,Xie=[Jie,Qie],Zie=[Yie,Gie],dFe=[...Xie,...Zie],qP=!1,eoe=0,KP=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+eoe++;function toe(){let[e,t]=Ye.useState(()=>qP?KP():void 0);return TT(()=>{e==null&&t(KP())},[]),Ye.useEffect(()=>{qP=!0},[]),e}var roe=E9.useId,noe=roe||toe;function ioe(){let e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(i=>i!==r))||[])}}}var ooe=Ye.createContext(null),aoe=Ye.createContext(null),soe=()=>{var e;return((e=Ye.useContext(ooe))==null?void 0:e.id)||null},loe=()=>Ye.useContext(aoe),uoe="data-floating-ui-focusable";function coe(e){let{open:t=!1,onOpenChange:r,elements:n}=e,i=noe(),o=Ye.useRef({}),[a]=Ye.useState(()=>ioe()),s=soe()!=null,[l,u]=Ye.useState(n.reference),c=S9((h,p,m)=>{o.current.openEvent=h?p:void 0,a.emit("openchange",{open:h,event:p,reason:m,nested:s}),r?.(h,p,m)}),d=Ye.useMemo(()=>({setPositionReference:u}),[]),f=Ye.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return Ye.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:f,events:a,floatingId:i,refs:d}),[t,c,f,a,i,d])}function doe(e){e===void 0&&(e={});let{nodeId:t}=e,r=coe({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[o,a]=Ye.useState(null),[s,l]=Ye.useState(null),c=i?.domReference||o,d=Ye.useRef(null),f=loe();TT(()=>{c&&(d.current=c)},[c]);let h=jie({...e,elements:{...i,...s&&{reference:s}}}),p=Ye.useCallback(b=>{let x=Si(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(x),h.refs.setReference(x)},[h.refs]),m=Ye.useCallback(b=>{(Si(b)||b===null)&&(d.current=b,a(b)),(Si(h.refs.reference.current)||h.refs.reference.current===null||b!==null&&!Si(b))&&h.refs.setReference(b)},[h.refs]),v=Ye.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:d}),[h.refs,m,p]),g=Ye.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),y=Ye.useMemo(()=>({...h,...n,refs:v,elements:g,nodeId:t}),[h,v,g,t,n]);return TT(()=>{n.dataRef.current.floatingContext=y;let b=f?.nodesRef.current.find(x=>x.id===t);b&&(b.context=y)}),Ye.useMemo(()=>({...h,context:y,refs:v,elements:g}),[h,v,g,y])}var YP="active",GP="selected";function ST(e,t,r){let n=new Map,i=r==="item",o=e;if(i&&e){let{[YP]:a,[GP]:s,...l}=e;o=l}return{...r==="floating"&&{tabIndex:-1,[uoe]:""},...o,...t.map(a=>{let s=a?a[r]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((a,s)=>(s&&Object.entries(s).forEach(l=>{let[u,c]=l;if(!(i&&[YP,GP].includes(u)))if(u.indexOf("on")===0){if(n.has(u)||n.set(u,[]),typeof c=="function"){var d;(d=n.get(u))==null||d.push(c),a[u]=function(){for(var f,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(f=n.get(u))==null?void 0:f.map(v=>v(...p)).find(v=>v!==void 0)}}}else a[u]=c}),a),{})}}function foe(e){e===void 0&&(e=[]);let t=e.map(s=>s?.reference),r=e.map(s=>s?.floating),n=e.map(s=>s?.item),i=Ye.useCallback(s=>ST(s,e,"reference"),t),o=Ye.useCallback(s=>ST(s,e,"floating"),r),a=Ye.useCallback(s=>ST(s,e,"item"),n);return Ye.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:a}),[i,o,a])}function JP(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}var hoe=e=>({name:"inner",options:e,async fn(t){let{listRef:r,overflowRef:n,onFallbackChange:i,offset:o=0,index:a=0,minItemsVisible:s=4,referenceOverflowThreshold:l=0,scrollRef:u,...c}=Vh(e,t),{rects:d,elements:{floating:f}}=t,h=r.current[a],p=u?.current||f,m=f.clientTop||p.clientTop,v=f.clientTop!==0,g=p.clientTop!==0,y=f===p;if(!h)return{};let b={...t,...await x9(-h.offsetTop-f.clientTop-d.reference.height/2-h.offsetHeight/2-o).fn(t)},x=await xT(JP(b,p.scrollHeight+m+f.clientTop),c),S=await xT(b,{...c,elementContext:"reference"}),E=ei(0,x.top),I=b.y+E,F=(p.scrollHeight>p.clientHeight?T=>T:ug)(ei(0,p.scrollHeight+(v&&y||g?m*2:0)-E-ei(0,x.bottom)));if(p.style.maxHeight=F+"px",p.scrollTop=E,i){let T=p.offsetHeight<h.offsetHeight*Td(s,r.current.length)-1||S.top>=-l||S.bottom>=-l;Pb.flushSync(()=>i(T))}return n&&(n.current=await xT(JP({...b,y:I},p.offsetHeight+m+f.clientTop),c)),{y:I}}});function poe(e,t){let{open:r,elements:n}=e,{enabled:i=!0,overflowRef:o,scrollRef:a,onChange:s}=t,l=S9(s),u=Ye.useRef(!1),c=Ye.useRef(null),d=Ye.useRef(null);Ye.useEffect(()=>{if(!i)return;function h(m){if(m.ctrlKey||!p||o.current==null)return;let v=m.deltaY,g=o.current.top>=-.5,y=o.current.bottom>=-.5,b=p.scrollHeight-p.clientHeight,x=v<0?-1:1,S=v<0?"max":"min";p.scrollHeight<=p.clientHeight||(!g&&v>0||!y&&v<0?(m.preventDefault(),Pb.flushSync(()=>{l(E=>E+Math[S](v,b*x))})):/firefox/i.test(aie())&&(p.scrollTop+=v))}let p=a?.current||n.floating;if(r&&p)return p.addEventListener("wheel",h),requestAnimationFrame(()=>{c.current=p.scrollTop,o.current!=null&&(d.current={...o.current})}),()=>{c.current=null,d.current=null,p.removeEventListener("wheel",h)}},[i,r,n.floating,o,a,l]);let f=Ye.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){let h=a?.current||n.floating;if(!(!o.current||!h||!u.current)){if(c.current!==null){let p=h.scrollTop-c.current;(o.current.bottom<-.5&&p<-1||o.current.top<-.5&&p>1)&&Pb.flushSync(()=>l(m=>m+p))}requestAnimationFrame(()=>{c.current=h.scrollTop})}}}),[n.floating,l,o,a]);return Ye.useMemo(()=>i?{floating:f}:{},[i,f])}var Hh=(0,fr.createContext)({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Hh.displayName="FloatingContext";var BT=(0,fr.createContext)(null);BT.displayName="PlacementContext";function jh(e){return(0,fr.useMemo)(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function $h(){return(0,fr.useContext)(Hh).setReference}function Kb(){return(0,fr.useContext)(Hh).getReferenceProps}function Uh(){let{getFloatingProps:e,slot:t}=(0,fr.useContext)(Hh);return(0,fr.useCallback)((...r)=>Object.assign({},e(...r),{"data-anchor":t.anchor}),[e,t])}function Wh(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=(0,fr.useContext)(BT),r=(0,fr.useMemo)(()=>e,[JSON.stringify(e,(i,o)=>{var a;return(a=o?.outerHTML)!=null?a:o})]);ut(()=>{t?.(r??null)},[t,r]);let n=(0,fr.useContext)(Hh);return(0,fr.useMemo)(()=>[n.setFloating,e?n.styles:{}],[n.setFloating,e,n.styles])}var QP=4;function qh({children:e,enabled:t=!0}){let[r,n]=(0,fr.useState)(null),[i,o]=(0,fr.useState)(0),a=(0,fr.useRef)(null),[s,l]=(0,fr.useState)(null);moe(s);let u=t&&r!==null&&s!==null,{to:c="bottom",gap:d=0,offset:f=0,padding:h=0,inner:p}=goe(r,s),[m,v="center"]=c.split(" ");ut(()=>{u&&o(0)},[u]);let{refs:g,floatingStyles:y,context:b}=doe({open:u,placement:m==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${m}`:`${m}-${v}`,strategy:"absolute",transform:!1,middleware:[x9({mainAxis:m==="selection"?0:d,crossAxis:f}),$ie({padding:h}),m!=="selection"&&Uie({padding:h}),m==="selection"&&p?hoe({...p,padding:h,overflowRef:a,offset:i,minItemsVisible:QP,referenceOverflowThreshold:h,onFallbackChange(T){var R,_;if(!T)return;let M=b.elements.floating;if(!M)return;let L=parseFloat(getComputedStyle(M).scrollPaddingBottom)||0,V=Math.min(QP,M.childElementCount),U=0,N=0;for(let H of(_=(R=b.elements.floating)==null?void 0:R.childNodes)!=null?_:[])if(H instanceof HTMLElement){let O=H.offsetTop,J=O+H.clientHeight+L,B=M.scrollTop,z=B+M.clientHeight;if(O>=B&&J<=z)V--;else{N=Math.max(0,Math.min(J,z)-Math.max(O,B)),U=H.clientHeight;break}}V>=1&&o(H=>{let O=U*V-N+L;return H>=O?H:O})}}):null,Wie({padding:h,apply({availableWidth:T,availableHeight:R,elements:_}){Object.assign(_.floating.style,{overflow:"auto",maxWidth:`${T}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${R}px)`})}})].filter(Boolean),whileElementsMounted:Nie}),[x=m,S=v]=b.placement.split("-");m==="selection"&&(x="selection");let E=(0,fr.useMemo)(()=>({anchor:[x,S].filter(Boolean).join(" ")}),[x,S]),I=poe(b,{overflowRef:a,onChange:o}),{getReferenceProps:k,getFloatingProps:D}=foe([I]),F=le(T=>{l(T),g.setFloating(T)});return DT.createElement(BT.Provider,{value:n},DT.createElement(Hh.Provider,{value:{setFloating:F,setReference:g.setReference,styles:y,getReferenceProps:k,getFloatingProps:D,slot:E}},e))}function moe(e){ut(()=>{if(!e)return;let t=new MutationObserver(()=>{let r=window.getComputedStyle(e).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(e.style.maxHeight=`${Math.ceil(n)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function goe(e,t){var r,n,i;let o=CT((r=e?.gap)!=null?r:"var(--anchor-gap, 0)",t),a=CT((n=e?.offset)!=null?n:"var(--anchor-offset, 0)",t),s=CT((i=e?.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:a,padding:s}}function CT(e,t,r=void 0){let n=Co(),i=le((l,u)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[r,null];let c=XP(l,u);return[c,d=>{let f=C9(l);{let h=f.map(p=>window.getComputedStyle(u).getPropertyValue(p));n.requestAnimationFrame(function p(){n.nextFrame(p);let m=!1;for(let[g,y]of f.entries()){let b=window.getComputedStyle(u).getPropertyValue(y);if(h[g]!==b){h[g]=b,m=!0;break}}if(!m)return;let v=XP(l,u);c!==v&&(d(v),c=v)})}return n.dispose}]}return[r,null]}),o=(0,fr.useMemo)(()=>i(e,t)[0],[e,t]),[a=o,s]=(0,fr.useState)();return ut(()=>{let[l,u]=i(e,t);if(s(l),!!u)return u(s)},[e,t]),a}function C9(e){let t=/var\((.*)\)/.exec(e);if(t){let r=t[1].indexOf(",");if(r===-1)return[t[1]];let n=t[1].slice(0,r).trim(),i=t[1].slice(r+1).trim();return i?[n,...C9(i)]:[n]}return[]}function XP(e,t){let r=document.createElement("div");t.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",e,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return t.removeChild(r),n}var Yb=(0,_d.createContext)(null);Yb.displayName="OpenClosedContext";var pn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(pn||{});function Od(){return(0,_d.useContext)(Yb)}function Kh({value:e,children:t}){return _d.default.createElement(Yb.Provider,{value:e},t)}function k9({children:e}){return _d.default.createElement(Yb.Provider,{value:null},e)}function voe(e){let t=le(e),r=(0,Gb.useRef)(!1);(0,Gb.useEffect)(()=>(r.current=!1,()=>{r.current=!0,Z0(()=>{r.current&&t()})}),[t])}function yoe(){let e=typeof document>"u";return"useSyncExternalStore"in Fd?(t=>t.useSyncExternalStore)(Fd)(()=>()=>{},()=>!1,()=>!e):!1}function woe(){let e=yoe(),[t,r]=Fd.useState(Qu.isHandoffComplete);return t&&Qu.isHandoffComplete===!1&&r(!1),Fd.useEffect(()=>{t!==!0&&r(!0)},[t]),Fd.useEffect(()=>Qu.handoff(),[]),e?!1:t}var boe=(0,Jb.createContext)(!1);function xoe(){return(0,Jb.useContext)(boe)}function Eoe(e){let t=xoe(),r=(0,Zt.useContext)(D9),n=Ua(e),[i,o]=(0,Zt.useState)(()=>{var a;if(!t&&r!==null)return(a=r.current)!=null?a:null;if(Qu.isServer)return null;let s=n?.getElementById("headlessui-portal-root");if(s)return s;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return(0,Zt.useEffect)(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),(0,Zt.useEffect)(()=>{t||r!==null&&o(r.current)},[r,o,t]),i}var T9=Zt.Fragment,Soe=it(function(e,t){let r=e,n=(0,Zt.useRef)(null),i=yt(pb(d=>{n.current=d}),t),o=Ua(n),a=Eoe(n),[s]=(0,Zt.useState)(()=>{var d;return Qu.isServer?null:(d=o?.createElement("div"))!=null?d:null}),l=(0,Zt.useContext)(IT),u=woe();ut(()=>{!a||!s||a.contains(s)||(s.setAttribute("data-headlessui-portal",""),a.appendChild(s))},[a,s]),ut(()=>{if(s&&l)return l.register(s)},[l,s]),voe(()=>{var d;!a||!s||(s instanceof Node&&a.contains(s)&&a.removeChild(s),a.childNodes.length<=0&&((d=a.parentElement)==null||d.removeChild(a)))});let c=nt();return u?!a||!s?null:(0,A9.createPortal)(c({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:T9,name:"Portal"}),s):null});function Coe(e,t){let r=yt(t),{enabled:n=!0,...i}=e,o=nt();return n?Zt.default.createElement(Soe,{...i,ref:r}):o({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:T9,name:"Portal"})}var koe=Zt.Fragment,D9=(0,Zt.createContext)(null);function Aoe(e,t){let{target:r,...n}=e,i={ref:yt(t)},o=nt();return Zt.default.createElement(D9.Provider,{value:r},o({ourProps:i,theirProps:n,defaultTag:koe,name:"Popover.Group"}))}var IT=(0,Zt.createContext)(null);function I9(){let e=(0,Zt.useContext)(IT),t=(0,Zt.useRef)([]),r=le(o=>(t.current.push(o),e&&e.register(o),()=>n(o))),n=le(o=>{let a=t.current.indexOf(o);a!==-1&&t.current.splice(a,1),e&&e.unregister(o)}),i=(0,Zt.useMemo)(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,(0,Zt.useMemo)(()=>function({children:o}){return Zt.default.createElement(IT.Provider,{value:i},o)},[i])]}var Toe=it(Coe),Doe=it(Aoe),Yh=Object.assign(Toe,{Group:Doe});var B9=A($(),1),N9=A($(),1),PT=A($(),1),NT=new Map,fg=new Map;function F9(e){var t;let r=(t=fg.get(e))!=null?t:0;return fg.set(e,r+1),r!==0?()=>R9(e):(NT.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>R9(e))}function R9(e){var t;let r=(t=fg.get(e))!=null?t:1;if(r===1?fg.delete(e):fg.set(e,r-1),r!==1)return;let n=NT.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,NT.delete(e))}function Qb(e,{allowed:t,disallowed:r}={}){let n=Vb(e,"inert-others");ut(()=>{var i,o;if(!n)return;let a=Xn();for(let l of(i=r?.())!=null?i:[])l&&a.add(F9(l));let s=(o=t?.())!=null?o:[];for(let l of s){if(!l)continue;let u=In(l);if(!u)continue;let c=l.parentElement;for(;c&&c!==u.body;){for(let d of c.children)s.some(f=>d.contains(f))||a.add(F9(d));c=c.parentElement}}return a.dispose},[n,t,r])}function M9(e){return[e.screenX,e.screenY]}function Xb(){let e=(0,B9.useRef)([-1,-1]);return{wasMoved(t){let r=M9(t);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(t){e.current=M9(t)}}}function Ioe(e){throw new Error("Unexpected object: "+e)}var ct=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ct||{});function nc(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),i=n??-1;switch(e.focus){case 0:{for(let o=0;o<r.length;++o)if(!t.resolveDisabled(r[o],o,r))return o;return n}case 1:{i===-1&&(i=r.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(r[o],o,r))return o;return n}case 2:{for(let o=i+1;o<r.length;++o)if(!t.resolveDisabled(r[o],o,r))return o;return n}case 3:{for(let o=r.length-1;o>=0;--o)if(!t.resolveDisabled(r[o],o,r))return o;return n}case 4:{for(let o=0;o<r.length;++o)if(t.resolveId(r[o],o,r)===e.id)return o;return n}case 5:return null;default:Ioe(e)}}function Zb(e,t){let r=(0,N9.useRef)({left:0,top:0});if(ut(()=>{if(!t)return;let i=t.getBoundingClientRect();i&&(r.current=i)},[e,t]),t==null||!e||t===document.activeElement)return!1;let n=t.getBoundingClientRect();return n.top!==r.current.top||n.left!==r.current.left}var _9=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function O9(e){var t,r;let n=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return n;let o=!1;for(let s of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),o=!0;let a=o?(r=i.innerText)!=null?r:"":n;return _9.test(a)&&(a=a.replace(_9,"")),a}function Foe(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let o=document.getElementById(i);if(o){let a=o.getAttribute("aria-label");return typeof a=="string"?a.trim():O9(o).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return O9(e).trim()}function ex(e){let t=(0,PT.useRef)(""),r=(0,PT.useRef)("");return le(()=>{let n=e.current;if(!n)return"";let i=n.innerText;if(t.current===i)return r.current;let o=Foe(n).trim().toLowerCase();return t.current=i,r.current=o,o})}w();var tx=A($(),1),rx=A($(),1),Ao=A($(),1),To=A($(),1),Roe=(0,tx.createContext)(void 0);function Gh(){return(0,tx.useContext)(Roe)}var Moe=(0,rx.createContext)(void 0);function hg(){return(0,rx.useContext)(Moe)}var nx=(0,Ao.createContext)(null);nx.displayName="DescriptionContext";function P9(){let e=(0,Ao.useContext)(nx);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,P9),t}return e}function ix(){var e,t;return(t=(e=(0,Ao.useContext)(nx))==null?void 0:e.value)!=null?t:void 0}function ox(){let[e,t]=(0,Ao.useState)([]);return[e.length>0?e.join(" "):void 0,(0,Ao.useMemo)(()=>function(r){let n=le(o=>(t(a=>[...a,o]),()=>t(a=>{let s=a.slice(),l=s.indexOf(o);return l!==-1&&s.splice(l,1),s}))),i=(0,Ao.useMemo)(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Ao.default.createElement(nx.Provider,{value:i},r.children)},[t])]}var _oe="p";function Ooe(e,t){let r=(0,Er.useId)(),n=Gh(),{id:i=`headlessui-description-${r}`,...o}=e,a=P9(),s=yt(t);ut(()=>a.register(i),[i,a.register]);let l=n||!1,u=(0,Ao.useMemo)(()=>({...a.slot,disabled:l}),[a.slot,l]),c={ref:s,...a.props,id:i};return nt()({ourProps:c,theirProps:o,slot:u,defaultTag:_oe,name:a.name||"Description"})}var Boe=it(Ooe),L9=Object.assign(Boe,{}),ax=(0,To.createContext)(null);ax.displayName="LabelContext";function sx(){let e=(0,To.useContext)(ax);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,sx),t}return e}function pg(e){var t,r,n;let i=(r=(t=(0,To.useContext)(ax))==null?void 0:t.value)!=null?r:void 0;return((n=e?.length)!=null?n:0)>0?[i,...e].filter(Boolean).join(" "):i}function Bd({inherit:e=!1}={}){let t=pg(),[r,n]=(0,To.useState)([]),i=e?[t,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,(0,To.useMemo)(()=>function(o){let a=le(l=>(n(u=>[...u,l]),()=>n(u=>{let c=u.slice(),d=c.indexOf(l);return d!==-1&&c.splice(d,1),c}))),s=(0,To.useMemo)(()=>({register:a,slot:o.slot,name:o.name,props:o.props,value:o.value}),[a,o.slot,o.name,o.props,o.value]);return To.default.createElement(ax.Provider,{value:s},o.children)},[n])]}var Noe="label";function Poe(e,t){var r;let n=(0,Er.useId)(),i=sx(),o=hg(),a=Gh(),{id:s=`headlessui-label-${n}`,htmlFor:l=o??((r=i.props)==null?void 0:r.htmlFor),passive:u=!1,...c}=e,d=yt(t);ut(()=>i.register(s),[s,i.register]);let f=le(v=>{let g=v.currentTarget;if(g instanceof HTMLLabelElement&&v.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(v),g instanceof HTMLLabelElement){let y=document.getElementById(g.htmlFor);if(y){let b=y.getAttribute("disabled");if(b==="true"||b==="")return;let x=y.getAttribute("aria-disabled");if(x==="true"||x==="")return;(y instanceof HTMLInputElement&&(y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),h=a||!1,p=(0,To.useMemo)(()=>({...i.slot,disabled:h}),[i.slot,h]),m={ref:d,...i.props,id:s,htmlFor:l,onClick:f};return u&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in c&&delete c.onClick),nt()({ourProps:m,theirProps:c,slot:p,defaultTag:l?Noe:"div",name:i.name||"Label"})}var Loe=it(Poe),lx=Object.assign(Loe,{});w();function _l(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&zoe(r)?!1:n}function zoe(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var mg=A($(),1),Ft=A($(),1),Jh=A(pi(),1),gg=A($(),1),ic=A(P(),1);function Voe(e,{container:t,accept:r,walk:n}){let i=(0,mg.useRef)(r),o=(0,mg.useRef)(n);(0,mg.useEffect)(()=>{i.current=r,o.current=n},[r,n]),ut(()=>{if(!t||!e)return;let a=In(t);if(!a)return;let s=i.current,l=o.current,u=Object.assign(d=>s(d),{acceptNode:s}),c=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)l(c.currentNode)},[t,e,i,o])}var Hoe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Hoe||{}),joe=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(joe||{}),$oe=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e))($oe||{});function LT(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=Va(t(e.items.slice()),o=>o.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}var Uoe={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var r,n,i,o,a;if(e.menuState===1)return e;let s={...e,searchQuery:"",activationTrigger:(r=t.trigger)!=null?r:1,__demoMode:!1};if(t.focus===ct.Nothing)return{...s,activeItemIndex:null};if(t.focus===ct.Specific)return{...s,activeItemIndex:e.items.findIndex(c=>c.id===t.id)};if(t.focus===ct.Previous){let c=e.activeItemIndex;if(c!==null){let d=e.items[c].dataRef.current.domRef,f=nc(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});if(f!==null){let h=e.items[f].dataRef.current.domRef;if(((n=d.current)==null?void 0:n.previousElementSibling)===h.current||((i=h.current)==null?void 0:i.previousElementSibling)===null)return{...s,activeItemIndex:f}}}}else if(t.focus===ct.Next){let c=e.activeItemIndex;if(c!==null){let d=e.items[c].dataRef.current.domRef,f=nc(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});if(f!==null){let h=e.items[f].dataRef.current.domRef;if(((o=d.current)==null?void 0:o.nextElementSibling)===h.current||((a=h.current)==null?void 0:a.nextElementSibling)===null)return{...s,activeItemIndex:f}}}}let l=LT(e),u=nc(t,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...s,...l,activeItemIndex:u}},3:(e,t)=>{let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(a=>{var s;return((s=a.dataRef.current.textValue)==null?void 0:s.startsWith(n))&&!a.dataRef.current.disabled}),o=i?e.items.indexOf(i):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let r=LT(e,n=>[...n,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},6:(e,t)=>{let r=LT(e,n=>{let i=n.findIndex(o=>o.id===t.id);return i!==-1&&n.splice(i,1),n});return{...e,...r,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element}},zT=(0,Ft.createContext)(null);zT.displayName="MenuContext";function dx(e){let t=(0,Ft.useContext)(zT);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,dx),r}return t}function Woe(e,t){return Lt(t.type,Uoe,e,t)}var qoe=Ft.Fragment;function Koe(e,t){let{__demoMode:r=!1,...n}=e,i=(0,Ft.useReducer)(Woe,{__demoMode:r,menuState:r?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsElement:a,buttonElement:s},l]=i,u=yt(t);Ph(o===0,[s,a],(p,m)=>{l({type:1}),Il(m,Dl.Loose)||(p.preventDefault(),s?.focus())});let c=le(()=>{l({type:1})}),d=(0,Ft.useMemo)(()=>({open:o===0,close:c}),[o,c]),f={ref:u},h=nt();return Ft.default.createElement(qh,null,Ft.default.createElement(zT.Provider,{value:i},Ft.default.createElement(Kh,{value:Lt(o,{0:pn.Open,1:pn.Closed})},h({ourProps:f,theirProps:n,slot:d,defaultTag:qoe,name:"Menu"}))))}var Yoe="button";function Goe(e,t){var r;let n=(0,Er.useId)(),{id:i=`headlessui-menu-button-${n}`,disabled:o=!1,autoFocus:a=!1,...s}=e,[l,u]=dx("Menu.Button"),c=Kb(),d=yt(t,$h(),le(I=>u({type:7,element:I}))),f=le(I=>{switch(I.key){case De.Space:case De.Enter:case De.ArrowDown:I.preventDefault(),I.stopPropagation(),(0,Jh.flushSync)(()=>u({type:0})),u({type:2,focus:ct.First});break;case De.ArrowUp:I.preventDefault(),I.stopPropagation(),(0,Jh.flushSync)(()=>u({type:0})),u({type:2,focus:ct.Last});break}}),h=le(I=>{switch(I.key){case De.Space:I.preventDefault();break}}),p=le(I=>{var k;if(_l(I.currentTarget))return I.preventDefault();o||(l.menuState===0?((0,Jh.flushSync)(()=>u({type:1})),(k=l.buttonElement)==null||k.focus({preventScroll:!0})):(I.preventDefault(),u({type:0})))}),{isFocusVisible:m,focusProps:v}=za({autoFocus:a}),{isHovered:g,hoverProps:y}=As({isDisabled:o}),{pressed:b,pressProps:x}=Ts({disabled:o}),S=(0,Ft.useMemo)(()=>({open:l.menuState===0,active:b||l.menuState===0,disabled:o,hover:g,focus:m,autofocus:a}),[l,g,m,b,o,a]),E=Ei(c(),{ref:d,id:i,type:Ds(e,l.buttonElement),"aria-haspopup":"menu","aria-controls":(r=l.itemsElement)==null?void 0:r.id,"aria-expanded":l.menuState===0,disabled:o||void 0,autoFocus:a,onKeyDown:f,onKeyUp:h,onClick:p},v,y,x);return nt()({ourProps:E,theirProps:s,slot:S,defaultTag:Yoe,name:"Menu.Button"})}var Joe="div",Qoe=xi.RenderStrategy|xi.Static;function Xoe(e,t){var r,n;let i=(0,Er.useId)(),{id:o=`headlessui-menu-items-${i}`,anchor:a,portal:s=!1,modal:l=!0,transition:u=!1,...c}=e,d=jh(a),[f,h]=dx("Menu.Items"),[p,m]=Wh(d),v=Uh(),[g,y]=(0,Ft.useState)(null),b=yt(t,d?p:null,le(N=>h({type:8,element:N})),y),x=Ua(f.itemsElement);d&&(s=!0);let S=Od(),[E,I]=Md(u,g,S!==null?(S&pn.Open)===pn.Open:f.menuState===0);Nh(E,f.buttonElement,()=>{h({type:1})});let k=f.__demoMode?!1:l&&f.menuState===0;Lh(k,x);let D=f.__demoMode?!1:l&&f.menuState===0;Qb(D,{allowed:(0,Ft.useCallback)(()=>[f.buttonElement,f.itemsElement],[f.buttonElement,f.itemsElement])});let F=f.menuState!==0,T=Zb(F,f.buttonElement)?!1:E;(0,Ft.useEffect)(()=>{let N=f.itemsElement;N&&f.menuState===0&&N!==x?.activeElement&&N.focus({preventScroll:!0})},[f.menuState,f.itemsElement,x]),Voe(f.menuState===0,{container:f.itemsElement,accept(N){return N.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:N.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(N){N.setAttribute("role","none")}});let R=Co(),_=le(N=>{var H,O,J;switch(R.dispose(),N.key){case De.Space:if(f.searchQuery!=="")return N.preventDefault(),N.stopPropagation(),h({type:3,value:N.key});case De.Enter:if(N.preventDefault(),N.stopPropagation(),h({type:1}),f.activeItemIndex!==null){let{dataRef:B}=f.items[f.activeItemIndex];(O=(H=B.current)==null?void 0:H.domRef.current)==null||O.click()}oT(f.buttonElement);break;case De.ArrowDown:return N.preventDefault(),N.stopPropagation(),h({type:2,focus:ct.Next});case De.ArrowUp:return N.preventDefault(),N.stopPropagation(),h({type:2,focus:ct.Previous});case De.Home:case De.PageUp:return N.preventDefault(),N.stopPropagation(),h({type:2,focus:ct.First});case De.End:case De.PageDown:return N.preventDefault(),N.stopPropagation(),h({type:2,focus:ct.Last});case De.Escape:N.preventDefault(),N.stopPropagation(),(0,Jh.flushSync)(()=>h({type:1})),(J=f.buttonElement)==null||J.focus({preventScroll:!0});break;case De.Tab:N.preventDefault(),N.stopPropagation(),(0,Jh.flushSync)(()=>h({type:1})),mb(f.buttonElement,N.shiftKey?Ut.Previous:Ut.Next);break;default:N.key.length===1&&(h({type:3,value:N.key}),R.setTimeout(()=>h({type:4}),350));break}}),M=le(N=>{switch(N.key){case De.Space:N.preventDefault();break}}),L=(0,Ft.useMemo)(()=>({open:f.menuState===0}),[f.menuState]),V=Ei(d?v():{},{"aria-activedescendant":f.activeItemIndex===null||(r=f.items[f.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=f.buttonElement)==null?void 0:n.id,id:o,onKeyDown:_,onKeyUp:M,role:"menu",tabIndex:f.menuState===0?0:void 0,ref:b,style:{...c.style,...m,"--button-width":Bh(f.buttonElement,!0).width},...Rd(I)}),U=nt();return Ft.default.createElement(Yh,{enabled:s?e.static||E:!1},U({ourProps:V,theirProps:c,slot:L,defaultTag:Joe,features:Qoe,visible:T,name:"Menu.Items"}))}var Zoe=Ft.Fragment;function eae(e,t){let r=(0,Er.useId)(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...o}=e,[a,s]=dx("Menu.Item"),l=a.activeItemIndex!==null?a.items[a.activeItemIndex].id===n:!1,u=(0,Ft.useRef)(null),c=yt(t,u);ut(()=>{if(!a.__demoMode&&a.menuState===0&&l&&a.activationTrigger!==0)return Xn().requestAnimationFrame(()=>{var T,R;(R=(T=u.current)==null?void 0:T.scrollIntoView)==null||R.call(T,{block:"nearest"})})},[a.__demoMode,u,l,a.menuState,a.activationTrigger,a.activeItemIndex]);let d=ex(u),f=(0,Ft.useRef)({disabled:i,domRef:u,get textValue(){return d()}});ut(()=>{f.current.disabled=i},[f,i]),ut(()=>(s({type:5,id:n,dataRef:f}),()=>s({type:6,id:n})),[f,n]);let h=le(()=>{s({type:1})}),p=le(T=>{if(i)return T.preventDefault();s({type:1}),oT(a.buttonElement)}),m=le(()=>{if(i)return s({type:2,focus:ct.Nothing});s({type:2,focus:ct.Specific,id:n})}),v=Xb(),g=le(T=>{v.update(T),!i&&(l||s({type:2,focus:ct.Specific,id:n,trigger:0}))}),y=le(T=>{v.wasMoved(T)&&(i||l||s({type:2,focus:ct.Specific,id:n,trigger:0}))}),b=le(T=>{v.wasMoved(T)&&(i||l&&s({type:2,focus:ct.Nothing}))}),[x,S]=Bd(),[E,I]=ox(),k=(0,Ft.useMemo)(()=>({active:l,focus:l,disabled:i,close:h}),[l,i,h]),D={id:n,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":x,"aria-describedby":E,disabled:void 0,onClick:p,onFocus:m,onPointerEnter:g,onMouseEnter:g,onPointerMove:y,onMouseMove:y,onPointerLeave:b,onMouseLeave:b},F=nt();return Ft.default.createElement(S,null,Ft.default.createElement(I,null,F({ourProps:D,theirProps:o,slot:k,defaultTag:Zoe,name:"Menu.Item"})))}var tae="div";function rae(e,t){let[r,n]=Bd(),i=e,o={ref:t,"aria-labelledby":r,role:"group"},a=nt();return Ft.default.createElement(n,null,a({ourProps:o,theirProps:i,slot:{},defaultTag:tae,name:"Menu.Section"}))}var nae="header";function iae(e,t){let r=(0,Er.useId)(),{id:n=`headlessui-menu-heading-${r}`,...i}=e,o=sx();ut(()=>o.register(n),[n,o.register]);let a={id:n,ref:t,role:"presentation",...o.props};return nt()({ourProps:a,theirProps:i,slot:{},defaultTag:nae,name:"Menu.Heading"})}var oae="div";function aae(e,t){let r=e,n={ref:t,role:"separator"};return nt()({ourProps:n,theirProps:r,slot:{},defaultTag:oae,name:"Menu.Separator"})}var sae=it(Koe),lae=it(Goe),uae=it(Xoe),cae=it(eae),dae=it(rae),fae=it(iae),hae=it(aae),ux=Object.assign(sae,{Button:lae,Items:uae,Item:cae,Section:dae,Heading:fae,Separator:hae}),pae={root:"alinea-DropdownMenu",trigger:"alinea-DropdownMenu-trigger",items:"alinea-DropdownMenu-items","is-bottom":"alinea-DropdownMenu-is-bottom",isBottom:"alinea-DropdownMenu-is-bottom","is-top":"alinea-DropdownMenu-is-top",isTop:"alinea-DropdownMenu-is-top","is-left":"alinea-DropdownMenu-is-left",isLeft:"alinea-DropdownMenu-is-left","is-right":"alinea-DropdownMenu-is-right",isRight:"alinea-DropdownMenu-is-right",item:"alinea-DropdownMenu-item","is-active":"alinea-DropdownMenu-is-active",isActive:"alinea-DropdownMenu-is-active"},cx=j(pae),fe;(e=>{let t=(0,gg.createContext)(void 0);function r({top:a,bottom:s,left:l,right:u,...c}){let h=Mb({whileElementsMounted:Fb,strategy:"fixed",placement:`${a?"top":"bottom"}-${l?"end":"start"}`,middleware:[Tb(4),Ab()]});return(0,ic.jsx)(t.Provider,{value:h,children:(0,ic.jsx)(ux,{children:(0,ic.jsx)("div",{...c,className:cx.root.mergeProps(c)()})})})}e.Root=r;function n(a){let s=(0,gg.useContext)(t);return(0,ic.jsx)(ux.Button,{ref:s.reference,...a,className:cx.trigger.mergeProps(a)()})}e.Trigger=n;function i(a){let s=(0,gg.useContext)(t);return(0,ic.jsx)(ux.Items,{...a,ref:s.floating,style:{position:s.strategy,top:`${s.y||0}px`,left:`${s.x||0}px`},className:cx.items.mergeProps(a)()})}e.Items=i;function o(a){return(0,ic.jsx)(ux.Item,{children:({active:s})=>(0,ic.jsx)("button",{...a,className:cx.item.mergeProps(a)({active:s})})})}e.Item=o})(fe||(fe={}));w();var z9=A($(),1),oc=A(P(),1),mae={root:"alinea-Pane","root-inner":"alinea-Pane-inner",rootInner:"alinea-Pane-inner",divider:"alinea-Pane-divider","divider-handle":"alinea-Pane-divider-handle",dividerHandle:"alinea-Pane-divider-handle","divider-handle-line":"alinea-Pane-divider-handle-line",dividerHandleLine:"alinea-Pane-divider-handle-line","is-left":"alinea-Pane-is-left",isLeft:"alinea-Pane-is-left","is-right":"alinea-Pane-is-right",isRight:"alinea-Pane-is-right"},vg=j(mae);function gae({position:e,direction:t,container:r,defaultWidth:n,minWidth:i,maxWidth:o,width:a,setWidth:s}){function l(){let d=document.querySelectorAll("iframe");for(let f of d)f.style.pointerEvents="none";return()=>{for(let f of d)f.style.pointerEvents=""}}let u="is-dragging";function c(d){r.current?.classList.add(u);let f=d.clientX,h=l();function p(m){if(m.preventDefault(),!r?.current)return;let v=a+(m.clientX-f)*t;v<i?v=i:v>o?v=o:f=m.clientX,a=v,r.current.style.width=`${v}px`,s(v)}window.addEventListener("mousemove",p),window.addEventListener("mouseup",()=>{r.current?.classList.remove(u),window.removeEventListener("mousemove",p),h()},{once:!0})}return(0,oc.jsx)("div",{className:vg.divider(e),onDoubleClick:d=>{d.preventDefault(),a=n,s(n),r.current.style.width=`${n}px`},children:(0,oc.jsx)("div",{className:vg.divider.handle(),onMouseDown:c,children:(0,oc.jsx)("div",{className:vg.divider.handle.line()})})})}function VT({id:e,children:t,resizable:r,defaultWidth:n=320,minWidth:i=320,maxWidth:o=1200,...a}){let s=(0,z9.useRef)(null),l=`@alinea/ui/pane-${e}`,u=Number(window?.localStorage?.getItem(l))||n,c=(0,oc.jsx)(gae,{position:r,container:s,minWidth:i,maxWidth:o,defaultWidth:n,direction:r==="left"?-1:1,width:Math.max(u,i),setWidth:d=>{window?.localStorage?.setItem(l,String(d))}});return(0,oc.jsxs)("div",{...a,className:vg.root.mergeProps(a)(),ref:s,style:{width:u,minWidth:i},children:[r==="left"&&c,(0,oc.jsx)("div",{className:vg.root.inner(),children:t}),r==="right"&&c]})}w();var fx=A($(),1),Qh=(e,t)=>{let r=(0,fx.useRef)(!0);(0,fx.useEffect)(()=>{if(r.current){r.current=!1;return}return e()},t)};w();var HT=A(P(),1);function ti(e){return(0,HT.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,HT.jsx)("path",{fill:"currentColor",d:"m12 5.83l2.46 2.46a.996.996 0 1 0 1.41-1.41L12.7 3.7a.996.996 0 0 0-1.41 0L8.12 6.88a.996.996 0 1 0 1.41 1.41L12 5.83zm0 12.34l-2.46-2.46a.996.996 0 1 0-1.41 1.41l3.17 3.18c.39.39 1.02.39 1.41 0l3.17-3.17a.996.996 0 1 0-1.41-1.41L12 18.17z"})})}var rp=A($(),1);w();var Xh=()=>oe(Vw);w();w();var jT=A(P(),1);function ac(e){return(0,jT.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,jT.jsx)("path",{fill:"currentColor",d:"M13 10h7l-9 13v-9H4l9-13z"})})}var sc=A(P(),1),vae={root:"alinea-WorkspaceLabel","root-logo":"alinea-WorkspaceLabel-logo",rootLogo:"alinea-WorkspaceLabel-logo","root-label":"alinea-WorkspaceLabel-label",rootLabel:"alinea-WorkspaceLabel-label"},$T=j(vae);function hx({label:e,color:t,icon:r}){return(0,sc.jsxs)(q,{center:!0,gap:8,className:$T.root(),children:[(0,sc.jsx)("div",{className:$T.root.logo(),children:(0,sc.jsx)(ad,{foreground:ph(t),background:t,children:(0,sc.jsx)(ee,{icon:r??ac})})}),(0,sc.jsx)("div",{className:$T.root.label(),children:(0,sc.jsx)(Ze,{label:e})})]})}w();w();w();var Zh=A($(),1),V9=A($(),1),mn=A($(),1),U9=A(pi(),1);function px(e,t,r){let[n,i]=(0,Zh.useState)(r),o=e!==void 0,a=(0,Zh.useRef)(o),s=(0,Zh.useRef)(!1),l=(0,Zh.useRef)(!1);return o&&!a.current&&!s.current?(s.current=!0,a.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&a.current&&!l.current&&(l.current=!0,a.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:n,le(u=>(o||i(u),t?.(u)))]}function mx(e){let[t]=(0,V9.useState)(e);return t}function H9(e={},t=null,r=[]){for(let[n,i]of Object.entries(e))$9(r,j9(t,n),i);return r}function j9(e,t){return e?e+"["+t+"]":t}function $9(e,t,r){if(Array.isArray(r))for(let[n,i]of r.entries())$9(e,j9(t,n.toString()),i);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):H9(r,t,e)}function gx(e){var t,r;let n=(t=e?.form)!=null?t:e.closest("form");if(n){for(let i of n.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(r=n.requestSubmit)==null||r.call(n)}}var yae=(0,mn.createContext)(null);function wae({children:e}){let t=(0,mn.useContext)(yae);if(!t)return mn.default.createElement(mn.default.Fragment,null,e);let{target:r}=t;return r?(0,U9.createPortal)(mn.default.createElement(mn.default.Fragment,null,e),r):null}function vx({data:e,form:t,disabled:r,onReset:n,overrides:i}){let[o,a]=(0,mn.useState)(null),s=Co();return(0,mn.useEffect)(()=>{if(n&&o)return s.addEventListener(o,"reset",n)},[o,t,n]),mn.default.createElement(wae,null,mn.default.createElement(bae,{setForm:a,formId:t}),H9(e).map(([l,u])=>mn.default.createElement(ja,{features:Ha.Hidden,...Gu({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:l,value:u,...i})})))}function bae({setForm:e,formId:t}){return(0,mn.useEffect)(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:mn.default.createElement(ja,{features:Ha.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest("form");n&&e(n)}})}var Ve=A($(),1),lc=A(pi(),1),W9=A($(),1),q9=A($(),1);function xae(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function Eae(e=xae){return(0,W9.useCallback)((t,r)=>{if(typeof e=="string"){let n=e;return t?.[n]===r?.[n]}return e(t,r)},[e])}function Sae(e,t){let[r,n]=(0,q9.useState)(t);return!e&&r!==t&&n(t),e?r:t}var Cae=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Cae||{}),kae=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(kae||{}),Aae=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Aae||{}),Tae=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e))(Tae||{});function UT(e,t=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=Va(t(e.options.slice()),o=>o.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{options:n,activeOptionIndex:i}}var Dae={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,n=e.options.findIndex(i=>r(i.dataRef.current.value));return n!==-1&&(t=n),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var r,n,i,o,a;if(e.dataRef.current.disabled||e.listboxState===1)return e;let s={...e,searchQuery:"",activationTrigger:(r=t.trigger)!=null?r:1,__demoMode:!1};if(t.focus===ct.Nothing)return{...s,activeOptionIndex:null};if(t.focus===ct.Specific)return{...s,activeOptionIndex:e.options.findIndex(c=>c.id===t.id)};if(t.focus===ct.Previous){let c=e.activeOptionIndex;if(c!==null){let d=e.options[c].dataRef.current.domRef,f=nc(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});if(f!==null){let h=e.options[f].dataRef.current.domRef;if(((n=d.current)==null?void 0:n.previousElementSibling)===h.current||((i=h.current)==null?void 0:i.previousElementSibling)===null)return{...s,activeOptionIndex:f}}}}else if(t.focus===ct.Next){let c=e.activeOptionIndex;if(c!==null){let d=e.options[c].dataRef.current.domRef,f=nc(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});if(f!==null){let h=e.options[f].dataRef.current.domRef;if(((o=d.current)==null?void 0:o.nextElementSibling)===h.current||((a=h.current)==null?void 0:a.nextElementSibling)===null)return{...s,activeOptionIndex:f}}}}let l=UT(e),u=nc(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...s,...l,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find(a=>{var s;return!a.dataRef.current.disabled&&((s=a.dataRef.current.textValue)==null?void 0:s.startsWith(n))}),o=i?e.options.indexOf(i):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let r={id:t.id,dataRef:t.dataRef},n=UT(e,i=>[...i,r]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(r)),{...e,...n}},6:(e,t)=>{let r=UT(e,n=>{let i=n.findIndex(o=>o.id===t.id);return i!==-1&&n.splice(i,1),n});return{...e,...r,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},WT=(0,Ve.createContext)(null);WT.displayName="ListboxActionsContext";function yx(e){let t=(0,Ve.useContext)(WT);if(t===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,yx),r}return t}var wx=(0,Ve.createContext)(null);wx.displayName="ListboxDataContext";function yg(e){let t=(0,Ve.useContext)(wx);if(t===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,yg),r}return t}function Iae(e,t){return Lt(t.type,Dae,e,t)}var Fae=Ve.Fragment;function Rae(e,t){var r;let n=Gh(),{value:i,defaultValue:o,form:a,name:s,onChange:l,by:u,invalid:c=!1,disabled:d=n||!1,horizontal:f=!1,multiple:h=!1,__demoMode:p=!1,...m}=e,v=f?"horizontal":"vertical",g=yt(t),y=mx(o),[b=h?[]:void 0,x]=px(i,l,y),[S,E]=(0,Ve.useReducer)(Iae,{dataRef:(0,Ve.createRef)(),listboxState:p?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:p}),I=(0,Ve.useRef)({static:!1,hold:!1}),k=(0,Ve.useRef)(new Map),D=Eae(u),F=(0,Ve.useCallback)(pe=>Lt(T.mode,{1:()=>b.some(ve=>D(ve,pe)),0:()=>D(b,pe)}),[b]),T=(0,Ve.useMemo)(()=>({...S,value:b,disabled:d,invalid:c,mode:h?1:0,orientation:v,compare:D,isSelected:F,optionsPropsRef:I,listRef:k}),[b,d,c,h,S,k]);ut(()=>{S.dataRef.current=T},[T]);let R=T.listboxState===0;Ph(R,[T.buttonElement,T.optionsElement],(pe,ve)=>{var Ie;E({type:1}),Il(ve,Dl.Loose)||(pe.preventDefault(),(Ie=T.buttonElement)==null||Ie.focus())});let _=(0,Ve.useMemo)(()=>({open:T.listboxState===0,disabled:d,invalid:c,value:b}),[T,d,b,c]),M=le(pe=>{let ve=T.options.find(Ie=>Ie.id===pe);ve&&J(ve.dataRef.current.value)}),L=le(()=>{if(T.activeOptionIndex!==null){let{dataRef:pe,id:ve}=T.options[T.activeOptionIndex];J(pe.current.value),E({type:2,focus:ct.Specific,id:ve})}}),V=le(()=>E({type:0})),U=le(()=>E({type:1})),N=Co(),H=le((pe,ve,Ie)=>{N.dispose(),N.microTask(()=>pe===ct.Specific?E({type:2,focus:ct.Specific,id:ve,trigger:Ie}):E({type:2,focus:pe,trigger:Ie}))}),O=le((pe,ve)=>(E({type:5,id:pe,dataRef:ve}),()=>E({type:6,id:pe}))),J=le(pe=>Lt(T.mode,{0(){return x?.(pe)},1(){let ve=T.value.slice(),Ie=ve.findIndex(lr=>D(lr,pe));return Ie===-1?ve.push(pe):ve.splice(Ie,1),x?.(ve)}})),B=le(pe=>E({type:3,value:pe})),z=le(()=>E({type:4})),Y=le(pe=>{E({type:7,element:pe})}),K=le(pe=>{E({type:8,element:pe})}),te=(0,Ve.useMemo)(()=>({onChange:J,registerOption:O,goToOption:H,closeListbox:U,openListbox:V,selectActiveOption:L,selectOption:M,search:B,clearSearch:z,setButtonElement:Y,setOptionsElement:K}),[]),[se,de]=Bd({inherit:!0}),Se={ref:g},be=(0,Ve.useCallback)(()=>{if(y!==void 0)return x?.(y)},[x,y]),Ce=nt();return Ve.default.createElement(de,{value:se,props:{htmlFor:(r=T.buttonElement)==null?void 0:r.id},slot:{open:T.listboxState===0,disabled:d}},Ve.default.createElement(qh,null,Ve.default.createElement(WT.Provider,{value:te},Ve.default.createElement(wx.Provider,{value:T},Ve.default.createElement(Kh,{value:Lt(T.listboxState,{0:pn.Open,1:pn.Closed})},s!=null&&b!=null&&Ve.default.createElement(vx,{disabled:d,data:{[s]:b},form:a,onReset:be}),Ce({ourProps:Se,theirProps:m,slot:_,defaultTag:Fae,name:"Listbox"}))))))}var Mae="button";function _ae(e,t){var r;let n=yg("Listbox.Button"),i=yx("Listbox.Button"),o=(0,Er.useId)(),a=hg(),{id:s=a||`headlessui-listbox-button-${o}`,disabled:l=n.disabled||!1,autoFocus:u=!1,...c}=e,d=yt(t,$h(),i.setButtonElement),f=Kb(),h=le(T=>{switch(T.key){case De.Enter:gx(T.currentTarget);break;case De.Space:case De.ArrowDown:T.preventDefault(),(0,lc.flushSync)(()=>i.openListbox()),n.value||i.goToOption(ct.First);break;case De.ArrowUp:T.preventDefault(),(0,lc.flushSync)(()=>i.openListbox()),n.value||i.goToOption(ct.Last);break}}),p=le(T=>{switch(T.key){case De.Space:T.preventDefault();break}}),m=le(T=>{var R;if(_l(T.currentTarget))return T.preventDefault();n.listboxState===0?((0,lc.flushSync)(()=>i.closeListbox()),(R=n.buttonElement)==null||R.focus({preventScroll:!0})):(T.preventDefault(),i.openListbox())}),v=le(T=>T.preventDefault()),g=pg([s]),y=ix(),{isFocusVisible:b,focusProps:x}=za({autoFocus:u}),{isHovered:S,hoverProps:E}=As({isDisabled:l}),{pressed:I,pressProps:k}=Ts({disabled:l}),D=(0,Ve.useMemo)(()=>({open:n.listboxState===0,active:I||n.listboxState===0,disabled:l,invalid:n.invalid,value:n.value,hover:S,focus:b,autofocus:u}),[n.listboxState,n.value,l,S,b,I,n.invalid,u]),F=Ei(f(),{ref:d,id:s,type:Ds(e,n.buttonElement),"aria-haspopup":"listbox","aria-controls":(r=n.optionsElement)==null?void 0:r.id,"aria-expanded":n.listboxState===0,"aria-labelledby":g,"aria-describedby":y,disabled:l||void 0,autoFocus:u,onKeyDown:h,onKeyUp:p,onKeyPress:v,onClick:m},x,E,k);return nt()({ourProps:F,theirProps:c,slot:D,defaultTag:Mae,name:"Listbox.Button"})}var K9=(0,Ve.createContext)(!1),Oae="div",Bae=xi.RenderStrategy|xi.Static;function Nae(e,t){var r,n;let i=(0,Er.useId)(),{id:o=`headlessui-listbox-options-${i}`,anchor:a,portal:s=!1,modal:l=!0,transition:u=!1,...c}=e,d=jh(a),[f,h]=(0,Ve.useState)(null);d&&(s=!0);let p=yg("Listbox.Options"),m=yx("Listbox.Options"),v=Ua(p.optionsElement),g=Od(),[y,b]=Md(u,f,g!==null?(g&pn.Open)===pn.Open:p.listboxState===0);Nh(y,p.buttonElement,m.closeListbox);let x=p.__demoMode?!1:l&&p.listboxState===0;Lh(x,v);let S=p.__demoMode?!1:l&&p.listboxState===0;Qb(S,{allowed:(0,Ve.useCallback)(()=>[p.buttonElement,p.optionsElement],[p.buttonElement,p.optionsElement])});let E=p.listboxState!==0,I=Zb(E,p.buttonElement)?!1:y,k=y&&p.listboxState===1,D=Sae(k,p.value),F=le(z=>p.compare(D,z)),T=(0,Ve.useMemo)(()=>{var z;if(d==null||!((z=d?.to)!=null&&z.includes("selection")))return null;let Y=p.options.findIndex(K=>F(K.dataRef.current.value));return Y===-1&&(Y=0),Y},[d,p.options]),R=(()=>{if(d==null)return;if(T===null)return{...d,inner:void 0};let z=Array.from(p.listRef.current.values());return{...d,inner:{listRef:{current:z},index:T}}})(),[_,M]=Wh(R),L=Uh(),V=yt(t,d?_:null,m.setOptionsElement,h),U=Co();(0,Ve.useEffect)(()=>{var z;let Y=p.optionsElement;Y&&p.listboxState===0&&Y!==((z=In(Y))==null?void 0:z.activeElement)&&Y?.focus({preventScroll:!0})},[p.listboxState,p.optionsElement]);let N=le(z=>{var Y,K;switch(U.dispose(),z.key){case De.Space:if(p.searchQuery!=="")return z.preventDefault(),z.stopPropagation(),m.search(z.key);case De.Enter:if(z.preventDefault(),z.stopPropagation(),p.activeOptionIndex!==null){let{dataRef:te}=p.options[p.activeOptionIndex];m.onChange(te.current.value)}p.mode===0&&((0,lc.flushSync)(()=>m.closeListbox()),(Y=p.buttonElement)==null||Y.focus({preventScroll:!0}));break;case Lt(p.orientation,{vertical:De.ArrowDown,horizontal:De.ArrowRight}):return z.preventDefault(),z.stopPropagation(),m.goToOption(ct.Next);case Lt(p.orientation,{vertical:De.ArrowUp,horizontal:De.ArrowLeft}):return z.preventDefault(),z.stopPropagation(),m.goToOption(ct.Previous);case De.Home:case De.PageUp:return z.preventDefault(),z.stopPropagation(),m.goToOption(ct.First);case De.End:case De.PageDown:return z.preventDefault(),z.stopPropagation(),m.goToOption(ct.Last);case De.Escape:z.preventDefault(),z.stopPropagation(),(0,lc.flushSync)(()=>m.closeListbox()),(K=p.buttonElement)==null||K.focus({preventScroll:!0});return;case De.Tab:z.preventDefault(),z.stopPropagation(),(0,lc.flushSync)(()=>m.closeListbox()),mb(p.buttonElement,z.shiftKey?Ut.Previous:Ut.Next);break;default:z.key.length===1&&(m.search(z.key),U.setTimeout(()=>m.clearSearch(),350));break}}),H=(r=p.buttonElement)==null?void 0:r.id,O=(0,Ve.useMemo)(()=>({open:p.listboxState===0}),[p.listboxState]),J=Ei(d?L():{},{id:o,ref:V,"aria-activedescendant":p.activeOptionIndex===null||(n=p.options[p.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":p.mode===1?!0:void 0,"aria-labelledby":H,"aria-orientation":p.orientation,onKeyDown:N,role:"listbox",tabIndex:p.listboxState===0?0:void 0,style:{...c.style,...M,"--button-width":Bh(p.buttonElement,!0).width},...Rd(b)}),B=nt();return Ve.default.createElement(Yh,{enabled:s?e.static||y:!1},Ve.default.createElement(wx.Provider,{value:p.mode===1?p:{...p,isSelected:F}},B({ourProps:J,theirProps:c,slot:O,defaultTag:Oae,features:Bae,visible:I,name:"Listbox.Options"})))}var Pae="div";function Lae(e,t){let r=(0,Er.useId)(),{id:n=`headlessui-listbox-option-${r}`,disabled:i=!1,value:o,...a}=e,s=(0,Ve.useContext)(K9)===!0,l=yg("Listbox.Option"),u=yx("Listbox.Option"),c=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===n:!1,d=l.isSelected(o),f=(0,Ve.useRef)(null),h=ex(f),p=Fn({disabled:i,value:o,domRef:f,get textValue(){return h()}}),m=yt(t,f,D=>{D?l.listRef.current.set(n,D):l.listRef.current.delete(n)});ut(()=>{if(!l.__demoMode&&l.listboxState===0&&c&&l.activationTrigger!==0)return Xn().requestAnimationFrame(()=>{var D,F;(F=(D=f.current)==null?void 0:D.scrollIntoView)==null||F.call(D,{block:"nearest"})})},[f,c,l.__demoMode,l.listboxState,l.activationTrigger,l.activeOptionIndex]),ut(()=>{if(!s)return u.registerOption(n,p)},[p,n,s]);let v=le(D=>{var F;if(i)return D.preventDefault();u.onChange(o),l.mode===0&&((0,lc.flushSync)(()=>u.closeListbox()),(F=l.buttonElement)==null||F.focus({preventScroll:!0}))}),g=le(()=>{if(i)return u.goToOption(ct.Nothing);u.goToOption(ct.Specific,n)}),y=Xb(),b=le(D=>{y.update(D),!i&&(c||u.goToOption(ct.Specific,n,0))}),x=le(D=>{y.wasMoved(D)&&(i||c||u.goToOption(ct.Specific,n,0))}),S=le(D=>{y.wasMoved(D)&&(i||c&&u.goToOption(ct.Nothing))}),E=(0,Ve.useMemo)(()=>({active:c,focus:c,selected:d,disabled:i,selectedOption:d&&s}),[c,d,i,s]),I=s?{}:{id:n,ref:m,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:v,onFocus:g,onPointerEnter:b,onMouseEnter:b,onPointerMove:x,onMouseMove:x,onPointerLeave:S,onMouseLeave:S},k=nt();return!d&&s?null:k({ourProps:I,theirProps:a,slot:E,defaultTag:Pae,name:"Listbox.Option"})}var zae=Ve.Fragment;function Vae(e,t){let{options:r,placeholder:n,...i}=e,o={ref:yt(t)},a=yg("ListboxSelectedOption"),s=(0,Ve.useMemo)(()=>({}),[]),l=a.value===void 0||a.value===null||a.mode===1&&Array.isArray(a.value)&&a.value.length===0,u=nt();return Ve.default.createElement(K9.Provider,{value:!0},u({ourProps:o,theirProps:{...i,children:Ve.default.createElement(Ve.default.Fragment,null,n&&l?n:r)},slot:s,defaultTag:zae,name:"ListboxSelectedOption"}))}var Hae=it(Rae),jae=it(_ae),$ae=lx,Uae=it(Nae),Wae=it(Lae),qae=it(Vae),Bs=Object.assign(Hae,{Button:jae,Label:$ae,Options:Uae,Option:Wae,SelectedOption:qae});w();var qT=A(P(),1);function Y9(e){return(0,qT.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,qT.jsx)("path",{fill:"currentColor",d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 0 1 5.08 16zm2.95-8H5.08a7.987 7.987 0 0 1 4.33-3.56A15.65 15.65 0 0 0 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"})})}var Do=A(P(),1),Kae={langswitch:"alinea-LangSwitch-langswitch","is-inline":"alinea-LangSwitch-is-inline",isInline:"alinea-LangSwitch-is-inline","langswitch-input":"alinea-LangSwitch-langswitch-input",langswitchInput:"alinea-LangSwitch-langswitch-input","langswitch-input-label":"alinea-LangSwitch-langswitch-input-label",langswitchInputLabel:"alinea-LangSwitch-langswitch-input-label","is-placeholder":"alinea-LangSwitch-is-placeholder",isPlaceholder:"alinea-LangSwitch-is-placeholder","langswitch-input-icon":"alinea-LangSwitch-langswitch-input-icon",langswitchInputIcon:"alinea-LangSwitch-langswitch-input-icon","is-lang":"alinea-LangSwitch-is-lang",isLang:"alinea-LangSwitch-is-lang","langswitch-dropdown":"alinea-LangSwitch-langswitch-dropdown",langswitchDropdown:"alinea-LangSwitch-langswitch-dropdown","langswitch-dropdown-inner":"alinea-LangSwitch-langswitch-dropdown-inner",langswitchDropdownInner:"alinea-LangSwitch-langswitch-dropdown-inner","langswitch-dropdown-option":"alinea-LangSwitch-langswitch-dropdown-option",langswitchDropdownOption:"alinea-LangSwitch-langswitch-dropdown-option","is-active":"alinea-LangSwitch-is-active",isActive:"alinea-LangSwitch-is-active","is-selected":"alinea-LangSwitch-is-selected",isSelected:"alinea-LangSwitch-is-selected","langswitch-dropdown-option-icon":"alinea-LangSwitch-langswitch-dropdown-option-icon",langswitchDropdownOptionIcon:"alinea-LangSwitch-langswitch-dropdown-option-icon"},uc=j(Kae);function ep({selected:e,locales:t,onChange:r,inline:n}){return(0,Do.jsx)("div",{className:uc.langswitch({inline:n}),children:(0,Do.jsx)(Bs,{value:e,onChange:i=>{i&&r(i)},children:(0,Do.jsxs)("div",{children:[(0,Do.jsxs)(Bs.Button,{className:uc.langswitch.input({active:t.length>0}),children:[(0,Do.jsx)(ee,{icon:Y9,className:uc.langswitch.input.icon({lang:!0})}),(0,Do.jsx)("span",{className:uc.langswitch.input.label(),children:e}),t.length>0&&(0,Do.jsx)(ee,{icon:ti,className:uc.langswitch.input.icon()})]}),t.length>0&&(0,Do.jsx)(Bs.Options,{className:uc.langswitch.dropdown(),children:(0,Do.jsx)("div",{className:uc.langswitch.dropdown.inner(),children:t.map(i=>(0,Do.jsx)(Bs.Option,{value:i,children:({active:o,selected:a})=>(0,Do.jsx)(q,{center:!0,gap:4,className:uc.langswitch.dropdown.option({active:o,selected:a}),children:i.toUpperCase()})},i))})})]})})})}var St=A(P(),1),Yae=function(e,t,r){function n(){a.current&&clearTimeout(a.current),a.current=void 0}function i(){a.current=void 0}t===void 0&&(t=100),r===void 0&&(r=0);var o=bb(e),a=(0,cc.useRef)(),s=[t,r,o];return(0,cc.useEffect)(()=>n,s),(0,cc.useCallback)(function(){var l=arguments,{current:u}=a;if(u===void 0&&r)return a.current=setTimeout(i,t),o.current.apply(null,l);u&&clearTimeout(u),a.current=setTimeout(()=>{a.current=void 0,o.current.apply(null,l)},t)},s)},Gae=(e,t,r)=>{var n=(0,cc.useState)(e);return[n[0],Yae(n[1],t,r)]};function KT(e,t,r,n){var i=(0,tp.useRef)(r),o=(0,tp.useRef)(n);(0,tp.useEffect)(()=>{i.current=r,o.current=n}),(0,tp.useEffect)(()=>{function a(){if(!l){for(var c=arguments.length,d=new Array(c),f=0;c>f;f++)d[f]=arguments[f];i.current.apply(this,d)}}var s=e&&"current"in e?e.current:e;if(s){var l=0;s.addEventListener(t,a);var u=o.current;return()=>{l=1,s.removeEventListener(t,a),u&&u()}}},[e,t])}var Jae={},wg=typeof window>"u"?null:window,Qae=wg&&wg.visualViewport!==void 0?wg.visualViewport:null,G9=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],Xae=function(e){e===void 0&&(e=Jae);var{wait:t,leading:r,initialWidth:n=0,initialHeight:i=0}=e,[o,a]=Gae(typeof document>"u"?[n,i]:G9,t,r),s=()=>a(G9);return KT(wg,"resize",s),KT(Qae,"resize",s),KT(wg,"orientationchange",s),o},Zae=e=>Xae(e)[0],ese={root:"alinea-Sidebar",collapse:"alinea-Sidebar-collapse","is-left":"alinea-Sidebar-is-left",isLeft:"alinea-Sidebar-is-left","is-right":"alinea-Sidebar-is-right",isRight:"alinea-Sidebar-is-right","is-open":"alinea-Sidebar-is-open",isOpen:"alinea-Sidebar-is-open","collapse-inner":"alinea-Sidebar-collapse-inner",collapseInner:"alinea-Sidebar-collapse-inner","collapse-overlay":"alinea-Sidebar-collapse-overlay",collapseOverlay:"alinea-Sidebar-collapse-overlay","nav-inner":"alinea-Sidebar-nav-inner",navInner:"alinea-Sidebar-nav-inner","nav-container":"alinea-Sidebar-nav-container",navContainer:"alinea-Sidebar-nav-container","nav-menu":"alinea-Sidebar-nav-menu",navMenu:"alinea-Sidebar-nav-menu","nav-menu-item":"alinea-Sidebar-nav-menu-item",navMenuItem:"alinea-Sidebar-nav-menu-item","nav-menu-item-bg":"alinea-Sidebar-nav-menu-item-bg",navMenuItemBg:"alinea-Sidebar-nav-menu-item-bg","is-selected":"alinea-Sidebar-is-selected",isSelected:"alinea-Sidebar-is-selected","nav-portal":"alinea-Sidebar-nav-portal",navPortal:"alinea-Sidebar-nav-portal",navHeader:"alinea-Sidebar-navHeader","navHeader-workspace":"alinea-Sidebar-navHeader-workspace",navHeaderWorkspace:"alinea-Sidebar-navHeader-workspace"},Io=j(ese),Fo;(e=>{let t=Hu(),r=(0,rp.createContext)(void 0);function n(){let[d,f]=(0,rp.useContext)(r);return{isNavOpen:d.nav,isPreviewOpen:d.preview,toggleNav:()=>f("nav"),togglePreview:()=>f("preview")}}e.use=n;function i(d,f){return typeof f=="string"?{...d,[f]:!d[f]}:{...d,...f}}function o(d,f){let h={nav:!1,preview:!1};return typeof f=="string"?{...h,[f]:!d[f]}:{...h,...f}}function a({children:d}){let f=Zae(),h=f>=1024,p=f<768,[m,v]=(0,rp.useReducer)(h?i:o,{nav:!0,preview:h}),{name:g}=bi();return Qh(()=>{p&&v({nav:!0})},[p,g]),(0,St.jsx)(t.Provider,{children:(0,St.jsx)(r.Provider,{value:[m,v],children:d})})}e.Provider=a;function s({children:d,...f}){return(0,St.jsx)(t.Slot,{children:d})}e.Tree=s;function l({children:d}){let{isPreviewOpen:f,togglePreview:h}=n();return(0,St.jsxs)("div",{className:Io.collapse("right",{open:f}),children:[(0,St.jsx)("div",{className:Io.collapse.overlay(),onClick:h}),f&&(0,St.jsx)(VT,{id:"preview",resizable:"left",className:Io.collapse.inner(),children:d})]})}e.Preview=l;function u(){let d=Fr(),f=dr(),h=bi(),p=Qn(),m=ue(f.workspaces),v=en(),g=Bt(),y=Xh(),b={root:p.name,workspace:h.name,...y};return(0,St.jsxs)(q,{as:"header",center:!0,gap:12,className:Io.navHeader(),children:[m.length>1?(0,St.jsxs)(fe.Root,{bottom:!0,children:[(0,St.jsx)(fe.Trigger,{children:(0,St.jsxs)(q,{center:!0,gap:4,children:[(0,St.jsx)(hx,{label:h.label,color:h.color,icon:h.icon}),(0,St.jsx)(ee,{icon:ti})]})}),(0,St.jsx)(fe.Items,{children:m.map(([x,S])=>{let{roots:E,label:I,color:k,icon:D}=$t.data(S),[F,T]=ue(E)[0];return(0,St.jsx)(fe.Item,{onClick:()=>v(g.entry({workspace:x,root:F,locale:xr.defaultLocale(T)})),children:(0,St.jsx)(hx,{label:I,color:k,icon:D})},x)})})]}):(0,St.jsx)("a",{...bo(g.root({workspace:h.name})),className:Io.navHeader.workspace(),children:(0,St.jsx)(hx,{label:h.label,color:h.color,icon:h.icon})}),(0,St.jsx)(Tn.Right,{children:p.i18n&&(0,St.jsx)(ep,{selected:d,locales:p.i18n.locales,onChange:x=>{v(g.entry({...b,locale:x}))}})})]})}function c({children:d}){let{isNavOpen:f,toggleNav:h}=n();return(0,St.jsxs)("div",{className:Io.collapse("left",{open:f}),children:[(0,St.jsx)("div",{className:Io.collapse.overlay(),onClick:h}),(0,St.jsx)(VT,{id:"content-tree",resizable:"right",defaultWidth:360,minWidth:200,children:(0,St.jsxs)("div",{className:Io.nav.inner(),children:[(0,St.jsx)(u,{}),(0,St.jsxs)("div",{className:Io.nav.container(),children:[(0,St.jsx)("nav",{className:Io.nav.menu(),children:d}),(0,St.jsx)(t.Portal,{className:Io.nav.portal()})]})]})})]})}e.Nav=c,(d=>{function f({children:h,selected:p,badge:m,...v}){return(0,St.jsx)("a",{...v,...bo(v.href),className:Io.nav.menu.item.mergeProps(v)({selected:p}),children:(0,St.jsx)("div",{className:Io.nav.menu.item.bg(),children:(0,St.jsx)(wP,{amount:m,right:-4,bottom:-3,children:h})})})}d.Item=f})(c=e.Nav||(e.Nav={}))})(Fo||(Fo={}));var np=Fo.use;var YT=A(P(),1),tse={root:"alinea-Preview"},rse=j(tse);function J9({children:e}){return(0,YT.jsx)(Fo.Preview,{children:(0,YT.jsx)("div",{className:rse.root(),children:e})})}w();w();function GT(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!GT(e[r],t[r]))return!1;return!0}if(typeof e=="object"&&typeof t=="object"){let r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let n of r)if(!GT(e[n],t[n]))return!1;return!0}return!1}function nse(e,t,r){let n=e.length,i=t.length,o=Array.from(Array(n+1),()=>Array(i+1));for(let a=0;a<=n;a++)for(let s=0;s<=i;s++)a===0||s===0?o[a][s]=0:r(e[a-1],t[s-1])?o[a][s]=1+o[a-1][s-1]:o[a][s]=Math.max(o[a-1][s],o[a][s-1]);return o}function bx(e,t,r){let n=nse(e,t,r),i=[],o=e.length,a=t.length;for(;o!==0||a!==0;)o===0?(i.push({type:"addition",value:t[a-1]}),a-=1):a===0?(i.push({type:"removal",value:e[o-1]}),o-=1):r(e[o-1],t[a-1])?(i.push({type:"keep",old:e[o-1],value:t[a-1]}),o-=1,a-=1):n[o-1][a]<=n[o][a-1]?(i.push({type:"addition",value:t[a-1]}),a-=1):(i.push({type:"removal",value:e[o-1]}),o-=1);return i.reverse()}function dc(e,t,r){return Object.entries(e.shapes).filter(([i,o])=>o instanceof Xt?t?.[i]!==r?.[i]:!GT(t?.[i],r?.[i]))}w();w();w();w();var X9="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Z9="A00000000000000000000000000",ise="a0";function ip(e,t,r){if(t!==null&&e>=t)throw new Error(`${e} >= ${t}`);if(e.slice(-1)==="0"||t&&t.slice(-1)==="0")throw new Error("trailing zero");if(t){let o=0;for(;(e[o]||"0")===t[o];)o++;if(o>0)return t.slice(0,o)+ip(e.slice(o),t.slice(o),r)}let n=e?r.indexOf(e[0]):0,i=t!==null?r.indexOf(t[0]):r.length;if(i-n>1){let o=Math.round(.5*(n+i));return r[o]}return t&&t.length>1?t.slice(0,1):r[n]+ip(e.slice(1),null,r)}function eL(e){if(e.length!==tL(e[0]))throw new Error(`invalid integer part of order key: ${e}`)}function tL(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-97+2;if(e>="A"&&e<="Z")return 90-e.charCodeAt(0)+2;throw new Error(`invalid order key head: ${e}`)}function bg(e){let t=tL(e[0]);if(t>e.length)throw new Error(`invalid order key: ${e}`);return e.slice(0,t)}function JT(e){if(e===Z9)throw new Error(`invalid order key: ${e}`);let t=bg(e);if(e.slice(t.length).slice(-1)==="0")throw new Error(`invalid order key: ${e}`)}function rL(e){try{return JT(e),!0}catch{return!1}}function Q9(e,t){eL(e);let[r,...n]=e.split(""),i=!0;for(let o=n.length-1;i&&o>=0;o--){let a=t.indexOf(n[o])+1;a===t.length?n[o]="0":(n[o]=t[a],i=!1)}if(i){if(r==="Z")return"a0";if(r==="z")return null;let o=String.fromCharCode(r.charCodeAt(0)+1);return o>"a"?n.push("0"):n.pop(),o+n.join("")}return r+n.join("")}function ose(e,t){eL(e);let[r,...n]=e.split(""),i=!0;for(let o=n.length-1;i&&o>=0;o--){let a=t.indexOf(n[o])-1;a===-1?n[o]=t.slice(-1):(n[o]=t[a],i=!1)}if(i){if(r==="a")return`Z${t.slice(-1)}`;if(r==="A")return null;let o=String.fromCharCode(r.charCodeAt(0)-1);return o<"Z"?n.push(t.slice(-1)):n.pop(),o+n.join("")}return r+n.join("")}function Ro(e,t,r=X9){if(e!==null&&JT(e),t!==null&&JT(t),e!==null&&t!==null&&e>=t)throw new Error(`${e} >= ${t}`);if(e===null){if(t===null)return ise;let l=bg(t),u=t.slice(l.length);if(l===Z9)return l+ip("",u,r);if(l<t)return l;let c=ose(l,r);if(c===null)throw new Error("cannot decrement any more");return c}if(t===null){let l=bg(e),u=e.slice(l.length),c=Q9(l,r);return c===null?l+ip(u,null,r):c}let n=bg(e),i=e.slice(n.length),o=bg(t),a=t.slice(o.length);if(n===o)return n+ip(i,a,r);let s=Q9(n,r);if(s===null)throw new Error("cannot increment any more");return s<t?s:n+ip(i,null,r)}function op(e,t,r,n=X9){if(r===0)return[];if(r===1)return[Ro(e,t,n)];if(t===null){let a=Ro(e,t,n),s=[a];for(let l=0;l<r-1;l++)a=Ro(a,t,n),s.push(a);return s}if(e===null){let a=Ro(e,t,n),s=[a];for(let l=0;l<r-1;l++)a=Ro(e,a,n),s.push(a);return s.reverse(),s}let i=Math.floor(r/2),o=Ro(e,t,n);return[...op(e,o,i,n),o,...op(o,t,r-i-1,n)]}var ye;(e=>{e.id="_id",e.index="_index",e.type="_type"})(ye||(ye={}));function ase(e,t){return e[ye.index]<t[ye.index]?-1:e[ye.index]>t[ye.index]?1:0}var xx=class{constructor(e,t,r,n){this.label=e,this.initialValue=r,this.postProcess=n,this.shapes=Object.fromEntries(Object.entries(t).map(([i,o])=>[i,new Gi(e,{[ye.id]:new Xt("Id"),[ye.index]:new Xt("Index"),[ye.type]:new Xt("Type"),...o.shapes})]))}shapes;create(){return this.initialValue??[]}toV1(e){return Array.isArray(e)?e.map(this.normalizeRow).filter(Boolean):[]}normalizeRow=e=>{if(ye.type in e)return e;let{id:t,type:r,index:n,...i}=e;if(!t||!r)return;let a=this.shapes[r].toV1(i);return{[ye.type]:r,[ye.id]:t,[ye.index]:n,...a}};toY(e){let t=new Ra,r=Array.isArray(e)?e:[],n=null;for(let i of r){let o=this.shapes[i[ye.type]];o&&(n=Ro(n,null),t.set(i[ye.id],o.toY({...i,[ye.index]:n})))}return t}fromY(e){let t=[];if(!e||typeof e.keys!="function")return t;for(let r of e.keys()){let n=e.get(r);if(!n||typeof n.get!="function")continue;let i=n.get(ye.type),o=this.shapes[i];o&&t.push(o.fromY(n))}return t.sort(ase),t}applyY(e,t,r){if(!Array.isArray(e))return;let n=t.get(r);if(!n)return void t.set(r,this.toY(e));let i=new Set(n.keys()),o=new Set(e.map(u=>u[ye.id])),a=[...i].filter(u=>!o.has(u)),s=[...o].filter(u=>!i.has(u)),l=[...o].filter(u=>i.has(u));for(let u of a)n.delete(u);for(let u of s){let c=e.find(h=>h[ye.id]===u);if(!c)continue;let d=c[ye.type],f=this.shapes[d];f&&n.set(u,f.toY(c))}for(let u of l){let c=e.find(m=>m[ye.id]===u);if(!c)continue;let d=c[ye.type],f=n.get(u);if(!f)continue;if(f.get(ye.type)!==d){n.delete(u),n.set(u,this.shapes[d].toY(c));continue}let p=this.shapes[d];p&&p.applyY(c,n,u)}}init(e,t){e.has(t)||e.set(t,this.toY(this.create()))}watch(e,t){let r=e.get(t);return n=>{function i(o,a){for(let s of o)s.target===r&&n(),s instanceof iA&&s.keysChanged.has(ye.index)&&n()}return r.observeDeep(i),()=>{r.unobserveDeep(i)}}}mutator(e,t){let r={replace:(n,i)=>{let o=e.get(t),s=this.fromY(o).findIndex(l=>l[ye.id]===n);r.remove(n),r.push(i,s)},push:(n,i)=>{let o=n[ye.type],a=this.shapes[o],s=e.get(t),l=this.fromY(s),u=_t(),c=i===void 0?l.length-1:i-1,d=c+1,f=l[c]?.[ye.index]||null,h=l[d]?.[ye.index]||null,p=a.toY({...a.create(),...n,[ye.id]:u,[ye.index]:Ro(f,h)});s.set(u,p)},remove(n){e.get(t).delete(n)},move:(n,i)=>{let o=e.get(t),a=this.fromY(o),s=a[n],l=a.filter(m=>m[ye.id]!==s[ye.id]),u=l[i-1],c=l[i],d=u?.[ye.index]||null,f=c?.[ye.index]||null,h=Ro(d,f);o.get(s[ye.id]).set(ye.index,h)},read:n=>{let i=e.get(t);return this.fromY(i).find(a=>a._id===n)}};return r}async applyLinks(e,t){let r=[];if(Array.isArray(e)){for(let n of e){let i=n[ye.type],o=this.shapes[i];o&&r.push(o.applyLinks(n,t))}await Promise.all(r),this.postProcess&&await this.postProcess(e,t)}}searchableText(e){let t="",r=Array.isArray(e)?e:[];for(let n of r){let i=n[ye.id],o=n[ye.type],a=this.shapes[o];!i||!o||!a||(t+=a.searchableText(n))}return t}};w();function nL(e){if(e instanceof oA)return[];if(e instanceof wi)return e.toDelta().map(o=>{let a={[Re.type]:"text",[Ta.text]:o.insert};return o.attributes&&(a.marks=Object.keys(o.attributes).map(s=>{let l=o.attributes[s],u={[ms.type]:s};if(l)for(let[c,d]of Object.entries(l))typeof d=="string"&&(c.startsWith("data-")?u[`_${c.slice(5)}`]=d:u[c]=d);return u})),a});let t={[Re.type]:e.nodeName};if(typeof e.getAttributes!="function")return t;let r=e.getAttributes();r&&Object.keys(r).length&&Object.assign(t,r);let n=e.toArray();return n.length&&(t.content=n.flatMap(nL)),t}function QT(e){return Object.fromEntries(e.map(t=>{let{[ms.type]:r,...n}=t,i=Object.fromEntries(Object.entries(n).map(([o,a])=>o.startsWith("_")?[`data-${o.slice(1)}`,a]:[o,a]));return[r,i]}))}function iL(e){let t=[];for(let r of e)if(Re.isText(r)){let n=r[Ta.text],i=r[Ta.marks],o=new wi;n&&o.insert(0,n,i&&QT(i)),t.push(o)}else if(Re.isElement(r)){let{[Re.type]:n,[Fu.content]:i,...o}=r,a=new yi(n);for(let s in o){let l=o[s];l&&a.setAttribute(s,l)}i&&a.insert(0,iL(i)),t.push(a)}else if(Re.isBlock(r)){let n=new yi(r[Re.type]);n.setAttribute(Qt.id,r[Qt.id]),t.push(n)}return t}var sse={url:G.url,location:Ot.location},Ex=class{constructor(e,t,r,n){this.label=e,this.shapes=t,this.initialValue=r,this.searchable=n,this.blocks=t?Dt(ue(t).map(([i,o])=>[i,new Gi(o.label,{[Re.type]:new Xt("Type"),[Qt.id]:new Xt("Id"),...o.shapes})])):{}}blocks;create(){return this.initialValue??[]}toXml(e){return iL(e)}toV1(e){return Array.isArray(e)?e.map(this.normalizeRow):[]}normalizeRow=e=>{if(Re.type in e)return e;let{type:t,...r}=e;if(t==="text"){let s={[Re.type]:"text",[Ta.text]:r.text};return r.marks?{...s,[Ta.marks]:r.marks.map(l=>{let{type:u,attrs:c}=l;if(u!=="link")return{[ms.type]:u,...c};let{"data-id":d,"data-entry":f,"data-type":h,...p}=c,m={};u&&(m[ms.type]=u),d&&(m[Iu.id]=d),f&&(m[Iu.entry]=f),h&&(m[Iu.link]=h);for(let[v,g]of ue(p))typeof g=="string"&&(m[v]=p[v]);return m})}:s}let n=this.blocks[t];if(n)return{[Re.type]:t,[Qt.id]:r.id,...n.toV1(r)};let{content:i,...o}=r;t==="heading"&&o.textAlign==="left"&&(o.textAlign=void 0);let a={[Re.type]:t,...o};return i&&(a[Fu.content]=i.map(this.normalizeRow)),a};toY(e){let t=new Ra,r=new dh;t.set("$text",r);let n=this.blocks;if(!Array.isArray(e))return t;for(let i of e){if(!Re.isBlock(i))continue;let o=n[i[Re.type]];t.set(i[Qt.id],o.toY(i))}return r.insert(0,this.toXml(e)),t}fromY(e){if(!e)return[];let t=e.get("$text"),r=this.blocks??{},n=t?.toArray()?.flatMap(nL)||[],[i]=n;return n.length===1&&Re.isElement(i)&&i[Re.type]==="paragraph"&&i[Fu.content]?.length===0?[]:n.map(a=>{if(Re.isBlock(a)){let s=r[a[Re.type]];if(s)return{[Re.type]:a[Re.type],[Qt.id]:a[Qt.id],...s.fromY(e.get(a[Qt.id]))}}return Re.isElement(a)&&a[Re.type]==="heading"&&a.textAlign==="left"&&(a.textAlign=void 0),a})}applyY(e,t,r){let n=t.get(r);if(!n||!e)return void t.set(r,this.toY(e));let i=e.filter(Re.isBlock),o=new Set([...n.keys()].filter(p=>p!=="$text")),a=new Set(i.map(p=>p[Qt.id])),s=[...o].filter(p=>!a.has(p)),l=[...a].filter(p=>!o.has(p)),u=[...a].filter(p=>o.has(p));for(let p of s)n.delete(p);for(let p of l){let m=i.find(y=>y[Qt.id]===p);if(!m)continue;let v=m[Re.type],g=this.blocks[v];g&&n.set(p,g.toY(m))}for(let p of u){let m=i.find(x=>x[Qt.id]===p);if(!m)continue;let v=m[Re.type],g=n.get(p);if(!g)continue;if(g.get(Re.type)!==v){n.delete(p),n.set(p,this.blocks[v].toY(m));continue}let b=this.blocks[v];b&&b.applyY(m,n,p)}function c(p,m){let{text:v="",marks:g=[]}=m,y=zu.prototype.toString.call(p);v===y?p.format(0,p.length,QT(g)):(p.delete(0,p.length),p.insert(0,v,QT(g)))}let d=(p,m)=>{let{[Re.type]:v,content:g,...y}=m,b=Rt(y);for(let x of Rt(y))p.setAttribute(x,y[x]);for(let x of Rt(p.getAttributes()))b.includes(x)||p.removeAttribute(x);h(p,g??[])},f=(p,m)=>{p.setAttribute(Qt.id,m[Qt.id])},h=(p,m)=>{let v=0;for(;v<m.length;v++){let g=m[v],y=p.get(v);if(!y){p.insert(v,this.toXml([g]));continue}let b=y instanceof wi?"text":y.nodeName,x=g[Re.type];if(b!==x){p.delete(v),p.insert(v,this.toXml([g]));continue}Re.isText(g)?c(y,g):Re.isElement(g)?d(y,g):Re.isBlock(g)&&f(y,g)}for(;p.length>v;)p.delete(v)};h(n.get("$text"),e)}init(e,t){e.has(t)||e.set(t,this.toY(this.create()))}watch(e,t){let r=e.get(t);return n=>{let i=(o,a)=>{a.origin!=="self"&&n()};return r.observeDeep(i),()=>r.unobserveDeep(i)}}mutator(e,t){let r=e.get(t);return{map:r,fragment:r.get("$text"),insert:(n,i)=>{if(!this.blocks)throw new Error("No types defined");let o=this.blocks[i];r.set(n,o.toY({...o.create(),[Re.type]:i,[Qt.id]:n}))}}}async applyLinks(e,t){if(!Array.isArray(e))return;let r=new Map;oL(e,i=>{if(i[ms.type]!=="link")return;let o=i[Iu.entry];typeof o=="string"&&r.set(i,o)});async function n(){let i=Array.from(new Set(r.values())),o=await t.resolveLinks(sse,i),a=new Map(i.map((s,l)=>[s,o[l]]));for(let[s,l]of r){let u=s[Iu.link],c=a.get(l);c&&(s.href=u==="file"?c.location:c.url)}}await Promise.all([n()].concat(e.flatMap(i=>{if(!this.blocks||!Re.isBlock(i))return[];let o=this.blocks[i[Re.type]];return o?[o.applyLinks(i,t)]:[]})))}searchableText(e){let t="";return!this.searchable||!Array.isArray(e)?t:e.reduce((r,n)=>r+this.textOf(n),"")}textOf(e){if(Re.isText(e))return e.text?` ${e.text}`:"";if(Re.isElement(e)&&e.content)return e.content.reduce((t,r)=>t+this.textOf(r),"");if(Re.isBlock(e)){let t=this.blocks[e[Re.type]];if(t)return t.searchableText(e)}return""}};function oL(e,t){for(let r of e)Re.isText(r)?r.marks?.forEach(t):Re.isElement(r)&&r.content&&oL(r.content,t)}w();var _n;(e=>{e.id="_id",e.type="_type"})(_n||(_n={}));var Sx=class{constructor(e,t,r,n){this.label=e,this.initialValue=r,this.postProcess=n,this.shapes=Dt(ue(t).map(([i,o])=>[i,new Gi(e,{[_n.id]:new Xt("Id"),[_n.type]:new Xt("Type"),...o.shapes})]))}shapes;create(){return this.initialValue??{}}toY(e){Array.isArray(e)?e=e[0]??{}:e=e??{};let t=e[_n.type],r=this.shapes[t],n=e||{},i=new Ra;if(i.set(_n.type,t),i.set(_n.id,e[_n.id]||_t()),!r)return i;for(let[o,a]of ue(r.shapes))i.set(o,a.toY(n[o]));return i}fromY(e){if(!e||typeof e.get!="function")return{};let t=e.get(_n.type),r=this.shapes[t];return r?r.fromY(e):{}}applyY(e,t,r){let n=t.get(r);if(!n||!e)return void t.set(r,this.toY(e));let i=n.get(_n.type);if(i!==e[_n.type])return void t.set(r,this.toY(e));let o=this.shapes[i];o&&o.applyY(e,t,r)}init(e,t){e.has(t)||e.set(t,this.toY(this.create()))}watch(e,t){return r=>{let n=(i,o)=>{if(o.origin==="self")return;let a=e.get(t);for(let s of i)if(s.target===e&&s.keys.has(t)||s.target===a)return r()};return e.observeDeep(n),()=>e.unobserveDeep(n)}}mutator(e,t){return{replace:r=>{if(!r)return e.set(t,null);let n=r[_n.type],i=this.shapes[n];if(!i)throw new Error(`Could not find type "${n}"`);i.applyY(r,e,t)}}}async applyLinks(e,t){if(!e)return;let r=e[_n.type];if(!r)return;let n=this.shapes[r];if(!n)return;let i=[];n&&i.push(n.applyLinks(e,t)),await Promise.all(i),this.postProcess&&await this.postProcess(e,t)}toV1(e){if(Array.isArray(e)&&(e=e[0]??{}),!e)return{};if(_n.type in e)return e;let{id:t,type:r,...n}=e;if(!t||!r)return{};let i=this.shapes[r];return i?{[_n.type]:r,[_n.id]:t,...i.toV1(n)}:{}}searchableText(e){let t="";Array.isArray(e)?e=e[0]??{}:e=e??{};let r=e[_n.type],n=this.shapes[r],i=e||{};if(!n)return"";for(let[o,a]of ue(n.shapes))t+=a.searchableText(i[o]);return t}};w();w();w();var XT=A(P(),1);function aL(e){return(0,XT.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,XT.jsx)("path",{fill:"currentColor",d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z"})})}var xg=A(P(),1),lse={root:"alinea-ChangeBox","root-content":"alinea-ChangeBox-content",rootContent:"alinea-ChangeBox-content","is-equal":"alinea-ChangeBox-is-equal",isEqual:"alinea-ChangeBox-is-equal","is-addition":"alinea-ChangeBox-is-addition",isAddition:"alinea-ChangeBox-is-addition","is-removal":"alinea-ChangeBox-is-removal",isRemoval:"alinea-ChangeBox-is-removal","root-header":"alinea-ChangeBox-header",rootHeader:"alinea-ChangeBox-header"},sL=j(lse);function fc({change:e,children:t}){return(0,xg.jsx)(q,{gap:8,className:sL.root(e),children:e!=="equal"?(0,xg.jsx)("div",{className:sL.root.content(),children:t}):(0,xg.jsx)(q,{center:!0,justify:"center",full:!0,children:(0,xg.jsx)(ee,{icon:aL})})})}var Eg=A(P(),1);function lL({FieldsDiff:e,shape:t,valueA:r,valueB:n}){let o=bx(r||[],n||[],(a,s)=>a._id===s._id);return(0,Eg.jsx)(vt.Root,{children:o.map((a,s)=>{let l=a.value,u=t.shapes[l[ye.type]],c=a.type==="keep"?[a.old,a.value]:a.type==="removal"?[a.value,{}]:[{},a.value],d=dc(u,c[0],c[1]);return d.length===0?(0,Eg.jsx)(fc,{change:"equal"},s):(0,Eg.jsx)(fc,{change:a.type,children:(0,Eg.jsx)(e,{changes:d,targetA:c[0],targetB:c[1]})},s)})})}w();var pL=A($(),1);w();Vc();var fL=A($(),1),Sg=A(P(),1),use=Sn({"node_modules/diff-match-patch/index.js"(e,t){var r=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,i=1,o=0;r.Diff=function(a,s){return[a,s]},r.prototype.diff_main=function(a,s,l,u){typeof u>"u"&&(this.Diff_Timeout<=0?u=Number.MAX_VALUE:u=new Date().getTime()+this.Diff_Timeout*1e3);var c=u;if(a==null||s==null)throw new Error("Null input. (diff_main)");if(a==s)return a?[new r.Diff(o,a)]:[];typeof l>"u"&&(l=!0);var d=l,f=this.diff_commonPrefix(a,s),h=a.substring(0,f);a=a.substring(f),s=s.substring(f),f=this.diff_commonSuffix(a,s);var p=a.substring(a.length-f);a=a.substring(0,a.length-f),s=s.substring(0,s.length-f);var m=this.diff_compute_(a,s,d,c);return h&&m.unshift(new r.Diff(o,h)),p&&m.push(new r.Diff(o,p)),this.diff_cleanupMerge(m),m},r.prototype.diff_compute_=function(a,s,l,u){var c;if(!a)return[new r.Diff(i,s)];if(!s)return[new r.Diff(n,a)];var d=a.length>s.length?a:s,f=a.length>s.length?s:a,h=d.indexOf(f);if(h!=-1)return c=[new r.Diff(i,d.substring(0,h)),new r.Diff(o,f),new r.Diff(i,d.substring(h+f.length))],a.length>s.length&&(c[0][0]=c[2][0]=n),c;if(f.length==1)return[new r.Diff(n,a),new r.Diff(i,s)];var p=this.diff_halfMatch_(a,s);if(p){var m=p[0],v=p[1],g=p[2],y=p[3],b=p[4],x=this.diff_main(m,g,l,u),S=this.diff_main(v,y,l,u);return x.concat([new r.Diff(o,b)],S)}return l&&a.length>100&&s.length>100?this.diff_lineMode_(a,s,u):this.diff_bisect_(a,s,u)},r.prototype.diff_lineMode_=function(a,s,l){var u=this.diff_linesToChars_(a,s);a=u.chars1,s=u.chars2;var c=u.lineArray,d=this.diff_main(a,s,!1,l);this.diff_charsToLines_(d,c),this.diff_cleanupSemantic(d),d.push(new r.Diff(o,""));for(var f=0,h=0,p=0,m="",v="";f<d.length;){switch(d[f][0]){case i:p++,v+=d[f][1];break;case n:h++,m+=d[f][1];break;case o:if(h>=1&&p>=1){d.splice(f-h-p,h+p),f=f-h-p;for(var g=this.diff_main(m,v,!1,l),y=g.length-1;y>=0;y--)d.splice(f,0,g[y]);f=f+g.length}p=0,h=0,m="",v="";break}f++}return d.pop(),d},r.prototype.diff_bisect_=function(a,s,l){for(var u=a.length,c=s.length,d=Math.ceil((u+c)/2),f=d,h=2*d,p=new Array(h),m=new Array(h),v=0;v<h;v++)p[v]=-1,m[v]=-1;p[f+1]=0,m[f+1]=0;for(var g=u-c,y=g%2!=0,b=0,x=0,S=0,E=0,I=0;I<d&&!(new Date().getTime()>l);I++){for(var k=-I+b;k<=I-x;k+=2){var D=f+k,F;k==-I||k!=I&&p[D-1]<p[D+1]?F=p[D+1]:F=p[D-1]+1;for(var T=F-k;F<u&&T<c&&a.charAt(F)==s.charAt(T);)F++,T++;if(p[D]=F,F>u)x+=2;else if(T>c)b+=2;else if(y){var R=f+g-k;if(R>=0&&R<h&&m[R]!=-1){var _=u-m[R];if(F>=_)return this.diff_bisectSplit_(a,s,F,T,l)}}}for(var M=-I+S;M<=I-E;M+=2){var R=f+M,_;M==-I||M!=I&&m[R-1]<m[R+1]?_=m[R+1]:_=m[R-1]+1;for(var L=_-M;_<u&&L<c&&a.charAt(u-_-1)==s.charAt(c-L-1);)_++,L++;if(m[R]=_,_>u)E+=2;else if(L>c)S+=2;else if(!y){var D=f+g-M;if(D>=0&&D<h&&p[D]!=-1){var F=p[D],T=f+F-D;if(_=u-_,F>=_)return this.diff_bisectSplit_(a,s,F,T,l)}}}}return[new r.Diff(n,a),new r.Diff(i,s)]},r.prototype.diff_bisectSplit_=function(a,s,l,u,c){var d=a.substring(0,l),f=s.substring(0,u),h=a.substring(l),p=s.substring(u),m=this.diff_main(d,f,!1,c),v=this.diff_main(h,p,!1,c);return m.concat(v)},r.prototype.diff_linesToChars_=function(a,s){var l=[],u={};l[0]="";function c(p){for(var m="",v=0,g=-1,y=l.length;g<p.length-1;){g=p.indexOf(`
`,v),g==-1&&(g=p.length-1);var b=p.substring(v,g+1);(u.hasOwnProperty?u.hasOwnProperty(b):u[b]!==void 0)?m+=String.fromCharCode(u[b]):(y==d&&(b=p.substring(v),g=p.length),m+=String.fromCharCode(y),u[b]=y,l[y++]=b),v=g+1}return m}var d=4e4,f=c(a);d=65535;var h=c(s);return{chars1:f,chars2:h,lineArray:l}},r.prototype.diff_charsToLines_=function(a,s){for(var l=0;l<a.length;l++){for(var u=a[l][1],c=[],d=0;d<u.length;d++)c[d]=s[u.charCodeAt(d)];a[l][1]=c.join("")}},r.prototype.diff_commonPrefix=function(a,s){if(!a||!s||a.charAt(0)!=s.charAt(0))return 0;for(var l=0,u=Math.min(a.length,s.length),c=u,d=0;l<c;)a.substring(d,c)==s.substring(d,c)?(l=c,d=l):u=c,c=Math.floor((u-l)/2+l);return c},r.prototype.diff_commonSuffix=function(a,s){if(!a||!s||a.charAt(a.length-1)!=s.charAt(s.length-1))return 0;for(var l=0,u=Math.min(a.length,s.length),c=u,d=0;l<c;)a.substring(a.length-c,a.length-d)==s.substring(s.length-c,s.length-d)?(l=c,d=l):u=c,c=Math.floor((u-l)/2+l);return c},r.prototype.diff_commonOverlap_=function(a,s){var l=a.length,u=s.length;if(l==0||u==0)return 0;l>u?a=a.substring(l-u):l<u&&(s=s.substring(0,l));var c=Math.min(l,u);if(a==s)return c;for(var d=0,f=1;;){var h=a.substring(c-f),p=s.indexOf(h);if(p==-1)return d;f+=p,(p==0||a.substring(c-f)==s.substring(0,f))&&(d=f,f++)}},r.prototype.diff_halfMatch_=function(a,s){if(this.Diff_Timeout<=0)return null;var l=a.length>s.length?a:s,u=a.length>s.length?s:a;if(l.length<4||u.length*2<l.length)return null;var c=this;function d(x,S,E){for(var I=x.substring(E,E+Math.floor(x.length/4)),k=-1,D="",F,T,R,_;(k=S.indexOf(I,k+1))!=-1;){var M=c.diff_commonPrefix(x.substring(E),S.substring(k)),L=c.diff_commonSuffix(x.substring(0,E),S.substring(0,k));D.length<L+M&&(D=S.substring(k-L,k)+S.substring(k,k+M),F=x.substring(0,E-L),T=x.substring(E+M),R=S.substring(0,k-L),_=S.substring(k+M))}return D.length*2>=x.length?[F,T,R,_,D]:null}var f=d(l,u,Math.ceil(l.length/4)),h=d(l,u,Math.ceil(l.length/2)),p;if(!f&&!h)return null;h?f?p=f[4].length>h[4].length?f:h:p=h:p=f;var m,v,g,y;a.length>s.length?(m=p[0],v=p[1],g=p[2],y=p[3]):(g=p[0],y=p[1],m=p[2],v=p[3]);var b=p[4];return[m,v,g,y,b]},r.prototype.diff_cleanupSemantic=function(a){for(var s=!1,l=[],u=0,c=null,d=0,f=0,h=0,p=0,m=0;d<a.length;)a[d][0]==o?(l[u++]=d,f=p,h=m,p=0,m=0,c=a[d][1]):(a[d][0]==i?p+=a[d][1].length:m+=a[d][1].length,c&&c.length<=Math.max(f,h)&&c.length<=Math.max(p,m)&&(a.splice(l[u-1],0,new r.Diff(n,c)),a[l[u-1]+1][0]=i,u--,u--,d=u>0?l[u-1]:-1,f=0,h=0,p=0,m=0,c=null,s=!0)),d++;for(s&&this.diff_cleanupMerge(a),this.diff_cleanupSemanticLossless(a),d=1;d<a.length;){if(a[d-1][0]==n&&a[d][0]==i){var v=a[d-1][1],g=a[d][1],y=this.diff_commonOverlap_(v,g),b=this.diff_commonOverlap_(g,v);y>=b?(y>=v.length/2||y>=g.length/2)&&(a.splice(d,0,new r.Diff(o,g.substring(0,y))),a[d-1][1]=v.substring(0,v.length-y),a[d+1][1]=g.substring(y),d++):(b>=v.length/2||b>=g.length/2)&&(a.splice(d,0,new r.Diff(o,v.substring(0,b))),a[d-1][0]=i,a[d-1][1]=g.substring(0,g.length-b),a[d+1][0]=n,a[d+1][1]=v.substring(b),d++),d++}d++}},r.prototype.diff_cleanupSemanticLossless=function(a){function s(b,x){if(!b||!x)return 6;var S=b.charAt(b.length-1),E=x.charAt(0),I=S.match(r.nonAlphaNumericRegex_),k=E.match(r.nonAlphaNumericRegex_),D=I&&S.match(r.whitespaceRegex_),F=k&&E.match(r.whitespaceRegex_),T=D&&S.match(r.linebreakRegex_),R=F&&E.match(r.linebreakRegex_),_=T&&b.match(r.blanklineEndRegex_),M=R&&x.match(r.blanklineStartRegex_);return _||M?5:T||R?4:I&&!D&&F?3:D||F?2:I||k?1:0}for(var l=1;l<a.length-1;){if(a[l-1][0]==o&&a[l+1][0]==o){var u=a[l-1][1],c=a[l][1],d=a[l+1][1],f=this.diff_commonSuffix(u,c);if(f){var h=c.substring(c.length-f);u=u.substring(0,u.length-f),c=h+c.substring(0,c.length-f),d=h+d}for(var p=u,m=c,v=d,g=s(u,c)+s(c,d);c.charAt(0)===d.charAt(0);){u+=c.charAt(0),c=c.substring(1)+d.charAt(0),d=d.substring(1);var y=s(u,c)+s(c,d);y>=g&&(g=y,p=u,m=c,v=d)}a[l-1][1]!=p&&(p?a[l-1][1]=p:(a.splice(l-1,1),l--),a[l][1]=m,v?a[l+1][1]=v:(a.splice(l+1,1),l--))}l++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(a){for(var s=!1,l=[],u=0,c=null,d=0,f=!1,h=!1,p=!1,m=!1;d<a.length;)a[d][0]==o?(a[d][1].length<this.Diff_EditCost&&(p||m)?(l[u++]=d,f=p,h=m,c=a[d][1]):(u=0,c=null),p=m=!1):(a[d][0]==n?m=!0:p=!0,c&&(f&&h&&p&&m||c.length<this.Diff_EditCost/2&&f+h+p+m==3)&&(a.splice(l[u-1],0,new r.Diff(n,c)),a[l[u-1]+1][0]=i,u--,c=null,f&&h?(p=m=!0,u=0):(u--,d=u>0?l[u-1]:-1,p=m=!1),s=!0)),d++;s&&this.diff_cleanupMerge(a)},r.prototype.diff_cleanupMerge=function(a){a.push(new r.Diff(o,""));for(var s=0,l=0,u=0,c="",d="",f;s<a.length;)switch(a[s][0]){case i:u++,d+=a[s][1],s++;break;case n:l++,c+=a[s][1],s++;break;case o:l+u>1?(l!==0&&u!==0&&(f=this.diff_commonPrefix(d,c),f!==0&&(s-l-u>0&&a[s-l-u-1][0]==o?a[s-l-u-1][1]+=d.substring(0,f):(a.splice(0,0,new r.Diff(o,d.substring(0,f))),s++),d=d.substring(f),c=c.substring(f)),f=this.diff_commonSuffix(d,c),f!==0&&(a[s][1]=d.substring(d.length-f)+a[s][1],d=d.substring(0,d.length-f),c=c.substring(0,c.length-f))),s-=l+u,a.splice(s,l+u),c.length&&(a.splice(s,0,new r.Diff(n,c)),s++),d.length&&(a.splice(s,0,new r.Diff(i,d)),s++),s++):s!==0&&a[s-1][0]==o?(a[s-1][1]+=a[s][1],a.splice(s,1)):s++,u=0,l=0,c="",d="";break}a[a.length-1][1]===""&&a.pop();var h=!1;for(s=1;s<a.length-1;)a[s-1][0]==o&&a[s+1][0]==o&&(a[s][1].substring(a[s][1].length-a[s-1][1].length)==a[s-1][1]?(a[s][1]=a[s-1][1]+a[s][1].substring(0,a[s][1].length-a[s-1][1].length),a[s+1][1]=a[s-1][1]+a[s+1][1],a.splice(s-1,1),h=!0):a[s][1].substring(0,a[s+1][1].length)==a[s+1][1]&&(a[s-1][1]+=a[s+1][1],a[s][1]=a[s][1].substring(a[s+1][1].length)+a[s+1][1],a.splice(s+1,1),h=!0)),s++;h&&this.diff_cleanupMerge(a)},r.prototype.diff_xIndex=function(a,s){var l=0,u=0,c=0,d=0,f;for(f=0;f<a.length&&(a[f][0]!==i&&(l+=a[f][1].length),a[f][0]!==n&&(u+=a[f][1].length),!(l>s));f++)c=l,d=u;return a.length!=f&&a[f][0]===n?d:d+(s-c)},r.prototype.diff_prettyHtml=function(a){for(var s=[],l=/&/g,u=/</g,c=/>/g,d=/\n/g,f=0;f<a.length;f++){var h=a[f][0],p=a[f][1],m=p.replace(l,"&amp;").replace(u,"&lt;").replace(c,"&gt;").replace(d,"&para;<br>");switch(h){case i:s[f]='<ins style="background:#e6ffe6;">'+m+"</ins>";break;case n:s[f]='<del style="background:#ffe6e6;">'+m+"</del>";break;case o:s[f]="<span>"+m+"</span>";break}}return s.join("")},r.prototype.diff_text1=function(a){for(var s=[],l=0;l<a.length;l++)a[l][0]!==i&&(s[l]=a[l][1]);return s.join("")},r.prototype.diff_text2=function(a){for(var s=[],l=0;l<a.length;l++)a[l][0]!==n&&(s[l]=a[l][1]);return s.join("")},r.prototype.diff_levenshtein=function(a){for(var s=0,l=0,u=0,c=0;c<a.length;c++){var d=a[c][0],f=a[c][1];switch(d){case i:l+=f.length;break;case n:u+=f.length;break;case o:s+=Math.max(l,u),l=0,u=0;break}}return s+=Math.max(l,u),s},r.prototype.diff_toDelta=function(a){for(var s=[],l=0;l<a.length;l++)switch(a[l][0]){case i:s[l]="+"+encodeURI(a[l][1]);break;case n:s[l]="-"+a[l][1].length;break;case o:s[l]="="+a[l][1].length;break}return s.join("	").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(a,s){for(var l=[],u=0,c=0,d=s.split(/\t/g),f=0;f<d.length;f++){var h=d[f].substring(1);switch(d[f].charAt(0)){case"+":try{l[u++]=new r.Diff(i,decodeURI(h))}catch{throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var p=parseInt(h,10);if(isNaN(p)||p<0)throw new Error("Invalid number in diff_fromDelta: "+h);var m=a.substring(c,c+=p);d[f].charAt(0)=="="?l[u++]=new r.Diff(o,m):l[u++]=new r.Diff(n,m);break;default:if(d[f])throw new Error("Invalid diff operation in diff_fromDelta: "+d[f])}}if(c!=a.length)throw new Error("Delta length ("+c+") does not equal source text length ("+a.length+").");return l},r.prototype.match_main=function(a,s,l){if(a==null||s==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,a.length)),a==s?0:a.length?a.substring(l,l+s.length)==s?l:this.match_bitap_(a,s,l):-1},r.prototype.match_bitap_=function(a,s,l){if(s.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var u=this.match_alphabet_(s),c=this;function d(F,T){var R=F/s.length,_=Math.abs(l-T);return c.Match_Distance?R+_/c.Match_Distance:_?1:R}var f=this.Match_Threshold,h=a.indexOf(s,l);h!=-1&&(f=Math.min(d(0,h),f),h=a.lastIndexOf(s,l+s.length),h!=-1&&(f=Math.min(d(0,h),f)));var p=1<<s.length-1;h=-1;for(var m,v,g=s.length+a.length,y,b=0;b<s.length;b++){for(m=0,v=g;m<v;)d(b,l+v)<=f?m=v:g=v,v=Math.floor((g-m)/2+m);g=v;var x=Math.max(1,l-v+1),S=Math.min(l+v,a.length)+s.length,E=Array(S+2);E[S+1]=(1<<b)-1;for(var I=S;I>=x;I--){var k=u[a.charAt(I-1)];if(b===0?E[I]=(E[I+1]<<1|1)&k:E[I]=(E[I+1]<<1|1)&k|((y[I+1]|y[I])<<1|1)|y[I+1],E[I]&p){var D=d(b,I-1);if(D<=f)if(f=D,h=I-1,h>l)x=Math.max(1,2*l-h);else break}}if(d(b+1,l)>f)break;y=E}return h},r.prototype.match_alphabet_=function(a){for(var s={},l=0;l<a.length;l++)s[a.charAt(l)]=0;for(var l=0;l<a.length;l++)s[a.charAt(l)]|=1<<a.length-l-1;return s},r.prototype.patch_addContext_=function(a,s){if(s.length!=0){if(a.start2===null)throw Error("patch not initialized");for(var l=s.substring(a.start2,a.start2+a.length1),u=0;s.indexOf(l)!=s.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)u+=this.Patch_Margin,l=s.substring(a.start2-u,a.start2+a.length1+u);u+=this.Patch_Margin;var c=s.substring(a.start2-u,a.start2);c&&a.diffs.unshift(new r.Diff(o,c));var d=s.substring(a.start2+a.length1,a.start2+a.length1+u);d&&a.diffs.push(new r.Diff(o,d)),a.start1-=c.length,a.start2-=c.length,a.length1+=c.length+d.length,a.length2+=c.length+d.length}},r.prototype.patch_make=function(a,s,l){var u,c;if(typeof a=="string"&&typeof s=="string"&&typeof l>"u")u=a,c=this.diff_main(u,s,!0),c.length>2&&(this.diff_cleanupSemantic(c),this.diff_cleanupEfficiency(c));else if(a&&typeof a=="object"&&typeof s>"u"&&typeof l>"u")c=a,u=this.diff_text1(c);else if(typeof a=="string"&&s&&typeof s=="object"&&typeof l>"u")u=a,c=s;else if(typeof a=="string"&&typeof s=="string"&&l&&typeof l=="object")u=a,c=l;else throw new Error("Unknown call format to patch_make.");if(c.length===0)return[];for(var d=[],f=new r.patch_obj,h=0,p=0,m=0,v=u,g=u,y=0;y<c.length;y++){var b=c[y][0],x=c[y][1];switch(!h&&b!==o&&(f.start1=p,f.start2=m),b){case i:f.diffs[h++]=c[y],f.length2+=x.length,g=g.substring(0,m)+x+g.substring(m);break;case n:f.length1+=x.length,f.diffs[h++]=c[y],g=g.substring(0,m)+g.substring(m+x.length);break;case o:x.length<=2*this.Patch_Margin&&h&&c.length!=y+1?(f.diffs[h++]=c[y],f.length1+=x.length,f.length2+=x.length):x.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(f,v),d.push(f),f=new r.patch_obj,h=0,v=g,p=m);break}b!==i&&(p+=x.length),b!==n&&(m+=x.length)}return h&&(this.patch_addContext_(f,v),d.push(f)),d},r.prototype.patch_deepCopy=function(a){for(var s=[],l=0;l<a.length;l++){var u=a[l],c=new r.patch_obj;c.diffs=[];for(var d=0;d<u.diffs.length;d++)c.diffs[d]=new r.Diff(u.diffs[d][0],u.diffs[d][1]);c.start1=u.start1,c.start2=u.start2,c.length1=u.length1,c.length2=u.length2,s[l]=c}return s},r.prototype.patch_apply=function(a,s){if(a.length==0)return[s,[]];a=this.patch_deepCopy(a);var l=this.patch_addPadding(a);s=l+s+l,this.patch_splitMax(a);for(var u=0,c=[],d=0;d<a.length;d++){var f=a[d].start2+u,h=this.diff_text1(a[d].diffs),p,m=-1;if(h.length>this.Match_MaxBits?(p=this.match_main(s,h.substring(0,this.Match_MaxBits),f),p!=-1&&(m=this.match_main(s,h.substring(h.length-this.Match_MaxBits),f+h.length-this.Match_MaxBits),(m==-1||p>=m)&&(p=-1))):p=this.match_main(s,h,f),p==-1)c[d]=!1,u-=a[d].length2-a[d].length1;else{c[d]=!0,u=p-f;var v;if(m==-1?v=s.substring(p,p+h.length):v=s.substring(p,m+this.Match_MaxBits),h==v)s=s.substring(0,p)+this.diff_text2(a[d].diffs)+s.substring(p+h.length);else{var g=this.diff_main(h,v,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(g)/h.length>this.Patch_DeleteThreshold)c[d]=!1;else{this.diff_cleanupSemanticLossless(g);for(var y=0,b,x=0;x<a[d].diffs.length;x++){var S=a[d].diffs[x];S[0]!==o&&(b=this.diff_xIndex(g,y)),S[0]===i?s=s.substring(0,p+b)+S[1]+s.substring(p+b):S[0]===n&&(s=s.substring(0,p+b)+s.substring(p+this.diff_xIndex(g,y+S[1].length))),S[0]!==n&&(y+=S[1].length)}}}}}return s=s.substring(l.length,s.length-l.length),[s,c]},r.prototype.patch_addPadding=function(a){for(var s=this.Patch_Margin,l="",u=1;u<=s;u++)l+=String.fromCharCode(u);for(var u=0;u<a.length;u++)a[u].start1+=s,a[u].start2+=s;var c=a[0],d=c.diffs;if(d.length==0||d[0][0]!=o)d.unshift(new r.Diff(o,l)),c.start1-=s,c.start2-=s,c.length1+=s,c.length2+=s;else if(s>d[0][1].length){var f=s-d[0][1].length;d[0][1]=l.substring(d[0][1].length)+d[0][1],c.start1-=f,c.start2-=f,c.length1+=f,c.length2+=f}if(c=a[a.length-1],d=c.diffs,d.length==0||d[d.length-1][0]!=o)d.push(new r.Diff(o,l)),c.length1+=s,c.length2+=s;else if(s>d[d.length-1][1].length){var f=s-d[d.length-1][1].length;d[d.length-1][1]+=l.substring(0,f),c.length1+=f,c.length2+=f}return l},r.prototype.patch_splitMax=function(a){for(var s=this.Match_MaxBits,l=0;l<a.length;l++)if(!(a[l].length1<=s)){var u=a[l];a.splice(l--,1);for(var c=u.start1,d=u.start2,f="";u.diffs.length!==0;){var h=new r.patch_obj,p=!0;for(h.start1=c-f.length,h.start2=d-f.length,f!==""&&(h.length1=h.length2=f.length,h.diffs.push(new r.Diff(o,f)));u.diffs.length!==0&&h.length1<s-this.Patch_Margin;){var m=u.diffs[0][0],v=u.diffs[0][1];m===i?(h.length2+=v.length,d+=v.length,h.diffs.push(u.diffs.shift()),p=!1):m===n&&h.diffs.length==1&&h.diffs[0][0]==o&&v.length>2*s?(h.length1+=v.length,c+=v.length,p=!1,h.diffs.push(new r.Diff(m,v)),u.diffs.shift()):(v=v.substring(0,s-h.length1-this.Patch_Margin),h.length1+=v.length,c+=v.length,m===o?(h.length2+=v.length,d+=v.length):p=!1,h.diffs.push(new r.Diff(m,v)),v==u.diffs[0][1]?u.diffs.shift():u.diffs[0][1]=u.diffs[0][1].substring(v.length))}f=this.diff_text2(h.diffs),f=f.substring(f.length-this.Patch_Margin);var g=this.diff_text1(u.diffs).substring(0,this.Patch_Margin);g!==""&&(h.length1+=g.length,h.length2+=g.length,h.diffs.length!==0&&h.diffs[h.diffs.length-1][0]===o?h.diffs[h.diffs.length-1][1]+=g:h.diffs.push(new r.Diff(o,g))),p||a.splice(++l,0,h)}}},r.prototype.patch_toText=function(a){for(var s=[],l=0;l<a.length;l++)s[l]=a[l];return s.join("")},r.prototype.patch_fromText=function(a){var s=[];if(!a)return s;for(var l=a.split(`
`),u=0,c=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;u<l.length;){var d=l[u].match(c);if(!d)throw new Error("Invalid patch string: "+l[u]);var f=new r.patch_obj;for(s.push(f),f.start1=parseInt(d[1],10),d[2]===""?(f.start1--,f.length1=1):d[2]=="0"?f.length1=0:(f.start1--,f.length1=parseInt(d[2],10)),f.start2=parseInt(d[3],10),d[4]===""?(f.start2--,f.length2=1):d[4]=="0"?f.length2=0:(f.start2--,f.length2=parseInt(d[4],10)),u++;u<l.length;){var h=l[u].charAt(0);try{var p=decodeURI(l[u].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+p)}if(h=="-")f.diffs.push(new r.Diff(n,p));else if(h=="+")f.diffs.push(new r.Diff(i,p));else if(h==" ")f.diffs.push(new r.Diff(o,p));else{if(h=="@")break;if(h!=="")throw new Error('Invalid patch mode "'+h+'" in: '+p)}u++}}return s},r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},r.patch_obj.prototype.toString=function(){var a,s;this.length1===0?a=this.start1+",0":this.length1==1?a=this.start1+1:a=this.start1+1+","+this.length1,this.length2===0?s=this.start2+",0":this.length2==1?s=this.start2+1:s=this.start2+1+","+this.length2;for(var l=["@@ -"+a+" +"+s+` @@
`],u,c=0;c<this.diffs.length;c++){switch(this.diffs[c][0]){case i:u="+";break;case n:u="-";break;case o:u=" ";break}l[c+1]=u+encodeURI(this.diffs[c][1])+`
`}return l.join("").replace(/%20/g," ")},t.exports=r,t.exports.diff_match_patch=r,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=i,t.exports.DIFF_EQUAL=o}}),cse=as(use(),1),dse={root:"alinea-ScalarDiff","root-segment":"alinea-ScalarDiff-segment",rootSegment:"alinea-ScalarDiff-segment","is-insert":"alinea-ScalarDiff-is-insert",isInsert:"alinea-ScalarDiff-is-insert","is-delete":"alinea-ScalarDiff-is-delete",isDelete:"alinea-ScalarDiff-is-delete"},uL=j(dse),cL=new cse.default.diff_match_patch;function dL(e){return typeof e=="number"||e?String(e):""}function Cx({valueA:e,valueB:t}){let r=dL(e),n=dL(t),i=(0,fL.useMemo)(()=>{let o=cL.diff_main(r,n);return cL.diff_cleanupSemantic(o),o},[r,n]);return(0,Sg.jsxs)("div",{className:uL.root(),children:[i.length===0&&(0,Sg.jsx)("br",{}),i.map(([o,a],s)=>(0,Sg.jsx)("span",{className:uL.root.segment({insert:o===1,delete:o===-1,equal:o===0}),children:a},s))]})}var hc=A(P(),1),fse=new Set(["heading","paragraph","listItem"]);function mL({_type:e,content:t}){let r=fse.has(e);return!t||!Array.isArray(t)?"":t.map(n=>Re.isText(n)?`${n.text} `:mL(n)).join("")+(r?`

`:"")}function hL(e){let t=[],r="";if(!Array.isArray(e))return t;for(let n of e)Re.isText(n)?r+=`${n.text} `:Re.isElement(n)?r+=mL(n):Re.isBlock(n)&&(r&&(t.push({type:"text",text:r}),r=""),t.push({type:"block",block:n}));return r&&t.push({type:"text",text:r}),t}function gL({FieldsDiff:e,shape:t,valueA:r,valueB:n}){let i=(0,pL.useMemo)(()=>({a:hL(r),b:hL(n)}),[r,n]),o=Math.max(i.a.length,i.b.length),a=[],s=(u,c)=>u.type!==u.type?!1:u.type==="block"&&c.type==="block"?u.block[Qt.id]===c.block[Qt.id]:!0,l=bx(i.a,i.b,s);return(0,hc.jsx)(vt.Root,{children:l.map((u,c)=>{switch(u.value.type){case"block":{let d=u.value.block[Re.type],f=t.blocks?.[d],h=u.type==="keep"?["block"in u.old&&u.old.block||{},u.value.block]:u.type==="removal"?[u.value.block,{}]:[{},u.value.block],p=dc(f,h[0],h[1]);return p.length===0?(0,hc.jsx)(fc,{change:"equal"},c):(0,hc.jsx)(fc,{change:u.type,children:(0,hc.jsx)(e,{changes:p,targetA:h[0],targetB:h[1]})},c)}case"text":{let d=u.type==="keep"?["text"in u.old&&u.old.text,u.value.text]:u.type==="removal"?[u.value.text,""]:["",u.value.text];return d[0]===d[1]?(0,hc.jsx)(fc,{change:"equal"},c):(0,hc.jsx)(fc,{change:u.type,children:(0,hc.jsx)(Cx,{valueA:d[0],valueB:d[1]})},c)}}})})}var Cg=A(P(),1);function vL({FieldsDiff:e,shape:t,valueA:r,valueB:n}){if(t instanceof Xt)return(0,Cg.jsx)(Cx,{valueA:r,valueB:n});if(t instanceof Ex)return(0,Cg.jsx)(gL,{FieldsDiff:e,shape:t,valueA:r,valueB:n});if(t instanceof xx)return(0,Cg.jsx)(lL,{FieldsDiff:e,shape:t,valueA:r,valueB:n});if(t instanceof Gi){let i=dc(t,r,n);return(0,Cg.jsx)(e,{changes:i,targetA:r,targetB:n})}return t instanceof Sx&&console.warn("UnionShape not supported yet"),null}var ap=A(P(),1);function ZT({changes:e,targetA:t,targetB:r}){return(0,ap.jsx)(La,{children:(0,ap.jsx)(ot,{gap:10,children:e.map(([n,i],o)=>(0,ap.jsx)("div",{children:(0,ap.jsx)(Ke,{label:i.label,children:(0,ap.jsx)(vL,{FieldsDiff:ZT,shape:i,valueA:t?.[n],valueB:r?.[n]})})},n))})})}var Ol=A(P(),1),hse={root:"alinea-EntryDiff"},pse=j(hse);function yL({entryA:e,entryB:t}){let{schema:r}=dr(),n=r[e.type],i=r[t.type];if(n!==i)return(0,Ol.jsxs)("div",{children:[(0,Ol.jsx)($i,{children:(0,Ol.jsx)(Ze,{label:me.label(n)})})," ","=>",(0,Ol.jsx)($i,{children:(0,Ol.jsx)(Ze,{label:me.label(i)})})]});let a=dc(me.shape(n),e.data,t.data);return(0,Ol.jsx)("div",{className:pse.root(),children:(0,Ol.jsx)(ZT,{changes:a,targetA:e.data,targetB:t.data})})}w();w();var e3=A(P(),1);function Nd(e){return(0,e3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,e3.jsx)("path",{fill:"currentColor",d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83l3.75 3.75l1.83-1.83z"})})}var wL=A(P(),1),mse={root:"alinea-EditModeToggle","root-switch":"alinea-EditModeToggle-switch",rootSwitch:"alinea-EditModeToggle-switch","is-active":"alinea-EditModeToggle-is-active",isActive:"alinea-EditModeToggle-is-active"},D_e=j(mse),t3=(e=>(e.Editing="editing",e.Diff="diff",e))(t3||{});w();w();var Pd=A(P(),1),gse={root:"alinea-AppBar","is-draft":"alinea-AppBar-is-draft",isDraft:"alinea-AppBar-is-draft","is-editing":"alinea-AppBar-is-editing",isEditing:"alinea-AppBar-is-editing","is-revision":"alinea-AppBar-is-revision",isRevision:"alinea-AppBar-is-revision","is-published":"alinea-AppBar-is-published",isPublished:"alinea-AppBar-is-published","is-archived":"alinea-AppBar-is-archived",isArchived:"alinea-AppBar-is-archived","is-transition":"alinea-AppBar-is-transition",isTransition:"alinea-AppBar-is-transition","is-unpublished":"alinea-AppBar-is-unpublished",isUnpublished:"alinea-AppBar-is-unpublished",item:"alinea-AppBar-item","item-icon":"alinea-AppBar-item-icon",itemIcon:"alinea-AppBar-item-icon","is-interactive":"alinea-AppBar-is-interactive",isInteractive:"alinea-AppBar-is-interactive","is-active":"alinea-AppBar-is-active",isActive:"alinea-AppBar-is-active"},r3=j(gse),Mo;(e=>{function t({variant:n,...i}){return(0,Pd.jsx)("header",{...i,className:r3.root.mergeProps(i)(n)})}e.Root=t;function r({children:n,as:i="div",full:o,icon:a,active:s,...l}){let u=i==="button"||i==="a";return(0,Pd.jsx)(i,{...l,className:r3.item.mergeProps(l)({interactive:u,active:s}),children:(0,Pd.jsxs)(q,{center:!0,gap:8,full:!0,children:[a&&(0,Pd.jsx)("div",{className:r3.item.icon(),children:(0,Pd.jsx)(ee,{icon:a})}),n]})})}e.Item=r})(Mo||(Mo={}));w();var n3=A(P(),1);function kx(e){return(0,n3.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,n3.jsx)("path",{fill:"currentColor",d:"m20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27M6.24 5h11.52l.81.97H5.44zM5 19V8h14v11zm8.45-9h-2.9v3H8l4 4l4-4h-2.55z"})})}w();var i3=A(P(),1);function bL(e){return(0,i3.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,i3.jsx)("path",{fill:"currentColor",d:"M11 17c0 .55.45 1 1 1s1-.45 1-1s-.45-1-1-1s-1 .45-1 1zm0-14v4h2V5.08c3.39.49 6 3.39 6 6.92c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-1.68.59-3.22 1.58-4.42L12 13l1.41-1.41l-6.8-6.8v.02C4.42 6.45 3 9.05 3 12c0 4.97 4.02 9 9 9a9 9 0 0 0 0-18h-1zm7 9c0-.55-.45-1-1-1s-1 .45-1 1s.45 1 1 1s1-.45 1-1zM6 12c0 .55.45 1 1 1s1-.45 1-1s-.45-1-1-1s-1 .45-1 1z"})})}w();var o3=A(P(),1);function xL(e){return(0,o3.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,o3.jsx)("path",{fill:"currentColor",d:"M11.59 7.41L15.17 11H1v2h14.17l-3.59 3.59L13 18l6-6l-6-6l-1.41 1.41zM20 6v12h2V6h-2z"})})}w();var a3=A(P(),1);function Ax(e){return(0,a3.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,a3.jsx)("path",{fill:"currentColor",d:"M12 6.5a9.77 9.77 0 0 1 8.82 5.5c-1.65 3.37-5.02 5.5-8.82 5.5S4.83 15.37 3.18 12A9.77 9.77 0 0 1 12 6.5m0-2C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zm0 5a2.5 2.5 0 0 1 0 5a2.5 2.5 0 0 1 0-5m0-2c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5s4.5-2.02 4.5-4.5s-2.02-4.5-4.5-4.5z"})})}w();var s3=A(P(),1);function EL(e){return(0,s3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,s3.jsx)("path",{fill:"currentColor",d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"})})}w();var l3=A(P(),1);function Tx(e){return(0,l3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,l3.jsx)("path",{fill:"currentColor",d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"})})}w();var u3=A(P(),1);function SL(e){return(0,u3.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,u3.jsx)("path",{fill:"currentColor",d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z"})})}w();var c3=A(P(),1);function Dx(e){return(0,c3.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,c3.jsx)("path",{fill:"currentColor",d:"m16.95 10.23l-5.66 5.66a.996.996 0 0 1-1.41 0l-2.83-2.83a.996.996 0 1 1 1.41-1.41l2.12 2.12l4.95-4.95a.996.996 0 0 1 1.41 0c.4.39.4 1.02.01 1.41zM4 12c0-2.33 1.02-4.42 2.62-5.88l1.53 1.53A.5.5 0 0 0 9 7.29V3c0-.28-.22-.5-.5-.5H4.21c-.45 0-.67.54-.35.85L5.2 4.7C3.24 6.52 2 9.11 2 12c0 4.75 3.32 8.73 7.76 9.75c.63.14 1.24-.33 1.24-.98c0-.47-.33-.87-.79-.98C6.66 18.98 4 15.8 4 12zm18 0c0-4.75-3.32-8.73-7.76-9.75c-.63-.14-1.24.33-1.24.98c0 .47.33.87.79.98C17.34 5.02 20 8.2 20 12c0 2.33-1.02 4.42-2.62 5.88l-1.53-1.53a.5.5 0 0 0-.85.36V21c0 .28.22.5.5.5h4.29c.45 0 .67-.54.35-.85L18.8 19.3c1.96-1.82 3.2-4.41 3.2-7.3z"})})}w();var d3=A(P(),1);function Ix(e){return(0,d3.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,d3.jsx)("path",{fill:"currentColor",d:"M17.59 3.59c-.38-.38-.89-.59-1.42-.59H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7.83c0-.53-.21-1.04-.59-1.41l-2.82-2.83zM12 19c-1.66 0-3-1.34-3-3s1.34-3 3-3s3 1.34 3 3s-1.34 3-3 3zm1-10H7c-1.1 0-2-.9-2-2s.9-2 2-2h6c1.1 0 2 .9 2 2s-.9 2-2 2z"})})}var VL=A($(),1);w();w();w();var sp=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".avif",".heic",".svg"];function Fx(e){let t=e.toLowerCase().split(".").pop();return t&&sp.includes(`.${t}`)}var Bl=class{constructor(e){this.task=e}};function vse(e,t){let n=br.typeNames(e.schema).get(t);if(!n)throw new Error(`Type "${me.label(t)}" not found in Schema`);return n}var CL=class extends Bl{id;constructor(e){super(async t=>{let{config:r}=t,n=await t.first({id:this.id,status:"all"}),i=Rt(r.workspaces),o=n?._workspace??e.workspace??i[0],a=Rt(r.workspaces[o]),s=n?._root??e.root??a[0];return[{op:"create",id:this.id,locale:e.locale??null,parentId:e.parentId??null,type:vse(r,e.type),root:s,workspace:o,data:e.set??{},insertOrder:e.insertOrder,status:e.status,overwrite:e.overwrite}]}),this.id=e.id??_t()}},kL=class extends Bl{constructor(e){super(()=>e.map(t=>({op:"remove",id:t}))),this.entryIds=e}},AL=class extends Bl{constructor(e){super(()=>[{op:"remove",...e}])}},TL=class extends Bl{constructor(e){super(()=>{let{status:t="published",locale:r=null,id:n,set:i}=e;return[{op:"update",id:n,locale:r,status:t,set:i}]})}},DL=class extends Bl{constructor(e){super(()=>[{op:"move",...e,after:e.after??null}])}},IL=class extends Bl{constructor(e){super(()=>[{op:"publish",...e,locale:e.locale??null}])}},FL=class extends Bl{constructor(e){super(()=>[{op:"unpublish",...e,locale:e.locale??null}])}},RL=class extends Bl{constructor(e){super(()=>[{op:"archive",...e,locale:e.locale??null}])}},Rx=class extends Bl{id;constructor(e){super(async t=>{let r=this.id,{file:n,createPreview:i}=e,{workspace:o,root:a,parentId:s}=e,l=Array.isArray(n)?n[0]:n.name,u=Array.isArray(n)?n[1]:await n.arrayBuffer(),c=n instanceof Blob?n.type:"application/octet-stream",d=o??Object.keys(t.config.workspaces)[0],f=a??$t.defaultMediaRoot(t.config.workspaces[d]),h=Rw(l),p=Ui(pd(l,h)),m=Wu(t.config,d),v=zr(m,p+h),g=await t.prepareUpload(v),y=Fx(l)?await i?.(n instanceof Blob?n:new Blob([u])):void 0;await fetch(g.url,{method:g.method??"POST",headers:{"Content-Type":c},body:u}).then(F=>{if(!F.ok)throw new nu(F.status,"Could not reach server for upload")});let b=pd(l,h),x=await W0(new Uint8Array(u)),{mediaDir:S}=$t.data(t.config.workspaces[d]),E=S&&hA(S),I=E&&g.location.startsWith(E)?g.location.slice(E.length):g.location,k={op:"uploadFile",url:g.previewUrl,location:g.location},D={op:"create",id:r,locale:null,parentId:s??null,type:"MediaFile",root:f,workspace:d,data:{title:b,location:I,previewUrl:g.previewUrl,extension:h,size:u.byteLength,hash:x,...y},overwrite:e.replaceId!==void 0};return[k,D]}),this.id=e.replaceId??_t()}};w();Vc();var yse=Sn({"node_modules/smartcrop/smartcrop.js"(e,t){(function(){"use strict";var r={};function n(){throw new Error("No native promises and smartcrop.Promise not set.")}r.Promise=typeof Promise<"u"?Promise:n,r.DEFAULTS={width:0,height:0,aspect:0,cropWidth:0,cropHeight:0,detailWeight:.2,skinColor:[.78,.57,.44],skinBias:.01,skinBrightnessMin:.2,skinBrightnessMax:1,skinThreshold:.8,skinWeight:1.8,saturationBrightnessMin:.05,saturationBrightnessMax:.9,saturationThreshold:.4,saturationBias:.2,saturationWeight:.1,scoreDownSample:8,step:8,scaleStep:.1,minScale:1,maxScale:1,edgeRadius:.4,edgeWeight:-20,outsideImportance:-.5,boostWeight:100,ruleOfThirds:!0,prescale:!0,imageOperations:null,canvasFactory:v,debug:!1},r.crop=function(T,R,_){var M=E({},r.DEFAULTS,R);M.aspect&&(M.width=M.aspect,M.height=1),M.imageOperations===null&&(M.imageOperations=g(M.canvasFactory));var L=M.imageOperations,V=1,U=1;return L.open(T,M.input).then(function(N){return M.width&&M.height&&(V=y(N.width/M.width,N.height/M.height),M.cropWidth=~~(M.width*V),M.cropHeight=~~(M.height*V),M.minScale=y(M.maxScale,b(1/V,M.minScale)),M.prescale!==!1&&(U=y(b(256/N.width,256/N.height),1),U<1?(N=L.resample(N,N.width*U,N.height*U),M.cropWidth=~~(M.cropWidth*U),M.cropHeight=~~(M.cropHeight*U),M.boost&&(M.boost=M.boost.map(function(H){return{x:~~(H.x*U),y:~~(H.y*U),width:~~(H.width*U),height:~~(H.height*U),weight:H.weight}}))):U=1)),N}).then(function(N){return L.getData(N).then(function(H){for(var O=h(M,H),J=O.crops||[O.topCrop],B=0,z=J.length;B<z;B++){var Y=J[B];Y.x=~~(Y.x/U),Y.y=~~(Y.y/U),Y.width=~~(Y.width/U),Y.height=~~(Y.height/U)}return _&&_(O),O})})},r.isAvailable=function(T){if(!r.Promise)return!1;var R=T?T.canvasFactory:v;if(R===v){var _=document.createElement("canvas");if(!_.getContext("2d"))return!1}return!0};function i(T,R){for(var _=T.data,M=R.data,L=T.width,V=T.height,U=0;U<V;U++)for(var N=0;N<L;N++){var H=(U*L+N)*4,O;N===0||N>=L-1||U===0||U>=V-1?O=D(_,H):O=D(_,H)*4-D(_,H-L*4)-D(_,H-4)-D(_,H+4)-D(_,H+L*4),M[H+1]=O}}function o(T,R,_){for(var M=R.data,L=_.data,V=R.width,U=R.height,N=0;N<U;N++)for(var H=0;H<V;H++){var O=(N*V+H)*4,J=k(M[O],M[O+1],M[O+2])/255,B=f(T,M[O],M[O+1],M[O+2]),z=B>T.skinThreshold,Y=J>=T.skinBrightnessMin&&J<=T.skinBrightnessMax;z&&Y?L[O]=(B-T.skinThreshold)*(255/(1-T.skinThreshold)):L[O]=0}}function a(T,R,_){for(var M=R.data,L=_.data,V=R.width,U=R.height,N=0;N<U;N++)for(var H=0;H<V;H++){var O=(N*V+H)*4,J=k(M[O],M[O+1],M[O+2])/255,B=F(M[O],M[O+1],M[O+2]),z=B>T.saturationThreshold,Y=J>=T.saturationBrightnessMin&&J<=T.saturationBrightnessMax;Y&&z?L[O+2]=(B-T.saturationThreshold)*(255/(1-T.saturationThreshold)):L[O+2]=0}}function s(T,R){if(T.boost){for(var _=R.data,M=0;M<R.width;M+=4)_[M+3]=0;for(M=0;M<T.boost.length;M++)l(T.boost[M],T,R)}}function l(T,R,_){for(var M=_.data,L=_.width,V=~~T.x,U=~~(T.x+T.width),N=~~T.y,H=~~(T.y+T.height),O=T.weight*255,J=N;J<H;J++)for(var B=V;B<U;B++){var z=(J*L+B)*4;M[z+3]+=O}}function u(T,R,_){for(var M=[],L=y(R,_),V=T.cropWidth||L,U=T.cropHeight||L,N=T.maxScale;N>=T.minScale;N-=T.scaleStep)for(var H=0;H+U*N<=_;H+=T.step)for(var O=0;O+V*N<=R;O+=T.step)M.push({x:O,y:H,width:V*N,height:U*N});return M}function c(T,R,_){for(var M={detail:0,saturation:0,skin:0,boost:0,total:0},L=R.data,V=T.scoreDownSample,U=1/V,N=R.height*V,H=R.width*V,O=R.width,J=0;J<N;J+=V)for(var B=0;B<H;B+=V){var z=(~~(J*U)*O+~~(B*U))*4,Y=d(T,_,B,J),K=L[z+1]/255;M.skin+=L[z]/255*(K+T.skinBias)*Y,M.detail+=K*Y,M.saturation+=L[z+2]/255*(K+T.saturationBias)*Y,M.boost+=L[z+3]/255*Y}return M.total=(M.detail*T.detailWeight+M.skin*T.skinWeight+M.saturation*T.saturationWeight+M.boost*T.boostWeight)/(_.width*_.height),M}function d(T,R,_,M){if(R.x>_||_>=R.x+R.width||R.y>M||M>=R.y+R.height)return T.outsideImportance;_=(_-R.x)/R.width,M=(M-R.y)/R.height;var L=x(.5-_)*2,V=x(.5-M)*2,U=Math.max(L-1+T.edgeRadius,0),N=Math.max(V-1+T.edgeRadius,0),H=(U*U+N*N)*T.edgeWeight,O=1.41-S(L*L+V*V);return T.ruleOfThirds&&(O+=Math.max(0,O+H+.5)*1.2*(I(L)+I(V))),O+H}r.importance=d;function f(T,R,_,M){var L=S(R*R+_*_+M*M),V=R/L-T.skinColor[0],U=_/L-T.skinColor[1],N=M/L-T.skinColor[2],H=S(V*V+U*U+N*N);return 1-H}function h(T,R){var _={},M=new p(R.width,R.height);i(R,M),o(T,R,M),a(T,R,M),s(T,M);for(var L=m(M,T.scoreDownSample),V=-1/0,U=null,N=u(T,R.width,R.height),H=0,O=N.length;H<O;H++){var J=N[H];J.score=c(T,L,J),J.score.total>V&&(U=J,V=J.score.total)}return _.topCrop=U,T.debug&&U&&(_.crops=N,_.debugOutput=M,_.debugOptions=T,_.debugTopCrop=E({},_.topCrop)),_}function p(T,R,_){this.width=T,this.height=R,_?this.data=new Uint8ClampedArray(_):this.data=new Uint8ClampedArray(T*R*4)}r.ImgData=p;function m(T,R){for(var _=T.data,M=T.width,L=Math.floor(T.width/R),V=Math.floor(T.height/R),U=new p(L,V),N=U.data,H=1/(R*R),O=0;O<V;O++)for(var J=0;J<L;J++){for(var B=(O*L+J)*4,z=0,Y=0,K=0,te=0,se=0,de=0,Se=0;Se<R;Se++)for(var be=0;be<R;be++){var Ce=((O*R+Se)*M+(J*R+be))*4;z+=_[Ce],Y+=_[Ce+1],K+=_[Ce+2],te+=_[Ce+3],se=Math.max(se,_[Ce]),de=Math.max(de,_[Ce+1])}N[B]=z*H*.5+se*.5,N[B+1]=Y*H*.7+de*.3,N[B+2]=K*H,N[B+3]=te*H}return U}r._downSample=m;function v(T,R){var _=document.createElement("canvas");return _.width=T,_.height=R,_}function g(T){return{open:function(R){var _=R.naturalWidth||R.width,M=R.naturalHeight||R.height,L=T(_,M),V=L.getContext("2d");return R.naturalWidth&&(R.naturalWidth!=R.width||R.naturalHeight!=R.height)?(L.width=R.naturalWidth,L.height=R.naturalHeight):(L.width=R.width,L.height=R.height),V.drawImage(R,0,0),r.Promise.resolve(L)},resample:function(R,_,M){return Promise.resolve(R).then(function(L){var V=T(~~_,~~M),U=V.getContext("2d");return U.drawImage(L,0,0,L.width,L.height,0,0,V.width,V.height),r.Promise.resolve(V)})},getData:function(R){return Promise.resolve(R).then(function(_){var M=_.getContext("2d"),L=M.getImageData(0,0,_.width,_.height);return new p(_.width,_.height,L.data)})}}}r._canvasImageOperations=g;var y=Math.min,b=Math.max,x=Math.abs,S=Math.sqrt;function E(T){for(var R=1,_=arguments.length;R<_;R++){var M=arguments[R];if(M)for(var L in M)T[L]=M[L]}return T}function I(T){return T=((T-1/3+1)%2*.5-.5)*16,Math.max(1-T*T,0)}function k(T,R,_){return .5126*_+.7152*R+.0722*T}function D(T,R){return k(T[R],T[R+1],T[R+2])}function F(T,R,_){var M=b(T/255,R/255,_/255),L=y(T/255,R/255,_/255);if(M===L)return 0;var V=(M+L)/2,U=M-L;return V>.5?U/(2-M-L):U/(M+L)}typeof define<"u"&&define.amd&&define(function(){return r}),typeof e<"u"?e.smartcrop=r:typeof navigator<"u"&&(window.SmartCrop=window.smartcrop=r),typeof t<"u"&&(t.exports=r)})()}}),wse=as(yse(),1);async function ML(e){let t=URL.createObjectURL(e),r=await new Promise((E,I)=>{let k=new Image;k.onload=()=>E(k),k.onerror=D=>I(D),k.src=t}).finally(()=>URL.revokeObjectURL(t)),n=Math.max(r.width,r.height),i=Math.round(100*r.width/n),o=Math.round(100*r.height/n),a=document.createElement("canvas"),s=a.getContext("2d");a.width=i,a.height=o,s.drawImage(r,0,0,i,o);let l=s.getImageData(0,0,i,o),u=BO(i,o,l.data),{r:c,g:d,b:f,a:h}=NO(u),p=PB(pA(c*255,d*255,f*255,h)),m=Math.min(Math.round(160*r.width/n),r.width),v=Math.min(Math.round(160*r.height/n),r.height),g=document.createElement("canvas"),y=g.getContext("2d");y.imageSmoothingEnabled=!0,y.imageSmoothingQuality="high",g.width=m,g.height=v,y.drawImage(r,0,0,m,v);let b=g.toDataURL("image/webp"),x=await wse.default.crop(r,{width:100,height:100}),S={x:(x.topCrop.x+x.topCrop.width/2)/r.width,y:(x.topCrop.y+x.topCrop.height/2)/r.height};return{preview:b,averageColor:p,focus:S,thumbHash:vf.stringify(u),width:r.naturalWidth,height:r.naturalHeight}}var _L=A($(),1);var kg=(e=>(e[e.Queued=0]="Queued",e[e.CreatingPreview=1]="CreatingPreview",e[e.Uploading=2]="Uploading",e[e.Uploaded=3]="Uploaded",e[e.Done=4]="Done",e))(kg||{});function Mx(e){let t=oe(gt),[r,n]=(0,_L.useState)(Array);async function i(o,a,s){let l=Array.from(o,d=>new Rx({file:d,createPreview:ML,parentId:a.parentId,workspace:a.workspace,root:a.root,replaceId:s})),u=l.map(d=>d.id),c=l.map((d,f)=>({id:d.id,file:o[f],to:a,replaceId:s,status:0}));n(d=>[...c,...d]);try{await t.commit(...l);let d=await t.find({select:{...G,...Ot},type:Ot,id:{in:u}});n(f=>f.map(h=>{let p=d.find(v=>v.id===h.id);if(!p)return h;let m={...h,status:4,preview:p.preview,averageColor:p.averageColor,focus:p.focus,thumbHash:p.thumbHash,width:p.width,height:p.height};return e?.(p),m}))}catch(d){n(f=>f.map(h=>u.includes(h.id)?{...h,status:4,error:d}:h))}}return{upload:i,uploads:r}}w();w();var f3=A(P(),1);function OL(e){return(0,f3.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,f3.jsx)("path",{fill:"currentColor",d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5c0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4c0-2.05 1.53-3.76 3.56-3.97l1.07-.11l.5-.95A5.469 5.469 0 0 1 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5l1.53.11A2.98 2.98 0 0 1 22 15c0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z"})})}w();var h3=A(P(),1);function Wa(e){return(0,h3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,h3.jsx)("path",{fill:"currentColor",d:"M8.12 9.29L12 13.17l3.88-3.88a.996.996 0 1 1 1.41 1.41l-4.59 4.59a.996.996 0 0 1-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z"})})}w();var p3=A(P(),1);function Nl(e){return(0,p3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,p3.jsx)("path",{fill:"currentColor",d:"M8.12 14.71L12 10.83l3.88 3.88a.996.996 0 1 0 1.41-1.41L12.7 8.71a.996.996 0 0 0-1.41 0L6.7 13.3a.996.996 0 0 0 0 1.41c.39.38 1.03.39 1.42 0z"})})}var Tg=A($(),1);w();w();var BL=A($(),1),NL=A(P(),1),bse={root:"alinea-Ellipsis"},xse=j(bse),ta=(0,BL.memo)(function({children:t,...r}){return(0,NL.jsx)("div",{...r,className:xse.root.mergeProps(r)(),title:typeof t=="string"?t:void 0,children:t})});w();var m3=A(P(),1);function PL(e){return(0,m3.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,m3.jsx)("path",{fill:"currentColor",d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8s8 3.58 8 8s-3.58 8-8 8z"})})}var Xi=A(P(),1),Ese={root:"alinea-FileUploadRow","root-preview":"alinea-FileUploadRow-preview",rootPreview:"alinea-FileUploadRow-preview","root-preview-image":"alinea-FileUploadRow-preview-image",rootPreviewImage:"alinea-FileUploadRow-preview-image","root-preview-icon":"alinea-FileUploadRow-preview-icon",rootPreviewIcon:"alinea-FileUploadRow-preview-icon","root-status":"alinea-FileUploadRow-status",rootStatus:"alinea-FileUploadRow-status"},Ag=j(Ese);function LL(e){return(0,Xi.jsxs)(q,{center:!0,full:!0,gap:10,className:Ag.root(),children:[(0,Xi.jsx)("div",{className:Ag.root.preview(),children:e.preview?(0,Xi.jsx)("img",{alt:"Uploaded file",src:e.preview,className:Ag.root.preview.image()}):(0,Xi.jsx)("div",{className:Ag.root.preview.icon(),children:(0,Xi.jsx)(kd,{})})}),(0,Xi.jsx)(ot,{children:(0,Xi.jsx)(ta,{children:(0,Xi.jsx)(Ze,{label:e.file.name})})}),(0,Xi.jsx)($i,{style:{marginLeft:"auto"},children:e.file.name.toLowerCase().split(".").pop()}),(0,Xi.jsx)("div",{className:Ag.root.status(),children:e.status===kg.Done?(0,Xi.jsx)(ee,{icon:e.error?PL:Ma,title:e.error?e.error.message:"Done"}):(0,Xi.jsx)(ir,{})})]})}var Ci=A(P(),1),Sse={root:"alinea-FileUploader","root-content":"alinea-FileUploader-content",rootContent:"alinea-FileUploader-content","is-over":"alinea-FileUploader-is-over",isOver:"alinea-FileUploader-is-over","root-uploads":"alinea-FileUploader-uploads",rootUploads:"alinea-FileUploader-uploads","root-uploads-row":"alinea-FileUploader-uploads-row",rootUploadsRow:"alinea-FileUploader-uploads-row","root-header":"alinea-FileUploader-header",rootHeader:"alinea-FileUploader-header","root-header-label":"alinea-FileUploader-header-label",rootHeaderLabel:"alinea-FileUploader-header-label","root-header-label-input":"alinea-FileUploader-header-label-input",rootHeaderLabelInput:"alinea-FileUploader-header-label-input","root-header-close":"alinea-FileUploader-header-close",rootHeaderClose:"alinea-FileUploader-header-close","root-divider":"alinea-FileUploader-divider",rootDivider:"alinea-FileUploader-divider","root-footer":"alinea-FileUploader-footer",rootFooter:"alinea-FileUploader-footer"},pc=j(Sse);function lp({onlyImages:e,destination:t,max:r,toggleSelect:n,position:i="right"}){let o=!t,{upload:a,uploads:s}=Mx(n),[l,u]=(0,Tg.useState)(!1),c=s.length>0,d=s.filter(b=>b.status===kg.Done).length,f=d===s.length,h=s.length-d,[p,m]=(0,Tg.useState)(!0);function v(b){if(!o)return a([...b],t)}function g(b){let{files:x}=b.target;if(x)return v(x)}let y=c?f?`${d} upload${d>1?"s":""} complete`:`uploading ${h} file${h>1?"s":""}`:"Upload files";return(0,Tg.useEffect)(()=>{let{body:b}=document,x;function S(D){x=D.target,u(!0)}function E(D){D.preventDefault()}function I(D){D.target===x&&u(!1)}function k(D){D.preventDefault(),u(!1);let F=D.dataTransfer?.files;F&&v(F)}return b.addEventListener("dragenter",S),b.addEventListener("dragover",E),b.addEventListener("dragleave",I),b.addEventListener("drop",k),()=>{b.removeEventListener("dragenter",S),b.removeEventListener("dragover",E),b.removeEventListener("dragleave",I),b.removeEventListener("drop",k)}},[t]),(0,Ci.jsx)("div",{className:pc.root({over:l}),style:{[i]:0},children:(0,Ci.jsxs)(ot,{className:pc.root.content(),children:[(0,Ci.jsxs)(q,{as:"header",className:pc.root.header(),children:[(0,Ci.jsxs)("label",{className:pc.root.header.label(),children:[!o&&(0,Ci.jsx)("input",{type:"file",className:pc.root.header.label.input(),multiple:r!==1,onChange:g,accept:e?"image/jpeg, image/png, image/gif, image/webp, image/avif, image/heic, image/svg+xml":void 0}),(0,Ci.jsxs)(q,{center:!0,gap:8,children:[(0,Ci.jsx)(ee,{icon:OL,size:17}),(0,Ci.jsx)("span",{children:y})]})]}),c&&(0,Ci.jsx)("button",{onClick:()=>m(!p),className:pc.root.header.close(),children:(0,Ci.jsx)(ee,{icon:p?Wa:Nl,size:18})})]}),p&&(0,Ci.jsx)("div",{className:pc.root.uploads(),children:s.map(b=>(0,Ci.jsx)("div",{className:pc.root.uploads.row(),children:(0,Ci.jsx)(LL,{...b})},b.id))})]})})}var ge=A(P(),1),Cse={root:"alinea-EntryHeader","root-tabTrigger":"alinea-EntryHeader-tabTrigger",rootTabTrigger:"alinea-EntryHeader-tabTrigger","is-active":"alinea-EntryHeader-is-active",isActive:"alinea-EntryHeader-is-active","root-menuToggle":"alinea-EntryHeader-menuToggle",rootMenuToggle:"alinea-EntryHeader-menuToggle","root-description":"alinea-EntryHeader-description",rootDescription:"alinea-EntryHeader-description","root-description-separator":"alinea-EntryHeader-description-separator",rootDescriptionSeparator:"alinea-EntryHeader-description-separator","root-description-title":"alinea-EntryHeader-description-title",rootDescriptionTitle:"alinea-EntryHeader-description-title","root-description-action":"alinea-EntryHeader-description-action",rootDescriptionAction:"alinea-EntryHeader-description-action","root-description-action-button":"alinea-EntryHeader-description-action-button",rootDescriptionActionButton:"alinea-EntryHeader-description-action-button","root-url":"alinea-EntryHeader-url",rootUrl:"alinea-EntryHeader-url","root-more":"alinea-EntryHeader-more",rootMore:"alinea-EntryHeader-more","is-draft":"alinea-EntryHeader-is-draft",isDraft:"alinea-EntryHeader-is-draft","is-editing":"alinea-EntryHeader-is-editing",isEditing:"alinea-EntryHeader-is-editing","is-revision":"alinea-EntryHeader-is-revision",isRevision:"alinea-EntryHeader-is-revision","is-published":"alinea-EntryHeader-is-published",isPublished:"alinea-EntryHeader-is-published","is-archived":"alinea-EntryHeader-is-archived",isArchived:"alinea-EntryHeader-is-archived","is-publishing":"alinea-EntryHeader-is-publishing",isPublishing:"alinea-EntryHeader-is-publishing","is-archiving":"alinea-EntryHeader-is-archiving",isArchiving:"alinea-EntryHeader-is-archiving","is-unpublished":"alinea-EntryHeader-is-unpublished",isUnpublished:"alinea-EntryHeader-is-unpublished","root-action":"alinea-EntryHeader-action",rootAction:"alinea-EntryHeader-action","root-main":"alinea-EntryHeader-main",rootMain:"alinea-EntryHeader-main"},or=j(Cse),zL={draft:"Draft",editing:"Editing",published:"Published",archived:"Archived",untranslated:"Untranslated",revision:"Revision",unpublished:"Unpublished"},kse={[Eo.SaveDraft]:"Saving",[Eo.SaveTranslation]:"Saving",[Eo.PublishEdits]:"Publishing",[Eo.RestoreRevision]:"Restoring",[Eo.PublishDraft]:"Publishing",[Eo.UnpublishDraft]:"Unpublishing",[Eo.DiscardDraft]:"Discarding",[Eo.ArchivePublished]:"Archiving",[Eo.PublishArchived]:"Publishing",[Eo.DeleteFile]:"Deleting",[Eo.DeleteEntry]:"Deleting"},Ase={draft:Nd,editing:Nd,published:Ax,archived:kx,untranslated:Fh,revision:Dx,transition:bL,unpublished:ac};function up({editor:e,editable:t=!0}){let r=dr(),n=Fr(),{canPublish:i,canDelete:o,untranslated:a,parentNeedsTranslation:s}=e,l=oe(e.statusInUrl),u=oe(e.selectedStatus),c=oe(e.previewRevision),d=e.activeStatus===u,f=e.activeVersion.type==="MediaFile",h=e.activeVersion.type==="MediaLibrary",p=oe(e.hasChanges),m=oe(e.transition),v=m!==void 0?"transition":c?"revision":a?"untranslated":p&&!l?"editing":u==="draft"&&e.activeVersion.main?"unpublished":u,g=rt(e.saveDraft),y=rt(e.publishEdits),b=rt(e.publishDraft),x=rt(e.restoreRevision),S=rt(e.discardDraft),E=rt(e.unPublish),I=rt(e.archive),k=rt(e.publishArchived),D=rt(e.deleteEntry),F=rt(e.deleteFile),T=rt(e.deleteMediaLibrary),R=l0();function _(){return F()?.then(()=>{R.invalidateQueries("explorer"),J(B.root(O))})}function M(){return T()?.then(()=>{R.invalidateQueries("explorer"),J(B.root(O))})}let L=rt(e.saveTranslation),V=rt(e.discardEdits),U=()=>L(n),[N,H]=mo(e.showHistory),O=Xh(),J=en(),B=Bt(),{pathname:z}=_a(),{isPreviewOpen:Y,toggleNav:K,togglePreview:te}=np(),[se,de]=(0,VL.useState)(!1),{upload:Se}=Mx();function be(){de(!0);let Ie=document.createElement("input");Ie.type="file";let lr=e.activeVersion.data.extension;Ie.accept=lr,Ie.onchange=async()=>{let re=Ie.files[0],ce={parentId:e.activeVersion.parentId??void 0,workspace:e.activeVersion.workspace,root:e.activeVersion.root,directory:Wu(r,e.activeVersion.workspace)};await Se([re],ce,e.entryId)},Ie.click()}let Ce=e.parents.some(Ie=>Ie.status==="draft"),pe=v==="draft"?(0,ge.jsx)(fe.Item,{className:or.root.action(),onClick:S,children:"Remove draft"}):v==="published"&&!e.activeVersion.seeded?f?(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)(fe.Item,{className:or.root.action(),onClick:be,children:"Replace"}),(0,ge.jsx)(fe.Item,{className:or.root.action(),onClick:_,children:"Delete"})]}):h?(0,ge.jsx)(ge.Fragment,{children:(0,ge.jsx)(fe.Item,{className:or.root.action(),onClick:M,children:"Delete"})}):(0,ge.jsxs)(ge.Fragment,{children:[r.enableDrafts&&(0,ge.jsx)(fe.Item,{className:or.root.action(),onClick:E,children:"Unpublish"}),(0,ge.jsx)(fe.Item,{className:or.root.action(),onClick:I,children:"Archive"})]}):v==="archived"?(0,ge.jsxs)(ge.Fragment,{children:[i&&(0,ge.jsx)(fe.Item,{className:or.root.action(),onClick:k,children:"Publish"}),o&&(0,ge.jsx)(fe.Item,{className:or.root.action(),onClick:D,children:"Delete"})]}):v==="unpublished"?Ce?(0,ge.jsx)(fe.Item,{className:or.root.action(),onClick:D,children:"Delete"}):(0,ge.jsx)(fe.Item,{className:or.root.action(),onClick:I,children:"Archive"}):null,ve=m!==void 0;return(0,ge.jsxs)(ge.Fragment,{children:[se&&(0,ge.jsx)(lp,{}),(0,ge.jsx)(Mo.Root,{className:or.root(),variant:v,children:(0,ge.jsxs)(q,{center:!0,gap:12,className:or.root.description(),children:[(0,ge.jsx)("button",{type:"button",title:"Display menu",onClick:()=>K(),className:or.root.menuToggle(),children:(0,ge.jsx)(ee,{icon:Tx})}),(0,ge.jsx)(ee,{icon:Ase[v],size:18}),(0,ge.jsxs)(fe.Root,{bottom:!0,children:[(0,ge.jsx)(fe.Trigger,{className:or.root.description.title(),children:(0,ge.jsxs)(q,{center:!0,gap:4,children:[(0,ge.jsx)("span",{children:v==="transition"?kse[m]:zL[v]}),!c&&e.availableStatuses.length>1&&(0,ge.jsx)(ee,{icon:ti})]})}),(0,ge.jsxs)(fe.Items,{children:[p&&(0,ge.jsx)(fe.Item,{onClick:()=>{J(z)},children:"Editing"}),!c&&e.availableStatuses.map(Ie=>(0,ge.jsx)(fe.Item,{onClick:()=>{J(`${z}?${Ie}`)},children:zL[Ie]},Ie))]})]}),!ve&&!p&&!d&&e.availableStatuses.includes("draft")&&(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)("span",{className:or.root.description.separator()}),(0,ge.jsx)("div",{className:or.root.description.action(),children:"A newer draft version is available"})]}),!ve&&a&&!s&&!p&&(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)("span",{className:or.root.description.separator()}),(0,ge.jsx)("div",{className:or.root.description.action(),children:(0,ge.jsxs)(q,{center:!0,children:[(0,ge.jsx)("span",{style:{marginRight:Me(8)},children:"Translate from"}),(0,ge.jsx)(ep,{selected:e.activeVersion.locale,locales:e.translations.map(({locale:Ie})=>Ie),onChange:Ie=>{J(`${z}?from=${Ie}`)}})]})})]}),!ve&&a&&e.parentNeedsTranslation&&(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)("span",{className:or.root.description.separator()}),(0,ge.jsx)("div",{className:or.root.description.action(),children:"Translate parent page first"})]}),v==="editing"&&(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)("span",{className:or.root.description.separator()}),(0,ge.jsx)("div",{className:or.root.description.action(),children:(0,ge.jsxs)("button",{type:"button",className:or.root.description.action.button(),onClick:V,children:[(0,ge.jsx)(ee,{icon:EL}),(0,ge.jsx)("span",{children:"Discard edits"})]})})]}),(0,ge.jsx)(Tn.Right,{children:(0,ge.jsxs)(q,{center:!0,gap:12,children:[!ve&&(0,ge.jsxs)(ge.Fragment,{children:[a&&!e.parentNeedsTranslation&&(0,ge.jsx)(Jt,{icon:Ix,onClick:U,children:"Save translation"}),v==="editing"&&i&&(0,ge.jsx)(Jt,{icon:Ma,onClick:y,children:"Publish"}),!a&&!p&&i&&u==="draft"&&(0,ge.jsx)(Jt,{icon:Ma,onClick:b,className:or.root.main({unpublished:v==="unpublished"}),children:"Publish"}),r.enableDrafts&&v==="editing"&&(0,ge.jsx)(Jt,{outline:!0,icon:Ix,onClick:g,children:"Save"}),v==="revision"&&(0,ge.jsx)(Jt,{icon:Ix,onClick:x,children:"Restore"}),(0,ge.jsxs)(fe.Root,{bottom:!0,left:!0,children:[(0,ge.jsx)(fe.Trigger,{className:or.root.more(v),children:(0,ge.jsx)(ee,{icon:SL})}),(0,ge.jsxs)(fe.Items,{children:[!f&&!h&&(0,ge.jsxs)(fe.Item,{onClick:()=>H(!N),children:[N?"Hide":"Show"," history"]}),pe]})]})]}),(0,ge.jsx)("button",{type:"button",title:"Display preview",onClick:()=>te(),style:{cursor:"pointer"},children:(0,ge.jsx)(ee,{icon:xL,style:{transform:`rotate(${Y?0:180}deg)`}})})]})})]})})]})}w();var HL=A($(),1),ki=A(P(),1),Tse={root:"alinea-EntryHistory",list:"alinea-EntryHistory-list","list-revision":"alinea-EntryHistory-list-revision",listRevision:"alinea-EntryHistory-list-revision","is-selected":"alinea-EntryHistory-is-selected",isSelected:"alinea-EntryHistory-is-selected"},g3=j(Tse);function jL({editor:e}){return(0,ki.jsx)("header",{className:g3.root(),children:(0,ki.jsx)(HL.Suspense,{fallback:(0,ki.jsx)(ir,{absolute:!0}),children:(0,ki.jsx)(Dse,{editor:e})})})}function Dse({editor:e}){let t=oe(e.revisionsAtom);return(0,ki.jsx)("ul",{className:g3.list(),children:t.map((r,n)=>(0,ki.jsx)(Ise,{editor:e,revision:r,isCurrent:n===0},r.ref))})}function Ise({editor:e,revision:t,isCurrent:r}){let n=new Date(t.createdAt),[i,o]=mo(e.previewRevision);return(0,ki.jsx)("button",{type:"button",title:t.description,className:g3.list.revision({selected:i?i.ref===t.ref:r,current:r}),onClick:()=>o(r?void 0:t),children:(0,ki.jsxs)(q,{center:!0,gap:10,children:[r?(0,ki.jsx)(ee,{icon:Ax,size:18}):(0,ki.jsx)(ee,{icon:Dx,size:18}),(0,ki.jsxs)(ot,{align:"flex-start",children:[(0,ki.jsx)("b",{children:n.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}),(0,ki.jsx)(ta,{children:t.user?.name})]})]})},t.ref)}w();var mc=A(P(),1),Fse={root:"alinea-EntryNotice","root-title":"alinea-EntryNotice-title",rootTitle:"alinea-EntryNotice-title","is-draft":"alinea-EntryNotice-is-draft",isDraft:"alinea-EntryNotice-is-draft","is-published":"alinea-EntryNotice-is-published",isPublished:"alinea-EntryNotice-is-published","is-archived":"alinea-EntryNotice-is-archived",isArchived:"alinea-EntryNotice-is-archived","is-publishing":"alinea-EntryNotice-is-publishing",isPublishing:"alinea-EntryNotice-is-publishing"},$L=j(Fse);function UL({icon:e,title:t,variant:r,children:n}){return(0,mc.jsx)(La,{className:$L.root(r),children:(0,mc.jsxs)(q,{center:!0,gap:22,children:[e&&(0,mc.jsx)("div",{children:(0,mc.jsx)(ee,{icon:e,size:24})}),(0,mc.jsxs)("div",{children:[(0,mc.jsx)("h2",{className:$L.root.title(),children:t}),n]})]})})}w();var Ox=A($(),1);w();w();var Pl=(e=>(e.Ping="[alinea-ping]",e.Pong="[alinea-pong]",e.Reload="[alinea-reload]",e.Refetch="[alinea-refetch]",e.Previous="[alinea-previous]",e.Next="[alinea-next]",e.Preview="[alinea-preview]",e.Meta="[alinea-meta]",e))(Pl||{});w();var v3=A(P(),1);function gc(e){return(0,v3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,v3.jsx)("path",{fill:"currentColor",d:"M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42a.996.996 0 0 0-1.41 0l-6.59 6.59a.996.996 0 0 0 0 1.41l6.59 6.59a.996.996 0 1 0 1.41-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"})})}w();var y3=A(P(),1);function WL(e){return(0,y3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,y3.jsx)("path",{fill:"currentColor",d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z"})})}w();var w3=A(P(),1);function qL(e){return(0,w3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,w3.jsx)("path",{fill:"currentColor",d:"M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71l-.64.65z"})})}var Ai=A($(),1),Mr=A(P(),1),Rse={root:"alinea-BrowserPreview","root-bar":"alinea-BrowserPreview-bar",rootBar:"alinea-BrowserPreview-bar","root-iframe":"alinea-BrowserPreview-iframe",rootIframe:"alinea-BrowserPreview-iframe","root-loader":"alinea-BrowserPreview-loader",rootLoader:"alinea-BrowserPreview-loader","is-loading":"alinea-BrowserPreview-is-loading",isLoading:"alinea-BrowserPreview-is-loading",mini:"alinea-BrowserPreview-mini","mini-footer":"alinea-BrowserPreview-mini-footer",miniFooter:"alinea-BrowserPreview-mini-footer"},_x=j(Rse),b3=(0,Ai.createContext)({setMetadata:()=>{}}),KL=({entryId:e,children:t})=>{let[r,n]=(0,Ai.useState)();return(0,Ai.useEffect)(()=>{n(void 0)},[e]),(0,Mr.jsx)(b3.Provider,{value:{setMetadata:n,metadata:r},children:t})};function YL(){return(0,Ai.useContext)(b3)?.metadata}function GL({url:e,registerLivePreview:t}){let r=(0,Ai.useContext)(b3),n=(0,Ai.useRef)(null),[i,o]=(0,Ai.useState)(!0),a=(0,Ai.useRef)(!1),s=new URL(e,window.location.href),l=`${s.protocol}//${s.host}`;(0,Ai.useEffect)(()=>{o(!0);function p(m){!m.data||typeof m.data!="object"||(m.data.action===Pl.Ping&&(console.info("[Alinea preview window detected]"),a.current=!0,t({preview(v){u({action:Pl.Preview,payload:v})}}),u({action:Pl.Pong})),m.data.action===Pl.Meta&&r.setMetadata(m.data))}return addEventListener("message",p),()=>removeEventListener("message",p)},[e]),(0,Ai.useEffect)(()=>{if(i){let p=setTimeout(()=>o(!1),3e3);return()=>clearTimeout(p)}},[i]);function u(p){n.current?.contentWindow?.postMessage(p,l)}function c(){u({action:Pl.Previous})}function d(){u({action:Pl.Next})}function f(){a.current?u({action:Pl.Reload}):n.current?.setAttribute("src",e),o(!0)}let h=(0,Mr.jsx)(Mr.Fragment,{children:(0,Mr.jsxs)("div",{style:{flexGrow:1,position:"relative",overflow:"hidden"},children:[(0,Mr.jsx)("div",{className:_x.root.loader({loading:i}),children:(0,Mr.jsx)(ir,{})}),(0,Mr.jsx)("iframe",{ref:n,className:_x.root.iframe(),allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-top-navigation allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-downloads allow-pointer-lock",src:e,onLoad:()=>{o(!1)}},e)]})});return(0,Mr.jsxs)("div",{className:_x.root(),children:[(0,Mr.jsx)(Mo.Root,{className:_x.root.bar(),children:(0,Mr.jsxs)(q,{style:{height:"100%"},children:[(0,Mr.jsx)(Mo.Item,{as:"button",icon:gc,onClick:c}),(0,Mr.jsx)(Mo.Item,{as:"button",icon:Gy,onClick:d}),(0,Mr.jsx)(Mo.Item,{as:"button",icon:qL,onClick:f}),(0,Mr.jsx)(Mo.Item,{full:!0,style:{flexGrow:1,minWidth:0},children:(0,Mr.jsx)(Et.Monospace,{style:{display:"block",width:"100%",background:"var(--alinea-highlight)",padding:`${Me(6)} ${Me(15)}`,borderRadius:Me(8)},children:(0,Mr.jsxs)(q,{gap:8,center:!0,children:[(0,Mr.jsx)(WL,{style:{flexShrink:0}}),(0,Mr.jsx)("span",{style:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e})]})})}),(0,Mr.jsx)(Mo.Item,{as:"a",icon:Ah,href:`${e}&full`,target:"_blank"})]})}),h]})}var Dg=A(P(),1);function JL({editor:e,preview:t}){return t?typeof t=="boolean"?(0,Dg.jsx)(Mse,{editor:e}):(0,Dg.jsx)(_se,{editor:e,preview:t}):null}function Mse({editor:e}){let t=dr(),r=oe(Xf(e.previewPayload)),i=`?preview=${oe(e.previewToken)}`,[o,a]=(0,Ox.useState)(void 0);(0,Ox.useEffect)(()=>{r&&o?.preview(r)},[r]);let s=new URL(t.handlerUrl??"",Vr.baseUrl(t)??location.href),l=new URL(i,s);return(0,Dg.jsx)(GL,{url:l.toString(),registerLivePreview:a})}function _se({editor:e,preview:t}){let r=oe(e.draftEntry);return(0,Dg.jsx)(t,{entry:r})}w();var Zi=A(P(),1),Ose={root:"alinea-EntryTitle","root-inner":"alinea-EntryTitle-inner",rootInner:"alinea-EntryTitle-inner","root-title":"alinea-EntryTitle-title",rootTitle:"alinea-EntryTitle-title"},x3=j(Ose);function Bx({children:e,editor:t,backLink:r}){let n=oe(t.selectedStatus),i=t.statuses[n],o=t.type,a=oe(t.activeTitle),s=n===t.activeStatus?a:i.title;return(0,Zi.jsxs)(Zi.Fragment,{children:[(0,Zi.jsx)(ji,{children:(0,Zi.jsx)("title",{children:s})}),(0,Zi.jsxs)("div",{className:x3.root(),children:[(0,Zi.jsxs)(q,{center:!0,gap:8,className:x3.root.inner(),children:[r&&(0,Zi.jsx)(Pw,{icon:gc,href:r,style:{marginLeft:Me(-4)}}),(0,Zi.jsxs)(q,{center:!0,gap:12,children:[(0,Zi.jsx)("h1",{className:x3.root.title(),children:(0,Zi.jsx)("span",{children:s})}),(0,Zi.jsx)($i,{children:me.label(o)})]})]}),e]})]})}w();var E3=A(P(),1),Bse={root:"alinea-FieldToolbar","root-inner":"alinea-FieldToolbar-inner",rootInner:"alinea-FieldToolbar-inner","is-active":"alinea-FieldToolbar-is-active",isActive:"alinea-FieldToolbar-is-active"},QL=j(Bse),Ld;(e=>{({Provider:e.Provider,Portal:e.Portal,Slot:e.Slot,useSlots:e.useSlots}=Hu());let t=e.Portal;function r(n){let{shown:i}=(0,e.useSlots)();return(0,E3.jsx)(Mo.Root,{...n,className:QL.root.mergeProps(n)({active:i}),children:(0,E3.jsx)(t,{className:QL.root.inner()})})}e.Root=r})(Ld||(Ld={}));var _e=A(P(),1),Nse={root:"alinea-EntryEdit","root-tabs":"alinea-EntryEdit-tabs",rootTabs:"alinea-EntryEdit-tabs"},XL=j(Nse);function Pse({editor:e}){let t=oe(e.draftEntry),n=oe(e.hasChanges)?e.activeVersion:e.statuses[e.availableStatuses.find(i=>i!=="draft")];return(0,_e.jsx)(yL,{entryA:n,entryB:t})}function S3({editor:e}){let{alineaDev:t}=Xr(),r=Fr(),n=dr(),{isPreviewOpen:i}=np(),o=Bt(),[a,s]=(0,Ns.useState)(),l=oe(e.editMode),u=oe(e.hasChanges),c=oe(e.selectedStatus),d=(0,Ns.useRef)(null);(0,Ns.useEffect)(()=>{d.current?.scrollTo({top:0})},[e.entryId,l,c]);let{isBlocking:f,nextRoute:h,confirm:p,cancel:m}=zN("Are you sure you want to discard changes?",!e.untranslated&&u),v=h?.data.editor?.entryId!==e.entryId,g=oe(e.form),y=rt(e.saveDraft),b=rt(e.publishDraft),x=rt(e.publishEdits),S=rt(e.discardEdits),E=oe(e.showHistory),I=rt(e.saveTranslation),k=oe(e.previewRevision),D=e.preview,F=()=>I(r);(0,Ns.useEffect)(()=>{function V(U){if((U.ctrlKey||U.metaKey)&&U.key==="s"){if(U.preventDefault(),k){alert("todo");return}e.untranslated&&u?F():n.enableDrafts?u?y():c==="draft"&&b():u&&x()}}return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[e,u,y,n.enableDrafts]);let T=me.sections(e.type),R=T.length===1&&T[0][cr.Data]instanceof LA,M=(R?T[0][cr.Data]:void 0)?.types.filter(V=>!me.isHidden(V)),L=0;return R&&M&&a!==void 0&&(L=a,a>=M.length&&(L=0)),(0,Ns.useEffect)(()=>{f&&!v&&p?.()},[f,v,p]),(0,_e.jsxs)(KL,{entryId:e.entryId,children:[t&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(Hr.Slot,{children:(0,_e.jsxs)(Hr.Status,{children:["File path: ",e.activeVersion.filePath]})}),(0,_e.jsx)(Hr.Slot,{children:(0,_e.jsxs)(Hr.Status,{children:["Parent dir: ",e.activeVersion.parentDir]})}),(0,_e.jsx)(Hr.Slot,{children:(0,_e.jsxs)(Hr.Status,{children:["Children dir: ",e.activeVersion.childrenDir]})}),(0,_e.jsx)(Hr.Slot,{children:(0,_e.jsxs)(Hr.Status,{children:["Url: ",e.activeVersion.url]})}),(0,_e.jsx)(Hr.Slot,{children:(0,_e.jsx)(Hr.Status,{icon:kd,children:e.activeVersion.fileHash})}),(0,_e.jsx)(Hr.Slot,{children:(0,_e.jsx)(Hr.Status,{icon:pP,children:e.activeVersion.rowHash})})]}),f&&v&&(0,_e.jsx)(Go,{open:!0,onClose:()=>m(),children:(0,_e.jsxs)(ot,{gap:30,children:[(0,_e.jsxs)("p",{children:["This document was changed,",(0,_e.jsx)("br",{}),"would you like to save your changes?"]}),(0,_e.jsx)(q,{as:"footer",children:(0,_e.jsx)(Tn.Right,{children:(0,_e.jsxs)(q,{gap:16,children:[(0,_e.jsx)(Jt,{outline:!0,type:"button",onClick:()=>{S(),p()},children:"Discard my changes"}),n.enableDrafts?(0,_e.jsx)(Jt,{onClick:()=>{y(),p()},children:"Save as draft"}):(0,_e.jsx)(Jt,{onClick:()=>{x(),p()},children:"Publish changes"})]})})})]})}),(0,_e.jsx)(Fs,{scrollRef:d,className:XL.root(),children:(0,_e.jsxs)(Ld.Provider,{children:[(0,_e.jsx)(up,{editor:e}),E&&(0,_e.jsx)(jL,{editor:e}),(0,_e.jsxs)(Zo.Root,{style:{flex:1},selectedIndex:L,onChange:V=>s(V),children:[(0,_e.jsx)(Bx,{editor:e,backLink:e.activeVersion.parentId?o.entry({id:e.activeVersion.parentId,workspace:e.activeVersion.workspace}):o.entry({id:void 0}),children:R&&(0,_e.jsx)("div",{className:XL.root.tabs(),children:(0,_e.jsx)(dT,{backdrop:!1,section:T[0]})})}),(0,_e.jsxs)(Fs.Container,{children:[e.untranslated&&(0,_e.jsx)("div",{children:(0,_e.jsx)(UL,{icon:Fh,title:"Untranslated",variant:"untranslated",children:e.parentNeedsTranslation?"Translate the parent page first.":"Enter the details below and save to start translating."})}),(0,_e.jsx)(vP,{editor:e,children:(0,_e.jsx)(Pa,{name:"input form",children:l===t3.Diff?(0,_e.jsx)(Pse,{editor:e}):R&&M?(0,_e.jsx)(Zo.Panels,{children:M.map((V,U)=>(0,_e.jsx)(bd,{form:g,children:(0,_e.jsx)(Zo.Panel,{unmount:!1,tabIndex:U,children:(0,_e.jsx)(jr,{type:V})})},U))}):(0,_e.jsx)(ot,{gap:18,children:(0,_e.jsx)(jr,{form:g})})})})]})]}),(0,_e.jsx)(Ld.Root,{})]})}),D&&(0,_e.jsx)(J9,{children:(0,_e.jsx)(Ns.Suspense,{children:(0,_e.jsx)(JL,{preview:D,editor:e})})})]})}w();var A3=A($(),1);w();function ZL(e,t){let r;return function(...i){clearTimeout(r),r=setTimeout(()=>{e(...i)},t)}}w();var C3=A(P(),1);function qa(e){return(0,C3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,C3.jsx)("path",{fill:"currentColor",d:"M9.29 15.88L13.17 12L9.29 8.12a.996.996 0 1 1 1.41-1.41l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3a.996.996 0 0 1-1.41 0c-.38-.39-.39-1.03 0-1.42z"})})}w();var Ig=A(P(),1);function e7(e){return(0,Ig.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",opacity:".9",...e,children:[(0,Ig.jsx)("path",{fill:"currentColor",d:"M13 4H6v16h12V9h-5zm3 14H8v-2h8zm0-6v2H8v-2z",opacity:".1"}),(0,Ig.jsx)("path",{fill:"currentColor",d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5z"})]})}w();var Fg=A(P(),1);function t7(e){return(0,Fg.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",opacity:".9",...e,children:[(0,Fg.jsx)("path",{fill:"currentColor",d:"m11.17 8l-.58-.59L9.17 6H4v12h16V8h-8z",opacity:".1"}),(0,Fg.jsx)("path",{fill:"currentColor",d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V6h5.17l1.41 1.41l.59.59H20z"})]})}var _o=A($(),1);w();w();Vc();var Nx=Sn({"node_modules/dataloader/index.js"(e,t){"use strict";var r=function(){function m(g,y){if(typeof g!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+g+"."));this._batchLoadFn=g,this._maxBatchSize=u(y),this._batchScheduleFn=c(y),this._cacheKeyFn=d(y),this._cacheMap=f(y),this._batch=null,this.name=h(y)}var v=m.prototype;return v.load=function(y){if(y==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(y)+"."));var b=o(this),x=this._cacheMap,S=this._cacheKeyFn(y);if(x){var E=x.get(S);if(E){var I=b.cacheHits||(b.cacheHits=[]);return new Promise(function(D){I.push(function(){D(E)})})}}b.keys.push(y);var k=new Promise(function(D,F){b.callbacks.push({resolve:D,reject:F})});return x&&x.set(S,k),k},v.loadMany=function(y){if(!p(y))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+y+"."));for(var b=[],x=0;x<y.length;x++)b.push(this.load(y[x]).catch(function(S){return S}));return Promise.all(b)},v.clear=function(y){var b=this._cacheMap;if(b){var x=this._cacheKeyFn(y);b.delete(x)}return this},v.clearAll=function(){var y=this._cacheMap;return y&&y.clear(),this},v.prime=function(y,b){var x=this._cacheMap;if(x){var S=this._cacheKeyFn(y);if(x.get(S)===void 0){var E;b instanceof Error?(E=Promise.reject(b),E.catch(function(){})):E=Promise.resolve(b),x.set(S,E)}}return this},m}(),n=typeof C=="object"&&typeof C.nextTick=="function"?function(m){i||(i=Promise.resolve()),i.then(function(){C.nextTick(m)})}:typeof setImmediate=="function"?function(m){setImmediate(m)}:function(m){setTimeout(m)},i;function o(m){var v=m._batch;if(v!==null&&!v.hasDispatched&&v.keys.length<m._maxBatchSize)return v;var g={hasDispatched:!1,keys:[],callbacks:[]};return m._batch=g,m._batchScheduleFn(function(){a(m,g)}),g}function a(m,v){if(v.hasDispatched=!0,v.keys.length===0){l(v);return}var g;try{g=m._batchLoadFn(v.keys)}catch(y){return s(m,v,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(y)+".")))}if(!g||typeof g.then!="function")return s(m,v,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(g)+".")));g.then(function(y){if(!p(y))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(y)+"."));if(y.length!==v.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(v.keys))+(`

Values:
`+String(y)));l(v);for(var b=0;b<v.callbacks.length;b++){var x=y[b];x instanceof Error?v.callbacks[b].reject(x):v.callbacks[b].resolve(x)}}).catch(function(y){s(m,v,y)})}function s(m,v,g){l(v);for(var y=0;y<v.keys.length;y++)m.clear(v.keys[y]),v.callbacks[y].reject(g)}function l(m){if(m.cacheHits)for(var v=0;v<m.cacheHits.length;v++)m.cacheHits[v]()}function u(m){var v=!m||m.batch!==!1;if(!v)return 1;var g=m&&m.maxBatchSize;if(g===void 0)return 1/0;if(typeof g!="number"||g<1)throw new TypeError("maxBatchSize must be a positive number: "+g);return g}function c(m){var v=m&&m.batchScheduleFn;if(v===void 0)return n;if(typeof v!="function")throw new TypeError("batchScheduleFn must be a function: "+v);return v}function d(m){var v=m&&m.cacheKeyFn;if(v===void 0)return function(g){return g};if(typeof v!="function")throw new TypeError("cacheKeyFn must be a function: "+v);return v}function f(m){var v=!m||m.cache!==!1;if(!v)return null;var g=m&&m.cacheMap;if(g===void 0)return new Map;if(g!==null){var y=["get","set","delete","clear"],b=y.filter(function(x){return g&&typeof g[x]!="function"});if(b.length!==0)throw new TypeError("Custom cacheMap missing methods: "+b.join(", "))}return g}function h(m){return m&&m.name?m.name:null}function p(m){return typeof m=="object"&&m!==null&&typeof m.length=="number"&&(m.length===0||m.length>0&&Object.prototype.hasOwnProperty.call(m,m.length-1))}t.exports=r}});w();var r7=class Px extends Promise{constructor(t){super(r=>{r()}),this._executor=t}static from(t){return new Px(r=>{r(t())})}static resolve(t){return new Px(r=>{r(t)})}static reject(t){return new Px((r,n)=>{n(t)})}then(t,r){return this._promise=this._promise||new Promise(this._executor),this._promise.then(t,r)}catch(t){return this._promise=this._promise||new Promise(this._executor),this._promise.catch(t)}};Vc();w();w();function n7(e="<mark>",t="</mark>",r="...",n=64){return new pt({type:"call",method:"snippet",args:[new pt({type:"value",value:e}),new pt({type:"value",value:t}),new pt({type:"value",value:r}),new pt({type:"value",value:n})]})}var WNe=G.id,qNe=G.title,KNe=G.type,YNe=G.index,GNe=G.workspace,JNe=G.root,QNe=G.status,XNe=G.parentId,ZNe=G.locale,ePe=G.path,tPe=G.url;function Lx(e){return{edge:"parents",...e}}function i7(e){return{edge:"translations",...e}}var o7=A($(),1);var Lse=as(Nx(),1),vc="@alinea/root",zse=Q(e=>{let{schema:t}=e(Yn);return ue(t).filter(([r,n])=>!me.isHidden(n)).map(([r])=>r)});async function Vse(e,t,r,n,i,o){return!!await e.first({workspace:r,root:n,parentId:i,locale:t,filter:{_type:{in:o}},status:"preferDraft"})}function a7(e,t,r,n,i,o,a){return r7.from(async()=>{let s=await e.find({select:{id:G.id,locale:G.locale},orderBy:a,workspace:r,root:n,parentId:i,filter:{_type:{in:o}},status:"preferDraft"}),l=new Set,u=new Set(s.filter(d=>d.locale===t).map(d=>d.id)),c=s.filter(d=>u.has(d.id)?d.locale===t:l.has(d.id)?!1:(l.add(d.id),!0));return[...new Set(c.map(d=>d.id))]})}async function Hse(e,t,r,n,i){let o=e.config.workspaces[r][n],a=ln(o).orderChildrenBy;return{id:vc,index:"",type:vc,isFolder:!0,isRoot:!0,entries:[],hasChildren:!0,children:a7(e,t,r,n,null,i,a)}}var jse=Q(e=>{let t=e(gt),r=e(yd),n=e(zse),{schema:i}=e(Yn),o=e(wh),a=e(Jo);return new Lse.default(async s=>{let l=new Map,u=s.filter(h=>h!==vc),c={id:G.id,type:G.type,title:G.title,status:G.status,locale:G.locale,workspace:G.workspace,main:G.main,root:G.root,path:G.path,parents:Lx({select:{path:G.path,type:G.type}})},d=await t.find({groupBy:G.id,select:{id:G.id,index:G.index,type:G.type,data:c,translations:i7({select:c})},id:{in:u},status:"preferDraft"});for(let h of d){let p=h.data.parents.length>0?!tt(i[h.data.parents.at(-1).type]).orderChildrenBy:!0,m=i[h.type],v=tt(m).orderChildrenBy,g=a7(t,r,h.data.workspace,h.data.root,h.id,n,v),y=await Vse(t,r,h.data.workspace,h.data.root,h.id,n),b=[h.data].concat(h.translations);l.set(h.id,{id:h.id,type:h.type,index:h.index,entries:b,canDrag:p,hasChildren:y,children:g})}let f=[];for(let h of s){if(h===vc){f.push(await Hse(t,r,a.name,o.name,n));continue}let p=l.get(h);if(!p){f.push(void 0);continue}let m=p.entries[0].type,v=i[m],g=me.isContainer(v);f.push({...p,isFolder:g})}return f})});function s7(){let e=oe(jse),t=oe(gt);return(0,o7.useMemo)(()=>({canDrag(r){return r.every(n=>n.getItemData().canDrag)},canDrop(r,n){let{item:i}=n;if(r.length!==1)return!1;let[o]=r,a=o.getParent()!==i,s=i.getItemData(),l=o.getItemData();if(!l)return!1;let u=t.config.schema[l.type];if(!s)return!1;if(s.type===vc){let f=l.entries[0],h=t.config.workspaces[f.workspace][f.root],p=ln(h).orderChildrenBy;return a?Vr.rootContains(t.config,h,u):!p}let c=t.config.schema[s.type],d=tt(c).orderChildrenBy;return a?Vr.typeContains(t.config,c,u):!d},onDrop(r,n){let{item:i}=n;if(r.length!==1)return;let[o]=r,a=i.getChildren(),s="childIndex"in n?a[n.childIndex-1]:null,l=s?s.getId():null,u=o.getParent()!==i,c=i.getId().startsWith("@alinea")?o.getItemData().entries[0].root:void 0,d=!c&&u?i.getId():void 0;t.move({id:o.getId(),after:l,toParent:d,toRoot:c})},async getItem(r){let n=await e.clear(r).load(r);if(!n)throw new Error(`Item ${r} not found`);return n},async getChildren(r){return this.getItem(r).then(n=>n?.children??[])}}),[e])}var _r=A(P(),1),p7=A($(),1);function $se(e,t){return typeof e=="function"?e(t):e}function cp(e,t){return r=>{t.setState(n=>Object.assign(Object.assign({},n),{[e]:$se(r,n[e])}))}}var l7=(e,t=100,r=1e3)=>new Promise(n=>{let i,o=setInterval(()=>{e()&&(n(),clearInterval(o),clearTimeout(i))},t);i=setTimeout(()=>{clearInterval(o)},r)}),u7=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})},Use={key:"tree",getInitialState:e=>Object.assign({expandedItems:[],focusedItem:null},e),getDefaultConfig:(e,t)=>Object.assign({setExpandedItems:cp("expandedItems",t),setFocusedItem:cp("focusedItem",t)},e),stateHandlerNames:{expandedItems:"setExpandedItems",focusedItem:"setFocusedItem"},treeInstance:{getItemsMeta:({tree:e})=>{let{rootItemId:t}=e.getConfig(),{expandedItems:r}=e.getState(),n=[],i=new Set(r),o=(l,u,c,d,f)=>{var h;if(n.push({itemId:l,level:c,index:n.length,parentId:u,setSize:d,posInSet:f}),i.has(l)){let p=(h=e.retrieveChildrenIds(l))!==null&&h!==void 0?h:[],m=0;for(let v of p)o(v,l,c+1,p.length,m++)}},a=e.retrieveChildrenIds(t),s=0;for(let l of a)o(l,t,0,a.length,s++);return n},getFocusedItem:({tree:e})=>{var t,r;return(r=e.getItemInstance((t=e.getState().focusedItem)!==null&&t!==void 0?t:""))!==null&&r!==void 0?r:e.getItems()[0]},focusNextItem:({tree:e})=>{var t;let{index:r}=e.getFocusedItem().getItemMeta(),n=Math.min(r+1,e.getItems().length-1);(t=e.getItems()[n])===null||t===void 0||t.setFocused()},focusPreviousItem:({tree:e})=>{var t;let{index:r}=e.getFocusedItem().getItemMeta(),n=Math.max(r-1,0);(t=e.getItems()[n])===null||t===void 0||t.setFocused()},updateDomFocus:({tree:e})=>{setTimeout(()=>u7(void 0,void 0,void 0,function*(){var t,r;let n=e.getFocusedItem();(r=(t=e.getConfig()).scrollToItem)===null||r===void 0||r.call(t,n),yield l7(()=>n.getElement()!==null,20);let i=n.getElement();i&&i.focus()}))},getContainerProps:({prev:e,tree:t},r)=>Object.assign(Object.assign({},e?.()),{role:"tree","aria-label":r??"",ref:t.registerElement}),isSearchOpen:()=>!1},itemInstance:{scrollTo:(e,t)=>u7(void 0,[e,t],void 0,function*({tree:r,item:n},i){var o,a,s;(a=(o=r.getConfig()).scrollToItem)===null||a===void 0||a.call(o,n),yield l7(()=>n.getElement()!==null,20),(s=n.getElement())===null||s===void 0||s.scrollIntoView(i)}),getId:({itemId:e})=>e,getProps:({item:e,prev:t})=>{let r=e.getItemMeta();return Object.assign(Object.assign({},t?.()),{ref:e.registerElement,role:"treeitem","aria-setsize":r.setSize,"aria-posinset":r.posInSet,"aria-selected":"false","aria-label":e.getItemName(),"aria-level":r.level,tabIndex:e.isFocused()?0:-1,onClick:n=>{e.setFocused(),e.primaryAction(),!(n.ctrlKey||n.shiftKey||n.metaKey)&&e.isFolder()&&(e.isExpanded()?e.collapse():e.expand())}})},expand:({tree:e,item:t,itemId:r})=>{var n;t.isFolder()&&(!((n=e.getState().loadingItemChildrens)===null||n===void 0)&&n.includes(r)||(e.applySubStateUpdate("expandedItems",i=>[...i,r]),e.rebuildTree()))},collapse:({tree:e,item:t,itemId:r})=>{t.isFolder()&&(e.applySubStateUpdate("expandedItems",n=>n.filter(i=>i!==r)),e.rebuildTree())},getItemData:({tree:e,itemId:t})=>e.retrieveItemData(t),equals:({item:e},t)=>e.getId()===t?.getId(),isExpanded:({tree:e,itemId:t})=>e.getState().expandedItems.includes(t),isDescendentOf:({item:e},t)=>{let r=e.getParent();return!!(r?.getId()===t||r?.isDescendentOf(t))},isFocused:({tree:e,item:t,itemId:r})=>e.getState().focusedItem===r||e.getState().focusedItem===null&&t.getItemMeta().index===0,isFolder:({tree:e,item:t})=>t.getItemMeta().level===-1||e.getConfig().isItemFolder(t),getItemName:({tree:e,item:t})=>e.getConfig().getItemName(t),setFocused:({tree:e,itemId:t})=>{e.applySubStateUpdate("focusedItem",t)},primaryAction:({tree:e,item:t})=>{var r,n;return(n=(r=e.getConfig()).onPrimaryAction)===null||n===void 0?void 0:n.call(r,t)},getParent:({tree:e,item:t})=>t.getItemMeta().parentId?e.getItemInstance(t.getItemMeta().parentId):void 0,getIndexInParent:({item:e})=>e.getItemMeta().posInSet,getChildren:({tree:e,itemId:t})=>e.retrieveChildrenIds(t).map(r=>e.getItemInstance(r)),getTree:({tree:e})=>e,getItemAbove:({tree:e,item:t})=>e.getItems()[t.getItemMeta().index-1],getItemBelow:({tree:e,item:t})=>e.getItems()[t.getItemMeta().index+1]},hotkeys:{focusNextItem:{hotkey:"ArrowDown",canRepeat:!0,preventDefault:!0,isEnabled:e=>{var t,r;return!((r=(t=e.isSearchOpen)===null||t===void 0?void 0:t.call(e))!==null&&r!==void 0&&r)&&!e.getState().dnd},handler:(e,t)=>{t.focusNextItem(),t.updateDomFocus()}},focusPreviousItem:{hotkey:"ArrowUp",canRepeat:!0,preventDefault:!0,isEnabled:e=>{var t,r;return!((r=(t=e.isSearchOpen)===null||t===void 0?void 0:t.call(e))!==null&&r!==void 0&&r)&&!e.getState().dnd},handler:(e,t)=>{t.focusPreviousItem(),t.updateDomFocus()}},expandOrDown:{hotkey:"ArrowRight",canRepeat:!0,handler:(e,t)=>{let r=t.getFocusedItem();r.isExpanded()||!r.isFolder()?(t.focusNextItem(),t.updateDomFocus()):r.expand()}},collapseOrUp:{hotkey:"ArrowLeft",canRepeat:!0,handler:(e,t)=>{var r;let n=t.getFocusedItem();(!n.isExpanded()||!n.isFolder())&&n.getItemMeta().level!==0?((r=n.getParent())===null||r===void 0||r.setFocused(),t.updateDomFocus()):n.collapse()}},focusFirstItem:{hotkey:"Home",handler:(e,t)=>{var r;(r=t.getItems()[0])===null||r===void 0||r.setFocused(),t.updateDomFocus()}},focusLastItem:{hotkey:"End",handler:(e,t)=>{var r;(r=t.getItems()[t.getItems().length-1])===null||r===void 0||r.setFocused(),t.updateDomFocus()}}}},Wse=(e,t,r)=>{let n={};return[n,()=>{let o=r(n);e:for(let a=0;a<e.length;a++){let s=e[a][t];if(!s)continue e;t:for(let[l,u]of Object.entries(s)){if(!u)continue t;let c=n[l];n[l]=(...d)=>u(Object.assign(Object.assign({},o),{prev:c}),...d)}}}]},qse=e=>Error(`Headless Tree: ${e}`),Kse=e=>{var t;let r=e?.map(n=>n.key);for(let n of e??[]){let i=(t=n.deps)===null||t===void 0?void 0:t.find(o=>!r?.includes(o));if(i)throw qse(`${n.key} needs ${i}`)}},Yse=e=>(t,r)=>{var n,i;return r.key&&(!((n=t.overwrites)===null||n===void 0)&&n.includes(r.key))?1:t.key&&(!((i=r.overwrites)===null||i===void 0)&&i.includes(t.key))?-1:e.indexOf(t)-e.indexOf(r)},Gse=(e=[])=>e.sort(Yse(e)),Jse=e=>{var t,r,n,i;let o=(t=e.instanceBuilder)!==null&&t!==void 0?t:Wse,a=[Use,...Gse(e.features)];Kse(a);let s=[...a],[l,u]=o(s,"treeInstance",k=>({tree:k})),c=a.reduce((k,D)=>{var F,T;return(T=(F=D.getInitialState)===null||F===void 0?void 0:F.call(D,k,l))!==null&&T!==void 0?T:k},(n=(r=e.initialState)!==null&&r!==void 0?r:e.state)!==null&&n!==void 0?n:{}),d=a.reduce((k,D)=>{var F,T;return(T=(F=D.getDefaultConfig)===null||F===void 0?void 0:F.call(D,k,l))!==null&&T!==void 0?T:k},e),f=a.reduce((k,D)=>Object.assign(Object.assign({},k),D.stateHandlerNames),{}),h,p={current:{}},m={},v=[],g={},y={},b={},x={},S=()=>{v=[],b={};let[k,D]=o(s,"itemInstance",F=>({item:F,tree:l,itemId:d.rootItemId}));D(),m[d.rootItemId]=k,b[d.rootItemId]={itemId:d.rootItemId,index:-1,parentId:null,level:-1,posInSet:0,setSize:1};for(let F of l.getItemsMeta())if(b[F.itemId]=F,m[F.itemId])v.push(m[F.itemId]);else{let[T,R]=o(s,"itemInstance",_=>({item:_,tree:l,itemId:F.itemId}));R(),m[F.itemId]=T,v.push(T)}},E=k=>{for(let D of a)k(D)},I={key:"main",treeInstance:{getState:()=>c,setState:({},k)=>{var D;(D=d.setState)===null||D===void 0||D.call(d,c)},applySubStateUpdate:({},k,D)=>{c[k]=typeof D=="function"?D(c[k]):D;let F=d[f[k]];F?.(c[k])},rebuildTree:()=>{var k;S(),(k=d.setState)===null||k===void 0||k.call(d,c)},getConfig:()=>d,setConfig:(k,D)=>{var F,T,R;let _=typeof D=="function"?D(d):D,M=((F=_.state)===null||F===void 0?void 0:F.expandedItems)&&((T=_.state)===null||T===void 0?void 0:T.expandedItems)!==c.expandedItems;d=_,_.state&&(c=Object.assign(Object.assign({},c),_.state)),M&&(S(),(R=d.setState)===null||R===void 0||R.call(d,c))},getItemInstance:({},k)=>m[k],getItems:()=>v,registerElement:({},k)=>{h!==k&&(h&&!k?E(D=>{var F;return(F=D.onTreeUnmount)===null||F===void 0?void 0:F.call(D,l,h)}):!h&&k&&E(D=>{var F;return(F=D.onTreeMount)===null||F===void 0?void 0:F.call(D,l,k)}),h=k)},getElement:()=>h,getDataRef:()=>p,getHotkeyPresets:()=>x},itemInstance:{registerElement:({itemId:k,item:D},F)=>{if(g[k]===F)return;let T=g[k];T&&!F?E(R=>{var _;return(_=R.onItemUnmount)===null||_===void 0?void 0:_.call(R,D,T,l)}):!T&&F&&E(R=>{var _;return(_=R.onItemMount)===null||_===void 0?void 0:_.call(R,D,F,l)}),g[k]=F},getElement:({itemId:k})=>g[k],getDataRef:({itemId:k})=>{var D;return(D=y[k])!==null&&D!==void 0?D:y[k]={current:{}}},getItemMeta:({itemId:k})=>b[k]}};s.unshift(I);for(let k of s)Object.assign(x,(i=k.hotkeys)!==null&&i!==void 0?i:{});return u(),S(),l},Qse={key:"selection",getInitialState:e=>Object.assign({selectedItems:[]},e),getDefaultConfig:(e,t)=>Object.assign({setSelectedItems:cp("selectedItems",t)},e),stateHandlerNames:{selectedItems:"setSelectedItems"},treeInstance:{setSelectedItems:({tree:e},t)=>{e.applySubStateUpdate("selectedItems",t)},getSelectedItems:({tree:e})=>e.getState().selectedItems.map(e.getItemInstance)},itemInstance:{select:({tree:e,itemId:t})=>{let{selectedItems:r}=e.getState();e.setSelectedItems(r.includes(t)?r:[...r,t])},deselect:({tree:e,itemId:t})=>{let{selectedItems:r}=e.getState();e.setSelectedItems(r.filter(n=>n!==t))},isSelected:({tree:e,item:t})=>{let{selectedItems:r}=e.getState();return r.includes(t.getItemMeta().itemId)},selectUpTo:({tree:e,item:t},r)=>{let n=t.getItemMeta().index,i=e.getFocusedItem().getItemMeta().index,[o,a]=n<i?[n,i]:[i,n],s=e.getItems().slice(o,a+1).map(c=>c.getItemMeta().itemId);if(!r){e.setSelectedItems(s);return}let{selectedItems:l}=e.getState(),u=[...new Set([...l,...s])];e.setSelectedItems(u)},toggleSelect:({item:e})=>{e.isSelected()?e.deselect():e.select()},getProps:({tree:e,item:t,prev:r})=>Object.assign(Object.assign({},r?.()),{"aria-selected":t.isSelected()?"true":"false",onClick:n=>{var i,o;n.shiftKey?t.selectUpTo(n.ctrlKey||n.metaKey):n.ctrlKey||n.metaKey?t.toggleSelect():e.setSelectedItems([t.getItemMeta().itemId]),(o=(i=r?.())===null||i===void 0?void 0:i.onClick)===null||o===void 0||o.call(i,n)}})},hotkeys:{toggleSelectedItem:{hotkey:"Control+Space",preventDefault:!0,handler:(e,t)=>{t.getFocusedItem().toggleSelect()}},selectUpwards:{hotkey:"Shift+ArrowUp",handler:(e,t)=>{let r=t.getFocusedItem(),n=r.getItemAbove();n&&(r.isSelected()&&n.isSelected()?r.deselect():n.select(),n.setFocused(),t.updateDomFocus())}},selectDownwards:{hotkey:"Shift+ArrowDown",handler:(e,t)=>{let r=t.getFocusedItem(),n=r.getItemBelow();n&&(r.isSelected()&&n.isSelected()?r.deselect():n.select(),n.setFocused(),t.updateDomFocus())}},selectAll:{hotkey:"Control+a",preventDefault:!0,handler:(e,t)=>{t.setSelectedItems(t.getItems().map(r=>r.getId()))}}}},zx=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})},Xse={key:"async-data-loader",getInitialState:e=>Object.assign({loadingItemData:[],loadingItemChildrens:[]},e),getDefaultConfig:(e,t)=>Object.assign({setLoadingItemData:cp("loadingItemData",t),setLoadingItemChildrens:cp("loadingItemChildrens",t)},e),stateHandlerNames:{loadingItemData:"setLoadingItemData",loadingItemChildrens:"setLoadingItemChildrens"},treeInstance:{waitForItemDataLoaded:(e,t)=>zx(void 0,[e,t],void 0,function*({tree:r},n){r.retrieveItemData(n),r.getState().loadingItemData.includes(n)&&(yield new Promise(i=>{var o,a,s,l;let u=r.getDataRef();(o=(s=u.current).awaitingItemDataLoading)!==null&&o!==void 0||(s.awaitingItemDataLoading={}),(a=(l=u.current.awaitingItemDataLoading)[n])!==null&&a!==void 0||(l[n]=[]),u.current.awaitingItemDataLoading[n].push(i)}))}),waitForItemChildrenLoaded:(e,t)=>zx(void 0,[e,t],void 0,function*({tree:r},n){r.retrieveChildrenIds(n),r.getState().loadingItemChildrens.includes(n)&&(yield new Promise(i=>{var o,a,s,l;let u=r.getDataRef();(o=(s=u.current).awaitingItemChildrensLoading)!==null&&o!==void 0||(s.awaitingItemChildrensLoading={}),(a=(l=u.current.awaitingItemChildrensLoading)[n])!==null&&a!==void 0||(l[n]=[]),u.current.awaitingItemChildrensLoading[n].push(i)}))}),retrieveItemData:({tree:e},t)=>{var r,n,i,o,a,s;let l=e.getConfig(),u=e.getDataRef();return(r=(a=u.current).itemData)!==null&&r!==void 0||(a.itemData={}),(n=(s=u.current).childrenIds)!==null&&n!==void 0||(s.childrenIds={}),u.current.itemData[t]?u.current.itemData[t]:(e.getState().loadingItemData.includes(t)||(e.applySubStateUpdate("loadingItemData",c=>[...c,t]),zx(void 0,void 0,void 0,function*(){var c,d,f;let h=yield l.dataLoader.getItem(t);u.current.itemData[t]=h,(c=l.onLoadedItem)===null||c===void 0||c.call(l,t,h),e.applySubStateUpdate("loadingItemData",p=>p.filter(m=>m!==t)),(d=u.current.awaitingItemDataLoading)===null||d===void 0||d[t].forEach(p=>p()),(f=u.current.awaitingItemDataLoading)===null||f===void 0||delete f[t]})),(o=(i=l.createLoadingItemData)===null||i===void 0?void 0:i.call(l))!==null&&o!==void 0?o:null)},retrieveChildrenIds:({tree:e},t)=>{var r,n;let i=e.getConfig(),o=e.getDataRef();return(r=(n=o.current).childrenIds)!==null&&r!==void 0||(n.childrenIds={}),o.current.childrenIds[t]?o.current.childrenIds[t]:e.getState().loadingItemChildrens.includes(t)?[]:(e.applySubStateUpdate("loadingItemChildrens",a=>[...a,t]),zx(void 0,void 0,void 0,function*(){var a,s,l,u;let c=yield i.dataLoader.getChildren(t);o.current.childrenIds[t]=c,(a=i.onLoadedChildren)===null||a===void 0||a.call(i,t,c),e.applySubStateUpdate("loadingItemChildrens",d=>d.filter(f=>f!==t)),e.rebuildTree(),(l=(s=o.current.awaitingItemChildrensLoading)===null||s===void 0?void 0:s[t])===null||l===void 0||l.forEach(d=>d()),(u=o.current.awaitingItemChildrensLoading)===null||u===void 0||delete u[t]}),[])}},itemInstance:{isLoading:({tree:e,item:t})=>e.getState().loadingItemData.includes(t.getItemMeta().itemId)||e.getState().loadingItemChildrens.includes(t.getItemMeta().itemId),invalidateItemData:({tree:e,itemId:t})=>{var r;(r=e.getDataRef().current.itemData)===null||r===void 0||delete r[t],e.retrieveItemData(t)},invalidateChildrenIds:({tree:e,itemId:t})=>{var r;(r=e.getDataRef().current.childrenIds)===null||r===void 0||delete r[t],e.retrieveChildrenIds(t)},updateCachedChildrenIds:({tree:e,itemId:t},r)=>{let n=e.getDataRef();n.current.childrenIds[t]=r,e.rebuildTree()}}},zd;(function(e){e[e.Item=0]="Item",e[e.ExpandedFolder=1]="ExpandedFolder",e[e.LastInGroup=2]="LastInGroup"})(zd||(zd={}));var ri;(function(e){e[e.ReorderAbove=0]="ReorderAbove",e[e.ReorderBelow=1]="ReorderBelow",e[e.MakeChild=2]="MakeChild",e[e.Reparent=3]="Reparent"})(ri||(ri={}));var Vx=(e,t,r)=>{var n,i,o;let a=(n=r.getState().dnd)===null||n===void 0?void 0:n.draggedItems,s=r.getConfig();return!(a&&!(!((o=(i=s.canDrop)===null||i===void 0?void 0:i.call(s,a,t))!==null&&o!==void 0)||o)||a&&a.some(l=>t.item.getId()===l.getId()||t.item.isDescendentOf(l.getId()))||!a&&e&&s.canDropForeignDragObject&&!s.canDropForeignDragObject(e,t))},Zse=e=>e.isExpanded()?zd.ExpandedFolder:e.getParent()&&e.getIndexInParent()===e.getItemMeta().setSize-1?zd.LastInGroup:zd.Item,f7=(e,t,r)=>{var n;let i=(n=e.slice(0,t).reduce((o,a)=>a&&r?.some(s=>s.getId()===a.getId())?++o:o,0))!==null&&n!==void 0?n:0;return t-i},h7=(e,t,r,n)=>{var i,o,a,s,l;let u=r.getConfig();if(!u.canReorder)return n?{type:ri.MakeChild}:{type:ri.ReorderBelow};let c=(i=t.getElement())===null||i===void 0?void 0:i.getBoundingClientRect(),d=c?(e.clientY-c.top)/c.height:.5,f=c?e.clientX-c.left:0,h=Zse(t),p=n?(o=u.reorderAreaPercentage)!==null&&o!==void 0?o:.3:.5,m=(a=u.indent)!==null&&a!==void 0?a:20,v=n?ri.MakeChild:ri.ReorderBelow;if(h===zd.ExpandedFolder)return d<p?{type:ri.ReorderAbove}:{type:v};if(h===zd.LastInGroup&&f<t.getItemMeta().level*m){if(d<.5)return{type:ri.ReorderAbove};let g=(l=(s=t.getItemBelow())===null||s===void 0?void 0:s.getItemMeta().level)!==null&&l!==void 0?l:0;return{type:ri.Reparent,reparentLevel:Math.max(g,Math.floor(f/m))}}return d<p?{type:ri.ReorderAbove}:d>1-p?{type:ri.ReorderBelow}:{type:v}},ele=(e,t,r)=>{let n=h7(e,t,r,!0);return[t.getId(),n.type,n.type===ri.Reparent?n.reparentLevel:0].join("__")},k3=(e,t)=>t===e.getItemMeta().level?e:k3(e.getParent(),t),tle=(e,t,r)=>{let n=e.getItemMeta(),i=k3(e,t-1),a=k3(e,t).getIndexInParent()+1;return{item:i,childIndex:a,insertionIndex:f7(i.getChildren(),a,r),dragLineIndex:n.index+1,dragLineLevel:t}},Hx=(e,t,r,n=r.getConfig().canReorder)=>{var i;let o=(i=r.getState().dnd)===null||i===void 0?void 0:i.draggedItems,a=t.getItemMeta(),s=t.getParent(),l={item:t},u=s?{item:s}:null,c=u&&Vx(e.dataTransfer,u,r),d=Vx(e.dataTransfer,l,r),f=h7(e,t,r,d);if(!n&&s&&c&&f.type!==ri.MakeChild)return u;if(!n&&s&&!c)return Hx(e,s,r,!1);if(!s||f.type===ri.MakeChild)return l;if(!c)return Hx(e,s,r,!1);if(f.type===ri.Reparent)return tle(t,f.reparentLevel,o);let h=f.type===ri.ReorderAbove?0:1,p=t.getIndexInParent()+h;return{item:s,dragLineIndex:a.index+h,dragLineLevel:a.level,childIndex:p,insertionIndex:f7(s.getChildren(),p,o)}},rle=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})},nle={key:"drag-and-drop",deps:["selection"],getDefaultConfig:(e,t)=>Object.assign({canDrop:(r,n)=>n.item.isFolder(),canDropForeignDragObject:()=>!1,setDndState:cp("dnd",t),canReorder:!0},e),stateHandlerNames:{dnd:"setDndState"},treeInstance:{getDragTarget:({tree:e})=>{var t,r;return(r=(t=e.getState().dnd)===null||t===void 0?void 0:t.dragTarget)!==null&&r!==void 0?r:null},getDragLineData:({tree:e})=>{var t,r,n,i,o,a;let s=e.getDragTarget(),l=((t=s?.item.getItemMeta().level)!==null&&t!==void 0?t:0)+1,u=(r=e.getElement())===null||r===void 0?void 0:r.getBoundingClientRect();if(!s||!u||!("childIndex"in s))return null;let c=s.dragLineLevel*((n=e.getConfig().indent)!==null&&n!==void 0?n:1),d=e.getItems()[s.dragLineIndex];if(!d){let h=(o=(i=e.getItems()[s.dragLineIndex-1])===null||i===void 0?void 0:i.getElement())===null||o===void 0?void 0:o.getBoundingClientRect();if(h)return{indent:l,top:h.bottom-u.top,left:h.left+c-u.left,width:h.width-c}}let f=(a=d.getElement())===null||a===void 0?void 0:a.getBoundingClientRect();return f?{indent:l,top:f.top-u.top,left:f.left+c-u.left,width:f.width-c}:null},getDragLineStyle:({tree:e},t=-1,r=-8)=>{let n=e.getDragLineData();return n?{top:`${n.top+t}px`,left:`${n.left+r}px`,width:`${n.width-r}px`,pointerEvents:"none"}:{display:"none"}},getContainerProps:({prev:e},t)=>{let r=e?.(t);return Object.assign(Object.assign({},r),{style:Object.assign(Object.assign({},r?.style),{position:"relative"})})}},itemInstance:{getProps:({tree:e,item:t,prev:r})=>Object.assign(Object.assign({},r?.()),{draggable:!0,onDragStart:n=>{var i,o,a;let s=e.getSelectedItems(),l=s.includes(t)?s:[t],u=e.getConfig();if(s.includes(t)||e.setSelectedItems([t.getItemMeta().itemId]),!(!((o=(i=u.canDrag)===null||i===void 0?void 0:i.call(u,l))!==null&&o!==void 0)||o)){n.preventDefault();return}if(u.createForeignDragObject){let{format:c,data:d}=u.createForeignDragObject(l);(a=n.dataTransfer)===null||a===void 0||a.setData(c,d)}e.applySubStateUpdate("dnd",{draggedItems:l,draggingOverItem:e.getFocusedItem()})},onDragOver:n=>{var i,o,a;let s=e.getDataRef(),l=ele(n,t,e);if(l===s.current.lastDragCode){s.current.lastAllowDrop&&n.preventDefault();return}s.current.lastDragCode=l;let u=Hx(n,t,e);if(!(!((i=e.getState().dnd)===null||i===void 0)&&i.draggedItems)&&(!n.dataTransfer||!(!((a=(o=e.getConfig()).canDropForeignDragObject)===null||a===void 0)&&a.call(o,n.dataTransfer,u)))){s.current.lastAllowDrop=!1;return}if(!Vx(n.dataTransfer,u,e)){s.current.lastAllowDrop=!1;return}e.applySubStateUpdate("dnd",c=>Object.assign(Object.assign({},c),{dragTarget:u,draggingOverItem:t})),s.current.lastAllowDrop=!0,n.preventDefault()},onDragLeave:()=>{let n=e.getDataRef();n.current.lastDragCode="no-drag",e.applySubStateUpdate("dnd",i=>Object.assign(Object.assign({},i),{draggingOverItem:void 0,dragTarget:void 0}))},onDragEnd:n=>{var i,o,a,s;let l=(i=e.getState().dnd)===null||i===void 0?void 0:i.draggedItems;e.applySubStateUpdate("dnd",null),!(((o=n.dataTransfer)===null||o===void 0?void 0:o.dropEffect)==="none"||!l)&&((s=(a=e.getConfig()).onCompleteForeignDrop)===null||s===void 0||s.call(a,l))},onDrop:n=>rle(void 0,void 0,void 0,function*(){var i,o,a;let s=e.getDataRef(),l=Hx(n,t,e);if(!Vx(n.dataTransfer,l,e))return;n.preventDefault();let u=e.getConfig(),c=(i=e.getState().dnd)===null||i===void 0?void 0:i.draggedItems;s.current.lastDragCode=void 0,e.applySubStateUpdate("dnd",null),c?yield(o=u.onDrop)===null||o===void 0?void 0:o.call(u,c,l):n.dataTransfer&&(yield(a=u.onDropForeignDragObject)===null||a===void 0?void 0:a.call(u,n.dataTransfer,l))})}),isDragTarget:({tree:e,item:t})=>{let r=e.getDragTarget();return r?r.item.getId()===t.getId():!1},isDragTargetAbove:({tree:e,item:t})=>{let r=e.getDragTarget();return!r||!("childIndex"in r)||r.item!==t.getParent()?!1:r.childIndex===t.getItemMeta().posInSet},isDragTargetBelow:({tree:e,item:t})=>{let r=e.getDragTarget();return!r||!("childIndex"in r)||r.item!==t.getParent()?!1:r.childIndex-1===t.getItemMeta().posInSet},isDraggingOver:({tree:e,item:t})=>{var r,n;return((n=(r=e.getState().dnd)===null||r===void 0?void 0:r.draggingOverItem)===null||n===void 0?void 0:n.getId())===t.getId()}}},c7=(e,t)=>{var r;(r=t.memoizedProps)!==null&&r!==void 0||(t.memoizedProps={});for(let n in e)typeof e[n]=="function"&&(n in t.memoizedProps?e[n]=t.memoizedProps[n]:t.memoizedProps[n]=e[n]);return e},ile={key:"prop-memoization",overwrites:["main","async-data-loader","sync-data-loader","drag-and-drop","expand-all","hotkeys-core","renaming","search","selection"],treeInstance:{getContainerProps:({tree:e,prev:t},r)=>{var n;let i=e.getDataRef(),o=(n=t?.(r))!==null&&n!==void 0?n:{};return c7(o,i.current)}},itemInstance:{getProps:({item:e,prev:t})=>{var r;let n=e.getDataRef(),i=(r=t?.())!==null&&r!==void 0?r:{};return c7(i,n.current)}}},ole=e=>{let[t]=(0,A3.useState)(()=>({current:Jse(e)})),[r,n]=(0,A3.useState)(()=>t.current.getState());return t.current.setConfig(i=>Object.assign(Object.assign(Object.assign({},i),e),{state:Object.assign(Object.assign({},r),e.state),setState:o=>{var a;n(o),(a=e.setState)===null||a===void 0||a.call(e,o)}})),t.current},ale={tree:"alinea-EntryTree-tree","tree-item":"alinea-EntryTree-tree-item",treeItem:"alinea-EntryTree-tree-item","tree-item-icon":"alinea-EntryTree-tree-item-icon",treeItemIcon:"alinea-EntryTree-tree-item-icon","is-drop":"alinea-EntryTree-is-drop",isDrop:"alinea-EntryTree-is-drop","is-dropAbove":"alinea-EntryTree-is-dropAbove",isDropAbove:"alinea-EntryTree-is-dropAbove","is-dropBelow":"alinea-EntryTree-is-dropBelow",isDropBelow:"alinea-EntryTree-is-dropBelow","is-selected":"alinea-EntryTree-is-selected",isSelected:"alinea-EntryTree-is-selected","tree-item-label-itemName":"alinea-EntryTree-tree-item-label-itemName",treeItemLabelItemName:"alinea-EntryTree-tree-item-label-itemName","is-parentSelected":"alinea-EntryTree-is-parentSelected",isParentSelected:"alinea-EntryTree-is-parentSelected","is-archived":"alinea-EntryTree-is-archived",isArchived:"alinea-EntryTree-is-archived","is-unpublished":"alinea-EntryTree-is-unpublished",isUnpublished:"alinea-EntryTree-is-unpublished","is-untranslated":"alinea-EntryTree-is-untranslated",isUntranslated:"alinea-EntryTree-is-untranslated","tree-item-label":"alinea-EntryTree-tree-item-label",treeItemLabel:"alinea-EntryTree-tree-item-label","tree-item-arrow":"alinea-EntryTree-tree-item-arrow",treeItemArrow:"alinea-EntryTree-tree-item-arrow","tree-title":"alinea-EntryTree-tree-title",treeTitle:"alinea-EntryTree-tree-title","tree-status":"alinea-EntryTree-tree-status",treeStatus:"alinea-EntryTree-tree-status","is-draft":"alinea-EntryTree-is-draft",isDraft:"alinea-EntryTree-is-draft","is-children":"alinea-EntryTree-is-children",isChildren:"alinea-EntryTree-is-children"},Ps=j(ale);function d7(e,t){return t.entries.find(r=>r.locale===e)??t.entries[0]}var sle=(0,_o.memo)(function({id:t,title:r,type:n,locale:i,isSelected:o,isDraft:a,isFolder:s,isExpanded:l,isArchived:u,isUnpublished:c,isUntranslated:d,isParentSelected:f,isDragTarget:h,isDragTargetAbove:p,isDragTargetBelow:m,hasChildren:v,toggleExpand:g,level:y,...b}){let x=(0,_o.useRef)(null),{schema:S}=dr(),{icon:E}=tt(S[n]);(0,_o.useLayoutEffect)(()=>{if(!o)return;let k=x?.current;k&&k.scrollIntoView({block:"nearest",inline:"nearest"})},[o]);let I=!!(s&&v);return(0,p7.createElement)("div",{...b,ref:x,className:Ps.tree.item({selected:o,plain:!I,archived:u,unpublished:!d&&c,untranslated:d,drop:h,dropAbove:p,dropBelow:m,parentSelected:f}),key:t,"data-id":t,style:{paddingLeft:Me(y*14+8)}},(0,_r.jsx)("button",{type:"button",className:Ps.tree.item.arrow(),onClick:k=>{k.stopPropagation(),g()},children:I&&(l?(0,_r.jsx)(ee,{icon:Wa,size:14}):(0,_r.jsx)(ee,{icon:qa,size:14}))}),(0,_r.jsxs)("button",{type:"button",className:Ps.tree.item.label(),title:r,children:[(0,_r.jsx)("span",{className:Ps.tree.item.icon(),children:(0,_r.jsx)(ee,{icon:E??(s?t7:e7)})}),(0,_r.jsx)("span",{className:Ps.tree.item.label.itemName(),children:r}),!d&&!c&&a&&(0,_r.jsx)("span",{className:Ps.tree.status({draft:!0}),children:(0,_r.jsx)(ee,{icon:Nd})}),!d&&u&&(0,_r.jsx)("span",{className:Ps.tree.status({archived:!0}),children:(0,_r.jsx)(ee,{icon:kx})}),!d&&c&&(0,_r.jsx)("span",{className:Ps.tree.status({unpublished:!0}),children:(0,_r.jsx)(ee,{icon:ac})}),d&&(0,_r.jsx)("span",{className:Ps.tree.status({untranslated:!0}),children:(0,_r.jsx)(ee,{icon:Fh})})]}))});function m7({selectedId:e,expanded:t=[]}){let r=oe(gt),n=s7(),i=en(),o=Bt(),a=(0,_o.useRef)(o);a.current=o;let s=(0,_o.useMemo)(()=>({itemInstance:{getProps:({item:h,prev:p})=>({...p?.(),onClick:m=>{h.isSelected()&&h.isFolder()&&h.isExpanded()?h.collapse():h.isFolder()&&!h.isExpanded()&&h.expand(),h.setFocused(),i(a.current.entry({id:h.getId()}))}})}}),[]),l=Fr(),u=ole({rootItemId:vc,canDrag:h=>n.canDrag(h),canDrop(h,p){return n.canDrop(h,p)},onDrop(h,p){return n.onDrop(h,p)},dataLoader:n,getItemName:h=>d7(l,h.getItemData()).title,isItemFolder:h=>!!h.getItemData().isFolder,onPrimaryAction:h=>{i(o.entry({id:h.getId()}))},initialState:{expandedItems:[...t].concat(e??[])},state:{selectedItems:e?[e]:[]},features:[Xse,Qse,nle,s,ile]}),c=ZL(h=>{let p=u.getDataRef(),m=p.current.childrenIds?Object.keys(p.current.childrenIds):[],v=p.current.itemData?Object.keys(p.current.itemData):[],g=m.map(async y=>{try{let b=await h.getChildren(y);p.current.childrenIds[y]=b}catch{delete p.current.childrenIds[y]}}).concat(v.map(async y=>{try{let b=await h.getItem(y);p.current.itemData[y]=b}catch{delete p.current.itemData[y]}}));Promise.all(g).then(()=>{u.rebuildTree()})},0),d=Qn();(0,_o.useEffect)(()=>{let h=u.getDataRef();h.current.childrenIds[vc]=[],u.rebuildTree()},[d]),(0,_o.useEffect)(()=>{c(n)},[n]),(0,_o.useEffect)(()=>{return r.events.addEventListener(Kt.type,h),()=>r.events.removeEventListener(Kt.type,h);function h(p){Ae(p instanceof Kt),p.data.op==="index"&&c(n)}},[r,n]);let f=u.getItems().filter(h=>h.getItemData());return(0,_r.jsx)(_r.Fragment,{children:(0,_r.jsx)("div",{...u.getContainerProps(),className:Ps.tree(),children:f.map(h=>{let p=h.getId(),m=h.getItemData(),v=h.getItemName(),g=d7(l,m),y=!1,b=h.getParent();for(;b&&!y;)b.isSelected()?y=!0:b=b.getParent();return(0,_r.jsx)(sle,{id:p,type:m.type,locale:g.locale,title:v,isSelected:e===p,isDraft:g.status==="draft",isFolder:h.isFolder(),isExpanded:h.isExpanded(),isUntranslated:g.locale!==l,isArchived:g.status==="archived",isUnpublished:g.status==="draft"&&g.main,isDragTarget:h.isDragTarget()&&h.isDraggingOver(),isDragTargetAbove:h.isDragTargetAbove()&&h.isDraggingOver(),isParentSelected:y,isDragTargetBelow:h.isDragTargetBelow()&&h.isDraggingOver(),hasChildren:m.hasChildren,toggleExpand:h.isExpanded()?h.collapse:h.expand,level:h.getItemMeta().level,...h.getProps()},p)})})})}w();var eo=A(P(),1),lle={root:"alinea-RootOverview","root-icon":"alinea-RootOverview-icon",rootIcon:"alinea-RootOverview-icon"},g7=j(lle);function T3({root:e}){return(0,eo.jsxs)(eo.Fragment,{children:[(0,eo.jsx)(ji,{children:(0,eo.jsx)("title",{children:e.label})}),(0,eo.jsx)(Fs,{children:(0,eo.jsxs)("div",{className:g7.root(),children:[(0,eo.jsx)(ee,{icon:e.icon||gh,className:g7.root.icon()}),(0,eo.jsx)(Et.H1,{children:(0,eo.jsx)(Ze,{label:e.label})}),(0,eo.jsxs)(Et.P,{style:{textAlign:"center"},children:["Select an entry in the navigation tree",(0,eo.jsx)("br",{}),"on the left to start editing"]})]})})]})}w();w();var D3=A(P(),1);function jx(e){return(0,D3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,D3.jsx)("path",{fill:"currentColor",d:"M3 3v8h8V3H3zm6 6H5V5h4v4zm-6 4v8h8v-8H3zm6 6H5v-4h4v4zm4-16v8h8V3h-8zm6 6h-4V5h4v4zm-6 4v8h8v-8h-8zm6 6h-4v-4h4v4z"})})}w();var I3=A(P(),1);function dp(e){return(0,I3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,I3.jsx)("path",{fill:"currentColor",d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7zm-4 6h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"})})}w();var F3=A(P(),1);function $x(e){return(0,F3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,F3.jsx)("path",{fill:"currentColor",d:"M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0c.41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14z"})})}var wc=A($(),1);w();var ra=A($(),1),v7=A(P(),1),y7=(0,ra.createContext)(void 0);function Ux({onClear:e}){let t=(0,ra.useRef)(),{reSelect:r,...n}=(0,ra.useMemo)(()=>{let i=new WeakMap,o,a=[],s=!0,l;function u(g){if(o&&o.removeAttribute("aria-selected"),!g)return o=void 0;g.setAttribute("aria-selected","true"),o=g,o.scrollIntoView({block:"nearest"})}function c(g){if(o){let y=a.indexOf(o),b=a[y+g];if(b)return u(b)}u(a[g===1?0:a.length-1])}function d(g){switch(g.key){case"ArrowUp":c(-1),g.preventDefault();break;case"ArrowDown":c(1),g.preventDefault();break;case"Escape":g.currentTarget.blur(),g.preventDefault(),e();break;case"Enter":g.preventDefault(),i.get(o??a[0])?.();break;default:}}let f={ref:t,onKeyDown:d,onBlur(){u(void 0),s=!0}};function h(g,y){let b=0;for(let x of a){if(y.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING)break;b++}return a.splice(b,0,y),i.set(y,g),()=>{o===y&&(o=void 0),a=a.filter(x=>x!==y)}}function p({children:g}){return(0,v7.jsx)(y7.Provider,{value:{registerItem:h},children:g})}function m(){document.activeElement!==t.current&&!t.current?.contains(document.activeElement)||s&&(o||u(a[0]),s=!1)}function v(){s=!0}return{focusProps:f,Container:p,reSelect:v}},[]);return(0,ra.useLayoutEffect)(r),n}function w7(e){let t=(0,ra.useContext)(y7),r=(0,ra.useRef)(null);return(0,ra.useLayoutEffect)(()=>{if(r.current&&t)return t.registerItem(e,r.current)},[]),r}w();Vc();var j7=A($(),1),G7=A($(),1);w();function Wx(e){let t=e.MediaFile;return{id:G.id,locale:G.locale,type:G.type,workspace:G.workspace,root:G.root,title:G.title,extension:t.extension,size:t.size,preview:t.preview,thumbHash:t.thumbHash,averageColor:t.averageColor,focus:t.focus,width:t.width,height:t.height,parents:{edge:"parents",select:{id:G.id,title:G.title}},childrenAmount:{edge:"children",count:!0}}}var Q7=A($(),1),Bg=A($(),1);w();var qx=A($(),1),b7=(0,qx.createContext)(void 0);function x7(){return(0,qx.useContext)(b7)}var E7=b7.Provider;w();var R3=A($(),1);var hr=A(P(),1),ule={row:"alinea-EntrySummary-row",thumb:"alinea-EntrySummary-thumb","thumb-header":"alinea-EntrySummary-thumb-header",thumbHeader:"alinea-EntrySummary-thumb-header","thumb-title":"alinea-EntrySummary-thumb-title",thumbTitle:"alinea-EntrySummary-thumb-title","thumb-footer":"alinea-EntrySummary-thumb-footer",thumbFooter:"alinea-EntrySummary-thumb-footer"},Rg=j(ule);function Kx({id:e,title:t,type:r,parents:n}){let i=Bt(),{schema:o}=Xr().config,a=o[r];return a?(0,hr.jsxs)(q,{center:!0,full:!0,gap:10,className:Rg.row(),children:[(0,hr.jsxs)(ot,{children:[n.length>0&&(0,hr.jsx)(ta,{style:{marginTop:Me(-1)},children:(0,hr.jsx)(Et.Small,{children:(0,hr.jsx)(q,{center:!0,gap:3,children:n.map(({id:s,title:l})=>(0,hr.jsx)(R3.Fragment,{children:l},s)).reduce((s,l,u)=>[s,(0,hr.jsx)(qa,{},`s${u}`),l])})})}),(0,hr.jsx)(ta,{children:(0,hr.jsx)(Ze,{label:t})})]}),(0,hr.jsx)($i,{style:{marginLeft:"auto"},children:(0,hr.jsx)(Ze,{label:me.label(a)})})]}):null}function S7({id:e,title:t,type:r,parents:n}){let{schema:i}=Xr().config,o=i[r];return(0,hr.jsxs)("div",{className:Rg.thumb(),children:[n.length>0&&(0,hr.jsx)("header",{className:Rg.thumb.header(),children:(0,hr.jsx)(Et.Small,{children:(0,hr.jsx)(q,{center:!0,gap:3,children:n.map(({id:a,title:s})=>(0,hr.jsx)(R3.Fragment,{children:s},a)).reduce((a,s,l)=>[a,(0,hr.jsx)(qa,{},`s${l}`),s])})})}),(0,hr.jsx)("div",{className:Rg.thumb.title(),children:(0,hr.jsx)(Ze,{label:t})}),(0,hr.jsx)("div",{className:Rg.thumb.footer(),children:(0,hr.jsx)($i,{style:{marginLeft:"auto"},children:(0,hr.jsx)(Ze,{label:me.label(o)})})})]})}w();var D7=A($(),1);w();function Ls(){return oe(gt)}w();w();var Vt;(e=>{e.entry="_entry";function t(r){return r&&e.entry in r}e.isEntryReference=t})(Vt||(Vt={}));w();var M3=A(P(),1);function C7(e){return(0,M3.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,M3.jsx)("path",{fill:"currentColor",d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"})})}w();var _3=A(P(),1);function k7(e){return(0,_3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,_3.jsx)("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8.29 13.29a.996.996 0 0 1-1.41 0L5.71 12.7a.996.996 0 1 1 1.41-1.41L10 14.17l6.88-6.88a.996.996 0 1 1 1.41 1.41l-7.58 7.59z"})})}w();var O3=A(P(),1);function A7(e){return(0,O3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,O3.jsx)("path",{fill:"currentColor",d:"M18 19H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zm1-16H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})})}var On=A(P(),1),cle={root:"alinea-ExplorerItem","is-row":"alinea-ExplorerItem-is-row",isRow:"alinea-ExplorerItem-is-row","is-thumb":"alinea-ExplorerItem-is-thumb",isThumb:"alinea-ExplorerItem-is-thumb","root-inner":"alinea-ExplorerItem-inner",rootInner:"alinea-ExplorerItem-inner","is-border":"alinea-ExplorerItem-is-border",isBorder:"alinea-ExplorerItem-is-border","root-inner-hitBox":"alinea-ExplorerItem-inner-hitBox",rootInnerHitBox:"alinea-ExplorerItem-inner-hitBox","root-children":"alinea-ExplorerItem-children",rootChildren:"alinea-ExplorerItem-children","root-children-badge":"alinea-ExplorerItem-children-badge",rootChildrenBadge:"alinea-ExplorerItem-children-badge","root-checkbox":"alinea-ExplorerItem-checkbox",rootCheckbox:"alinea-ExplorerItem-checkbox","root-selection":"alinea-ExplorerItem-selection",rootSelection:"alinea-ExplorerItem-selection"},Vd=j(cle);function T7({schema:e,entry:t,summaryView:r,defaultView:n}){let i=Bt(),{views:o}=Xr(),a=x7(),s=w7(()=>a?.onSelect(t)),l=e[t.type],u=l&&tt(l)[r],c=u?Cs(o,u):n,d=a.selectable===!0||Array.isArray(a.selectable)&&a.selectable.includes(t.type),f=d?"label":"a",h=d?{}:a.selectable?{onClick:v}:bo(i.entry(t)),p=!!(d&&a.selection.find(g=>Vt.isEntryReference(g)&&g[Vt.entry]===t.id)),m=t.childrenAmount??0;function v(){a.onNavigate?.(t.id)}return(0,On.jsx)("div",{ref:s,className:Vd.root(r==="summaryRow"?"row":"thumb",{selected:p,border:a.border}),children:(0,On.jsxs)("div",{className:Vd.root.inner(),children:[(0,On.jsxs)(f,{className:Vd.root.inner.hitBox(),style:{flexGrow:1},...h,children:[d&&(0,On.jsxs)(On.Fragment,{children:[(0,On.jsx)("input",{type:"checkbox",checked:p,onChange:()=>{a.onSelect(t)},className:Vd.root.checkbox()}),(0,On.jsx)("div",{className:Vd.root.selection(),children:p?(0,On.jsx)(k7,{}):(0,On.jsx)(A7,{})})]}),(0,On.jsx)(c,{...t})]}),a.withNavigation&&a.onNavigate&&m>0&&(0,On.jsxs)("button",{type:"button",className:Vd.root.children(),onClick:v,children:[(0,On.jsx)(ee,{icon:C7,size:18}),(0,On.jsx)("span",{className:Vd.root.children.badge(),children:m}),(0,On.jsx)(ee,{icon:qa,size:18})]})]})},t.id)}var Yx=A(P(),1),dle={root:"alinea-ExplorerRow"},fle=j(dle),B3=(0,D7.memo)(function({schema:t,query:r,batchSize:n,amount:i,from:o,summaryView:a,defaultView:s}){let l=Ls(),u=Math.floor(o/n),c=o%n,{data:d}=qn(["explorer","batch",r,n,u],async()=>l.find({...r,skip:u*n,take:n,status:"preferDraft"}),{refetchOnWindowFocus:!1,keepPreviousData:!0,staleTime:1e4}),f=d?.slice(c,c+i);return(0,Yx.jsx)("div",{className:fle.root(),children:(0,Yx.jsx)("div",{style:{display:"grid",gridTemplateColumns:`repeat(${i}, 1fr)`,height:"100%"},children:f?.map(h=>h?(0,Yx.jsx)(T7,{schema:t,entry:h,summaryView:a,defaultView:s},h.id):null)})})});var Vs=A(P(),1),hle=Sn({"node_modules/react-is/cjs/react-is.production.min.js"(e){"use strict";var t=typeof Symbol=="function"&&Symbol.for,r=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,g=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function x(E){if(typeof E=="object"&&E!==null){var I=E.$$typeof;switch(I){case r:switch(E=E.type,E){case u:case c:case i:case a:case o:case f:return E;default:switch(E=E&&E.$$typeof,E){case l:case d:case m:case p:case s:return E;default:return I}}case n:return I}}}function S(E){return x(E)===c}e.AsyncMode=u,e.ConcurrentMode=c,e.ContextConsumer=l,e.ContextProvider=s,e.Element=r,e.ForwardRef=d,e.Fragment=i,e.Lazy=m,e.Memo=p,e.Portal=n,e.Profiler=a,e.StrictMode=o,e.Suspense=f,e.isAsyncMode=function(E){return S(E)||x(E)===u},e.isConcurrentMode=S,e.isContextConsumer=function(E){return x(E)===l},e.isContextProvider=function(E){return x(E)===s},e.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===r},e.isForwardRef=function(E){return x(E)===d},e.isFragment=function(E){return x(E)===i},e.isLazy=function(E){return x(E)===m},e.isMemo=function(E){return x(E)===p},e.isPortal=function(E){return x(E)===n},e.isProfiler=function(E){return x(E)===a},e.isStrictMode=function(E){return x(E)===o},e.isSuspense=function(E){return x(E)===f},e.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===i||E===c||E===a||E===o||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===p||E.$$typeof===s||E.$$typeof===l||E.$$typeof===d||E.$$typeof===g||E.$$typeof===y||E.$$typeof===b||E.$$typeof===v)},e.typeOf=x}}),iLe=Sn({"node_modules/react-is/cjs/react-is.development.js"(e){"use strict"}}),ple=Sn({"node_modules/react-is/index.js"(e,t){"use strict";t.exports=hle()}}),mle=Sn({"node_modules/object-assign/index.js"(e,t){"use strict";var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function a(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var l={},u=0;u<10;u++)l["_"+String.fromCharCode(u)]=u;var c=Object.getOwnPropertyNames(l).map(function(f){return l[f]});if(c.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(f){d[f]=f}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}t.exports=a()?Object.assign:function(s,l){for(var u,c=o(s),d,f=1;f<arguments.length;f++){u=Object(arguments[f]);for(var h in u)n.call(u,h)&&(c[h]=u[h]);if(r){d=r(u);for(var p=0;p<d.length;p++)i.call(u,d[p])&&(c[d[p]]=u[d[p]])}}return c}}}),H7=Sn({"node_modules/prop-types/lib/ReactPropTypesSecret.js"(e,t){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=r}}),gle=Sn({"node_modules/prop-types/lib/has.js"(e,t){t.exports=Function.call.bind(Object.prototype.hasOwnProperty)}}),vle=Sn({"node_modules/prop-types/checkPropTypes.js"(e,t){"use strict";var r=function(){},n,i,o;function a(s,l,u,c,d){if(0){for(var f in s)if(o(s,f)){var h;try{if(typeof s[f]!="function")var p}catch(v){}if(h instanceof Error&&!(h.message in i))var m}}}a.resetWarningCache=function(){},t.exports=a}}),oLe=Sn({"node_modules/prop-types/factoryWithTypeCheckers.js"(e,t){"use strict";var r=ple(),n=mle(),i=H7(),o=gle(),a=vle(),s=function(){};function l(){return null}t.exports=function(u,c){var d=typeof Symbol=="function"&&Symbol.iterator,f="@@iterator";function h(B){var z=B&&(d&&B[d]||B[f]);if(typeof z=="function")return z}var p="<<anonymous>>",m={array:b("array"),bigint:b("bigint"),bool:b("boolean"),func:b("function"),number:b("number"),object:b("object"),string:b("string"),symbol:b("symbol"),any:x(),arrayOf:S,element:E(),elementType:I(),instanceOf:k,node:R(),objectOf:F,oneOf:D,oneOfType:T,shape:M,exact:L};function v(B,z){return B===z?B!==0||1/B===1/z:B!==B&&z!==z}function g(B,z){this.message=B,this.data=z&&typeof z=="object"?z:{},this.stack=""}g.prototype=Error.prototype;function y(B){if(0)var z,Y;function K(se,de,Se,be,Ce,pe,ve){if(be=be||p,pe=pe||Se,ve!==i){if(c){var Ie=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Ie.name="Invariant Violation",Ie}else if(0)var lr}return de[Se]==null?se?de[Se]===null?new g("The "+Ce+" `"+pe+"` is marked as required "+("in `"+be+"`, but its value is `null`.")):new g("The "+Ce+" `"+pe+"` is marked as required in "+("`"+be+"`, but its value is `undefined`.")):null:B(de,Se,be,Ce,pe)}var te=K.bind(null,!1);return te.isRequired=K.bind(null,!0),te}function b(B){function z(Y,K,te,se,de,Se){var be=Y[K],Ce=N(be);if(Ce!==B){var pe=H(be);return new g("Invalid "+se+" `"+de+"` of type "+("`"+pe+"` supplied to `"+te+"`, expected ")+("`"+B+"`."),{expectedType:B})}return null}return y(z)}function x(){return y(l)}function S(B){function z(Y,K,te,se,de){if(typeof B!="function")return new g("Property `"+de+"` of component `"+te+"` has invalid PropType notation inside arrayOf.");var Se=Y[K];if(!Array.isArray(Se)){var be=N(Se);return new g("Invalid "+se+" `"+de+"` of type "+("`"+be+"` supplied to `"+te+"`, expected an array."))}for(var Ce=0;Ce<Se.length;Ce++){var pe=B(Se,Ce,te,se,de+"["+Ce+"]",i);if(pe instanceof Error)return pe}return null}return y(z)}function E(){function B(z,Y,K,te,se){var de=z[Y];if(!u(de)){var Se=N(de);return new g("Invalid "+te+" `"+se+"` of type "+("`"+Se+"` supplied to `"+K+"`, expected a single ReactElement."))}return null}return y(B)}function I(){function B(z,Y,K,te,se){var de=z[Y];if(!r.isValidElementType(de)){var Se=N(de);return new g("Invalid "+te+" `"+se+"` of type "+("`"+Se+"` supplied to `"+K+"`, expected a single ReactElement type."))}return null}return y(B)}function k(B){function z(Y,K,te,se,de){if(!(Y[K]instanceof B)){var Se=B.name||p,be=J(Y[K]);return new g("Invalid "+se+" `"+de+"` of type "+("`"+be+"` supplied to `"+te+"`, expected ")+("instance of `"+Se+"`."))}return null}return y(z)}function D(B){if(!Array.isArray(B))return l;function z(Y,K,te,se,de){for(var Se=Y[K],be=0;be<B.length;be++)if(v(Se,B[be]))return null;var Ce=JSON.stringify(B,function(ve,Ie){var lr=H(Ie);return lr==="symbol"?String(Ie):Ie});return new g("Invalid "+se+" `"+de+"` of value `"+String(Se)+"` "+("supplied to `"+te+"`, expected one of "+Ce+"."))}return y(z)}function F(B){function z(Y,K,te,se,de){if(typeof B!="function")return new g("Property `"+de+"` of component `"+te+"` has invalid PropType notation inside objectOf.");var Se=Y[K],be=N(Se);if(be!=="object")return new g("Invalid "+se+" `"+de+"` of type "+("`"+be+"` supplied to `"+te+"`, expected an object."));for(var Ce in Se)if(o(Se,Ce)){var pe=B(Se,Ce,te,se,de+"."+Ce,i);if(pe instanceof Error)return pe}return null}return y(z)}function T(B){if(!Array.isArray(B))return l;for(var z=0;z<B.length;z++){var Y=B[z];if(typeof Y!="function")return s("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+O(Y)+" at index "+z+"."),l}function K(te,se,de,Se,be){for(var Ce=[],pe=0;pe<B.length;pe++){var ve=B[pe],Ie=ve(te,se,de,Se,be,i);if(Ie==null)return null;Ie.data&&o(Ie.data,"expectedType")&&Ce.push(Ie.data.expectedType)}var lr=Ce.length>0?", expected one of type ["+Ce.join(", ")+"]":"";return new g("Invalid "+Se+" `"+be+"` supplied to "+("`"+de+"`"+lr+"."))}return y(K)}function R(){function B(z,Y,K,te,se){return V(z[Y])?null:new g("Invalid "+te+" `"+se+"` supplied to "+("`"+K+"`, expected a ReactNode."))}return y(B)}function _(B,z,Y,K,te){return new g((B||"React class")+": "+z+" type `"+Y+"."+K+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+te+"`.")}function M(B){function z(Y,K,te,se,de){var Se=Y[K],be=N(Se);if(be!=="object")return new g("Invalid "+se+" `"+de+"` of type `"+be+"` "+("supplied to `"+te+"`, expected `object`."));for(var Ce in B){var pe=B[Ce];if(typeof pe!="function")return _(te,se,de,Ce,H(pe));var ve=pe(Se,Ce,te,se,de+"."+Ce,i);if(ve)return ve}return null}return y(z)}function L(B){function z(Y,K,te,se,de){var Se=Y[K],be=N(Se);if(be!=="object")return new g("Invalid "+se+" `"+de+"` of type `"+be+"` "+("supplied to `"+te+"`, expected `object`."));var Ce=n({},Y[K],B);for(var pe in Ce){var ve=B[pe];if(o(B,pe)&&typeof ve!="function")return _(te,se,de,pe,H(ve));if(!ve)return new g("Invalid "+se+" `"+de+"` key `"+pe+"` supplied to `"+te+"`.\nBad object: "+JSON.stringify(Y[K],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(B),null,"  "));var Ie=ve(Se,pe,te,se,de+"."+pe,i);if(Ie)return Ie}return null}return y(z)}function V(B){switch(typeof B){case"number":case"string":case"undefined":return!0;case"boolean":return!B;case"object":if(Array.isArray(B))return B.every(V);if(B===null||u(B))return!0;var z=h(B);if(z){var Y=z.call(B),K;if(z!==B.entries){for(;!(K=Y.next()).done;)if(!V(K.value))return!1}else for(;!(K=Y.next()).done;){var te=K.value;if(te&&!V(te[1]))return!1}}else return!1;return!0;default:return!1}}function U(B,z){return B==="symbol"?!0:z?z["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&z instanceof Symbol:!1}function N(B){var z=typeof B;return Array.isArray(B)?"array":B instanceof RegExp?"object":U(z,B)?"symbol":z}function H(B){if(typeof B>"u"||B===null)return""+B;var z=N(B);if(z==="object"){if(B instanceof Date)return"date";if(B instanceof RegExp)return"regexp"}return z}function O(B){var z=H(B);switch(z){case"array":case"object":return"an "+z;case"boolean":case"date":case"regexp":return"a "+z;default:return z}}function J(B){return!B.constructor||!B.constructor.name?p:B.constructor.name}return m.checkPropTypes=a,m.resetWarningCache=a.resetWarningCache,m.PropTypes=m,m}}}),yle=Sn({"node_modules/prop-types/factoryWithThrowingShims.js"(e,t){"use strict";var r=H7();function n(){}function i(){}i.resetWarningCache=n,t.exports=function(){function o(l,u,c,d,f,h){if(h!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}o.isRequired=o;function a(){return o}var s={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:a,element:o,elementType:o,instanceOf:a,node:o,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:i,resetWarningCache:n};return s.PropTypes=s,s}}}),wle=Sn({"node_modules/prop-types/index.js"(e,t){t.exports=yle()();var r,n}}),jd=[],ble=function(){return jd.some(function(e){return e.activeTargets.length>0})},xle=function(){return jd.some(function(e){return e.skippedTargets.length>0})},I7="ResizeObserver loop completed with undelivered notifications.",Ele=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:I7}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=I7),window.dispatchEvent(e)},Og;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Og||(Og={}));var $d=function(e){return Object.freeze(e)},Sle=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,$d(this)}return e}(),$7=function(){function e(t,r,n,i){return this.x=t,this.y=r,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,$d(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,i=t.top,o=t.right,a=t.bottom,s=t.left,l=t.width,u=t.height;return{x:r,y:n,top:i,right:o,bottom:a,left:s,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),V3=function(e){return e instanceof SVGElement&&"getBBox"in e},U7=function(e){if(V3(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},F7=function(e){var t;if(e instanceof Element)return!0;var r=(t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},Cle=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},_g=typeof window<"u"?window:{},Gx=new WeakMap,R7=/auto|scroll/,kle=/^tb|vertical/,Ale=/msie|trident/i.test(_g.navigator&&_g.navigator.userAgent),zs=function(e){return parseFloat(e||"0")},fp=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new Sle((r?t:e)||0,(r?e:t)||0)},M7=$d({devicePixelContentBoxSize:fp(),borderBoxSize:fp(),contentBoxSize:fp(),contentRect:new $7(0,0,0,0)}),W7=function(e,t){if(t===void 0&&(t=!1),Gx.has(e)&&!t)return Gx.get(e);if(U7(e))return Gx.set(e,M7),M7;var r=getComputedStyle(e),n=V3(e)&&e.ownerSVGElement&&e.getBBox(),i=!Ale&&r.boxSizing==="border-box",o=kle.test(r.writingMode||""),a=!n&&R7.test(r.overflowY||""),s=!n&&R7.test(r.overflowX||""),l=n?0:zs(r.paddingTop),u=n?0:zs(r.paddingRight),c=n?0:zs(r.paddingBottom),d=n?0:zs(r.paddingLeft),f=n?0:zs(r.borderTopWidth),h=n?0:zs(r.borderRightWidth),p=n?0:zs(r.borderBottomWidth),m=n?0:zs(r.borderLeftWidth),v=d+u,g=l+c,y=m+h,b=f+p,x=s?e.offsetHeight-b-e.clientHeight:0,S=a?e.offsetWidth-y-e.clientWidth:0,E=i?v+y:0,I=i?g+b:0,k=n?n.width:zs(r.width)-E-S,D=n?n.height:zs(r.height)-I-x,F=k+v+S+y,T=D+g+x+b,R=$d({devicePixelContentBoxSize:fp(Math.round(k*devicePixelRatio),Math.round(D*devicePixelRatio),o),borderBoxSize:fp(F,T,o),contentBoxSize:fp(k,D,o),contentRect:new $7(d,l,k,D)});return Gx.set(e,R),R},q7=function(e,t,r){var n=W7(e,r),i=n.borderBoxSize,o=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(t){case Og.DEVICE_PIXEL_CONTENT_BOX:return a;case Og.BORDER_BOX:return i;default:return o}},Tle=function(){function e(t){var r=W7(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=$d([r.borderBoxSize]),this.contentBoxSize=$d([r.contentBoxSize]),this.devicePixelContentBoxSize=$d([r.devicePixelContentBoxSize])}return e}(),K7=function(e){if(U7(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},Dle=function(){var e=1/0,t=[];jd.forEach(function(a){if(a.activeTargets.length!==0){var s=[];a.activeTargets.forEach(function(u){var c=new Tle(u.target),d=K7(u.target);s.push(c),u.lastReportedSize=q7(u.target,u.observedBox),d<e&&(e=d)}),t.push(function(){a.callback.call(a.observer,s,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var i=n[r];i()}return e},_7=function(e){jd.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(i){i.isActive()&&(K7(i.target)>e?r.activeTargets.push(i):r.skippedTargets.push(i))})})},Ile=function(){var e=0;for(_7(e);ble();)e=Dle(),_7(e);return xle()&&Ele(),e>0},N3,Y7=[],Fle=function(){return Y7.splice(0).forEach(function(e){return e()})},Rle=function(e){if(!N3){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return Fle()}).observe(r,n),N3=function(){r.textContent="".concat(t?t--:t++)}}Y7.push(e),N3()},Mle=function(e){Rle(function(){requestAnimationFrame(e)})},n2=0,_le=function(){return!!n2},Ole=250,Ble={attributes:!0,characterData:!0,childList:!0,subtree:!0},O7=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],B7=function(e){return e===void 0&&(e=0),Date.now()+e},P3=!1,Nle=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=Ole),!P3){P3=!0;var n=B7(t);Mle(function(){var i=!1;try{i=Ile()}finally{if(P3=!1,t=n-B7(),!_le())return;i?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,Ble)};document.body?r():_g.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),O7.forEach(function(r){return _g.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),O7.forEach(function(r){return _g.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),L3=new Nle,N7=function(e){!n2&&e>0&&L3.start(),n2+=e,!n2&&L3.stop()},Ple=function(e){return!V3(e)&&!Cle(e)&&getComputedStyle(e).display==="inline"},Lle=function(){function e(t,r){this.target=t,this.observedBox=r||Og.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=q7(this.target,this.observedBox,!0);return Ple(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),zle=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}(),Jx=new WeakMap,P7=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},Qx=function(){function e(){}return e.connect=function(t,r){var n=new zle(t,r);Jx.set(t,n)},e.observe=function(t,r,n){var i=Jx.get(t),o=i.observationTargets.length===0;P7(i.observationTargets,r)<0&&(o&&jd.push(i),i.observationTargets.push(new Lle(r,n&&n.box)),N7(1),L3.schedule())},e.unobserve=function(t,r){var n=Jx.get(t),i=P7(n.observationTargets,r),o=n.observationTargets.length===1;i>=0&&(o&&jd.splice(jd.indexOf(n),1),n.observationTargets.splice(i,1),N7(-1))},e.disconnect=function(t){var r=this,n=Jx.get(t);n.observationTargets.slice().forEach(function(i){return r.unobserve(t,i.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Vle=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Qx.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!F7(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Qx.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!F7(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Qx.unobserve(this,t)},e.prototype.disconnect=function(){Qx.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Hle=G7.default[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],J7=Hle;function jle(){}var L7,$le=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:Vle;function Ule(e,t){var r,n,i,o,a=L7||(r=0,n=[],i=new Map,o=new $le((l,u)=>{n=n.concat(l),r||window.requestAnimationFrame(function(){for(var c=new Set,d=function(h){if(c.has(n[h].target))return"continue";c.add(n[h].target);var p=i.get(n[h].target);p?.forEach(m=>m(n[h],u))},f=0;f<n.length;f++)d(f);n=[],r=0}),r=1}),L7={observer:o,subscribe(l,u){var c;o.observe(l);var d=(c=i.get(l))!==null&&c!==void 0?c:[];d.push(u),i.set(l,d)},unsubscribe(l,u){var c,d=(c=i.get(l))!==null&&c!==void 0?c:[];if(d.length===1)return o.unobserve(l),void i.delete(l);var f=d.indexOf(u);f!==-1&&d.splice(f,1),i.set(l,d)}}),s=bb(t);return J7(()=>{function l(d,f){u||s.current(d,f)}var u=0,c=e&&"current"in e?e.current:e;return c?(a.subscribe(c,l),()=>{u=1,a.unsubscribe(c,l)}):jle},[e,a,s]),a.observer}var Wle=(e,t)=>{var[r,n]=(0,j7.useState)(()=>{var i,o,a=e&&"current"in e?e.current:e;return a?[a.offsetWidth,a.offsetHeight]:[(i=t?.initialWidth)!==null&&i!==void 0?i:0,(o=t?.initialHeight)!==null&&o!==void 0?o:0]});return J7(()=>{var i=e&&"current"in e?e.current:e;i&&n([i.offsetWidth,i.offsetHeight])},[e]),Ule(e,i=>{var o=i.target;n([o.offsetWidth,o.offsetHeight])}),r},Sr=as(wle()),z3=function(e,t){return z3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},z3(e,t)};function qle(e,t){z3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var yc=function(){return yc=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},yc.apply(this,arguments)};function Kle(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]]);return r}var Hs;(function(e){e.AUTO="auto",e.START="start",e.CENTER="center",e.END="end"})(Hs||(Hs={}));var $r;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})($r||($r={}));var Hd;(function(e){e.OBSERVED="observed",e.REQUESTED="requested"})(Hd||(Hd={}));var z7=(Xx={},Xx[$r.VERTICAL]="scrollTop",Xx[$r.HORIZONTAL]="scrollLeft",Xx),Mg=(Zx={},Zx[$r.VERTICAL]="height",Zx[$r.HORIZONTAL]="width",Zx),Yle=(e2={},e2[$r.VERTICAL]="top",e2[$r.HORIZONTAL]="left",e2),Gle=(t2={},t2[$r.VERTICAL]="marginTop",t2[$r.HORIZONTAL]="marginLeft",t2),Jle=(r2={},r2[$r.VERTICAL]="marginBottom",r2[$r.HORIZONTAL]="marginRight",r2),Xx,Zx,e2,t2,r2,Qle=function(){function e(t){var r=t.itemCount,n=t.itemSizeGetter,i=t.estimatedItemSize;this.itemSizeGetter=n,this.itemCount=r,this.estimatedItemSize=i,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1}return e.prototype.updateConfig=function(t){var r=t.itemCount,n=t.itemSizeGetter,i=t.estimatedItemSize;r!=null&&(this.itemCount=r),i!=null&&(this.estimatedItemSize=i),n!=null&&(this.itemSizeGetter=n)},e.prototype.getLastMeasuredIndex=function(){return this.lastMeasuredIndex},e.prototype.getSizeAndPositionForIndex=function(t){if(t<0||t>=this.itemCount)throw Error("Requested index "+t+" is outside of range 0.."+this.itemCount);if(t>this.lastMeasuredIndex){for(var r=this.getSizeAndPositionOfLastMeasuredItem(),n=r.offset+r.size,i=this.lastMeasuredIndex+1;i<=t;i++){var o=this.itemSizeGetter(i);if(o==null||isNaN(o))throw Error("Invalid size returned for index "+i+" of value "+o);this.itemSizeAndPositionData[i]={offset:n,size:o},n+=o}this.lastMeasuredIndex=t}return this.itemSizeAndPositionData[t]},e.prototype.getSizeAndPositionOfLastMeasuredItem=function(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}},e.prototype.getTotalSize=function(){var t=this.getSizeAndPositionOfLastMeasuredItem();return t.offset+t.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize},e.prototype.getUpdatedOffsetForIndex=function(t){var r=t.align,n=r===void 0?Hs.START:r,i=t.containerSize,o=t.currentOffset,a=t.targetIndex;if(i<=0)return 0;var s=this.getSizeAndPositionForIndex(a),l=s.offset,u=l-i+s.size,c;switch(n){case Hs.END:c=u;break;case Hs.CENTER:c=l-(i-s.size)/2;break;case Hs.START:c=l;break;default:c=Math.max(u,Math.min(l,o))}var d=this.getTotalSize();return Math.max(0,Math.min(d-i,c))},e.prototype.getVisibleRange=function(t){var r=t.containerSize,n=t.offset,i=t.overscanCount,o=this.getTotalSize();if(o===0)return{};var a=n+r,s=this.findNearestItem(n);if(typeof s>"u")throw Error("Invalid offset "+n+" specified");var l=this.getSizeAndPositionForIndex(s);n=l.offset+l.size;for(var u=s;n<a&&u<this.itemCount-1;)u++,n+=this.getSizeAndPositionForIndex(u).size;return i&&(s=Math.max(0,s-i),u=Math.min(u+i,this.itemCount-1)),{start:s,stop:u}},e.prototype.resetItem=function(t){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,t-1)},e.prototype.findNearestItem=function(t){if(isNaN(t))throw Error("Invalid offset "+t+" specified");t=Math.max(0,t);var r=this.getSizeAndPositionOfLastMeasuredItem(),n=Math.max(0,this.lastMeasuredIndex);return r.offset>=t?this.binarySearch({high:n,low:0,offset:t}):this.exponentialSearch({index:n,offset:t})},e.prototype.binarySearch=function(t){for(var r=t.low,n=t.high,i=t.offset,o=0,a=0;r<=n;){if(o=r+Math.floor((n-r)/2),a=this.getSizeAndPositionForIndex(o).offset,a===i)return o;a<i?r=o+1:a>i&&(n=o-1)}return r>0?r-1:0},e.prototype.exponentialSearch=function(t){for(var r=t.index,n=t.offset,i=1;r<this.itemCount&&this.getSizeAndPositionForIndex(r).offset<n;)r+=i,i*=2;return this.binarySearch({high:Math.min(r,this.itemCount-1),low:Math.floor(r/2),offset:n})},e}(),Xle={overflow:"auto",willChange:"transform",WebkitOverflowScrolling:"touch"},Zle={position:"relative",width:"100%",minHeight:"100%"},X7={position:"absolute",top:0,left:0,width:"100%"},eue=yc({},X7,{position:"sticky"}),tue=function(e){qle(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.itemSizeGetter=function(n){return function(i){return r.getSize(i,n)}},r.sizeAndPositionManager=new Qle({itemCount:r.props.itemCount,itemSizeGetter:r.itemSizeGetter(r.props.itemSize),estimatedItemSize:r.getEstimatedItemSize()}),r.state={offset:r.props.scrollOffset||r.props.scrollToIndex!=null&&r.getOffsetForIndex(r.props.scrollToIndex)||0,scrollChangeReason:Hd.REQUESTED},r.styleCache={},r.getRef=function(n){r.rootNode=n},r.handleScroll=function(n){var i=r.props.onScroll,o=r.getNodeOffset();o<0||r.state.offset===o||n.target!==r.rootNode||(r.setState({offset:o,scrollChangeReason:Hd.OBSERVED}),typeof i=="function"&&i(o,n))},r}return t.prototype.componentDidMount=function(){var r=this.props,n=r.scrollOffset,i=r.scrollToIndex;this.rootNode.addEventListener("scroll",this.handleScroll,{passive:!0}),n!=null?this.scrollTo(n):i!=null&&this.scrollTo(this.getOffsetForIndex(i))},t.prototype.componentWillReceiveProps=function(r){var n=this.props,i=n.estimatedItemSize,o=n.itemCount,a=n.itemSize,s=n.scrollOffset,l=n.scrollToAlignment,u=n.scrollToIndex,c=r.scrollToIndex!==u||r.scrollToAlignment!==l,d=r.itemCount!==o||r.itemSize!==a||r.estimatedItemSize!==i;r.itemSize!==a&&this.sizeAndPositionManager.updateConfig({itemSizeGetter:this.itemSizeGetter(r.itemSize)}),(r.itemCount!==o||r.estimatedItemSize!==i)&&this.sizeAndPositionManager.updateConfig({itemCount:r.itemCount,estimatedItemSize:this.getEstimatedItemSize(r)}),d&&this.recomputeSizes(),r.scrollOffset!==s?this.setState({offset:r.scrollOffset||0,scrollChangeReason:Hd.REQUESTED}):typeof r.scrollToIndex=="number"&&(c||d)&&this.setState({offset:this.getOffsetForIndex(r.scrollToIndex,r.scrollToAlignment,r.itemCount),scrollChangeReason:Hd.REQUESTED})},t.prototype.componentDidUpdate=function(r,n){var i=this.state,o=i.offset,a=i.scrollChangeReason;n.offset!==o&&a===Hd.REQUESTED&&this.scrollTo(o)},t.prototype.componentWillUnmount=function(){this.rootNode.removeEventListener("scroll",this.handleScroll)},t.prototype.scrollTo=function(r){var n=this.props.scrollDirection,i=n===void 0?$r.VERTICAL:n;this.rootNode[z7[i]]=r},t.prototype.getOffsetForIndex=function(r,n,i){n===void 0&&(n=this.props.scrollToAlignment),i===void 0&&(i=this.props.itemCount);var o=this.props.scrollDirection,a=o===void 0?$r.VERTICAL:o;return(r<0||r>=i)&&(r=0),this.sizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:this.props[Mg[a]],currentOffset:this.state&&this.state.offset||0,targetIndex:r})},t.prototype.recomputeSizes=function(r){r===void 0&&(r=0),this.styleCache={},this.sizeAndPositionManager.resetItem(r)},t.prototype.render=function(){var r=this,n=this.props,i=n.estimatedItemSize,o=n.height,a=n.overscanCount,s=a===void 0?3:a,l=n.renderItem,u=n.itemCount,c=n.itemSize,d=n.onItemsRendered,f=n.onScroll,h=n.scrollDirection,p=h===void 0?$r.VERTICAL:h,m=n.scrollOffset,v=n.scrollToIndex,g=n.scrollToAlignment,y=n.stickyIndices,b=n.style,x=n.width,S=Kle(n,["estimatedItemSize","height","overscanCount","renderItem","itemCount","itemSize","onItemsRendered","onScroll","scrollDirection","scrollOffset","scrollToIndex","scrollToAlignment","stickyIndices","style","width"]),E=this.state.offset,I=this.sizeAndPositionManager.getVisibleRange({containerSize:this.props[Mg[p]]||0,offset:E,overscanCount:s}),k=I.start,D=I.stop,F=[],T=yc({},Xle,b,{height:o,width:x}),R=yc({},Zle,(M={},M[Mg[p]]=this.sizeAndPositionManager.getTotalSize(),M));if(y!=null&&y.length!==0&&(y.forEach(function(L){return F.push(l({index:L,style:r.getStyle(L,!0)}))}),p===$r.HORIZONTAL&&(R.display="flex")),typeof k<"u"&&typeof D<"u"){for(var _=k;_<=D;_++)y!=null&&y.includes(_)||F.push(l({index:_,style:this.getStyle(_,!1)}));typeof d=="function"&&d({startIndex:k,stopIndex:D})}return(0,Bg.createElement)("div",yc({ref:this.getRef},S,{style:T}),(0,Bg.createElement)("div",{style:R},F));var M},t.prototype.getNodeOffset=function(){var r=this.props.scrollDirection,n=r===void 0?$r.VERTICAL:r;return this.rootNode[z7[n]]},t.prototype.getEstimatedItemSize=function(r){return r===void 0&&(r=this.props),r.estimatedItemSize||typeof r.itemSize=="number"&&r.itemSize||50},t.prototype.getSize=function(r,n){return typeof n=="function"?n(r):Array.isArray(n)?n[r]:n},t.prototype.getStyle=function(r,n){var i=this.styleCache[r];if(i)return i;var o=this.props.scrollDirection,a=o===void 0?$r.VERTICAL:o,s=this.sizeAndPositionManager.getSizeAndPositionForIndex(r),l=s.size,u=s.offset;return this.styleCache[r]=n?yc({},eue,(c={},c[Mg[a]]=l,c[Gle[a]]=u,c[Jle[a]]=-(u+l),c.zIndex=1,c)):yc({},X7,(d={},d[Mg[a]]=l,d[Yle[a]]=u,d));var c,d},t.defaultProps={overscanCount:3,scrollDirection:$r.VERTICAL,width:"100%"},t.propTypes={estimatedItemSize:Sr.number,height:(0,Sr.oneOfType)([Sr.number,Sr.string]).isRequired,itemCount:Sr.number.isRequired,itemSize:(0,Sr.oneOfType)([Sr.number,Sr.array,Sr.func]).isRequired,onScroll:Sr.func,onItemsRendered:Sr.func,overscanCount:Sr.number,renderItem:Sr.func.isRequired,scrollOffset:Sr.number,scrollToIndex:Sr.number,scrollToAlignment:(0,Sr.oneOf)([Hs.AUTO,Hs.START,Hs.CENTER,Hs.END]),scrollDirection:(0,Sr.oneOf)([$r.HORIZONTAL,$r.VERTICAL]),stickyIndices:(0,Sr.arrayOf)(Sr.number),style:Sr.object,width:(0,Sr.oneOfType)([Sr.number,Sr.string])},t}(Bg.PureComponent),rue=tue,nue={root:"alinea-Explorer","root-list":"alinea-Explorer-list",rootList:"alinea-Explorer-list"},V7=j(nue),iue={summaryRow:Kx,summaryThumb:S7};function hp({type:e,query:t,virtualized:r,max:n,selectable:i,selection:o=[],toggleSelect:a=()=>{},onNavigate:s,withNavigation:l,showMedia:u,border:c=!0}){let{schema:d}=dr(),f=oe(gt),h=l0(),p=oe(vh);Qh(()=>{h.invalidateQueries("explorer")},[p]);let{data:m,isLoading:v}=qn(["explorer",e,t,n],async()=>{let k=e==="row"?"summaryRow":"summaryThumb",D=iue[k],F=Wx(d),T=await f.count({...t,status:"preferDraft"}),R={...t,select:F};return{type:e,total:n?Math.min(n,T):T,selection:F,query:R,summaryView:k,defaultView:D}},{keepPreviousData:!0}),g=(0,Q7.useRef)(null),[y,b]=Wle(g),x=m?.type==="thumb"?Math.round(y/260):1,S=m?.type==="thumb"?180:50,E=m?.type==="thumb"?x*10:50,I=m&&y>0&&(!r||b>0);return(0,Vs.jsx)(E7,{value:{selectable:i,selection:o,onSelect:a,onNavigate:s,withNavigation:l,showMedia:u,border:c},children:(0,Vs.jsx)("div",{ref:g,className:V7.root(),children:I?m.total>0?r?(0,Vs.jsx)(rue,{className:V7.root.list(),width:"100%",height:b,overscanCount:2,itemCount:Math.ceil(m.total/x),itemSize:S,renderItem:({index:k,style:D})=>{let F=k*x;return(0,Vs.jsx)("div",{style:{...D,height:S,flexShrink:0},children:(0,Vs.jsx)(B3,{schema:d,query:m.query,amount:x,from:F,batchSize:E,summaryView:m.summaryView,defaultView:m.defaultView})},k)},scrollToIndex:m.total>0?0:void 0}):Array.from({length:Math.ceil(m.total/x)}).map((k,D)=>{let F=D*x;return(0,Vs.jsx)("div",{style:{height:S,flexShrink:0},children:(0,Vs.jsx)(B3,{schema:d,query:m.query,amount:x,from:F,batchSize:E,summaryView:m.summaryView,defaultView:m.defaultView})},D)}):(0,Vs.jsx)("div",{style:{margin:"auto"},children:"No results"}):(0,Vs.jsx)(ir,{absolute:!0})})})}var to=A(P(),1),oue={root:"alinea-SearchBox","root-label":"alinea-SearchBox-label",rootLabel:"alinea-SearchBox-label","root-label-icon":"alinea-SearchBox-label-icon",rootLabelIcon:"alinea-SearchBox-label-icon","root-label-input":"alinea-SearchBox-label-input",rootLabelInput:"alinea-SearchBox-label-input","root-popover":"alinea-SearchBox-popover",rootPopover:"alinea-SearchBox-popover","root-popover-item":"alinea-SearchBox-popover-item",rootPopoverItem:"alinea-SearchBox-popover-item"},Ng=j(oue);function Z7(){let e=Bt(),t=en(),r=_a(),{name:n}=bi(),{name:i}=Qn(),o=Fr(),[a,s]=(0,wc.useState)(""),[l,u]=(0,wc.useState)(!1),c=Ux({onClear:()=>s("")}),d=(0,wc.useMemo)(()=>{let p=a.replace(/,/g," ").split(" ").filter(Boolean);return{select:void 0,workspace:n,root:i,locale:o,search:p}},[n,i,a,o]),[f,h]=(0,wc.useState)("row");return(0,wc.useLayoutEffect)(()=>{s("")},[r]),(0,to.jsxs)("div",{className:Ng.root(),onFocus:()=>{u(!0)},onBlur:({currentTarget:p,relatedTarget:m})=>{p.contains(m)||(u(!1),c.focusProps.onBlur())},children:[(0,to.jsx)("div",{children:(0,to.jsxs)("label",{className:Ng.root.label(),...c.focusProps,children:[(0,to.jsx)($x,{className:Ng.root.label.icon()}),(0,to.jsx)("input",{placeholder:"Search",value:a,onChange:p=>s(p.target.value),className:Ng.root.label.input()}),l&&(0,to.jsx)(Tn.Right,{children:(0,to.jsxs)(q,{gap:10,children:[(0,to.jsx)(je,{size:12,icon:dp,active:f==="row",onClick:()=>h("row")}),(0,to.jsx)(je,{size:12,icon:jx,active:f==="thumb",onClick:()=>h("thumb")})]})})]})}),(0,to.jsx)(c.Container,{children:l&&a&&(0,to.jsx)("div",{className:Ng.root.popover(),children:(0,to.jsx)(hp,{border:!1,query:d,type:f,toggleSelect:p=>t(e.entry(p)),max:25})})})]})}w();w();var Fe;(e=>{e.id="_id",e.type="_type"})(Fe||(Fe={}));w();w();w();w();w();w();var ez=class{find(e){return this.resolve(e)}first(e){return this.resolve({...e,first:!0})}async get(e){let t=globalThis.Bun?new Error("Entry not found"):void 0,r=await this.resolve({...e,get:!0});if(!r)throw t??new Error("Entry not found");return r}count(e){return this.resolve({...e,count:!0})}};function Pg(e){return e?.constructor!==Object?void 0:e.edge}var pp=class extends ez{async create(e){let t=new CL(e);return await this.commit(t),this.get({id:t.id,type:e.type,locale:e.locale,status:e.status==="draft"?"preferDraft":e.status==="archived"?"archived":"preferPublished"})}async update(e){let t=new TL(e);return await this.commit(t),this.get({type:e.type,id:e.id,locale:e.locale??null,status:e.status??"published"})}async remove(...e){await this.commit(new kL(e))}async publish(e){await this.commit(new IL(e))}async unpublish(e){await this.commit(new FL(e))}async archive(e){await this.commit(new RL(e))}async move(e){let t=new DL(e);return await this.commit(t),this.get({id:e.id,select:{index:G.index},status:"preferDraft"})}async discard(e){let t=new AL(e);await this.commit(t)}async upload(e){let t=new Rx(e);return await this.commit(t),this.get({type:Ot,id:t.id})}async commit(...e){let t=await Promise.all(e.map(r=>r.task(this)));await this.mutate(t.flat())}};var tz=class extends pp{config;constructor(e){super(),this.config=_w(e)}get schema(){return this.config.schema}get workspaces(){return this.config.workspaces}};var aue=class extends tz{async sync(){throw new Error("Not implemented")}async resolve(e){throw new Error("Not implemented")}async mutate(e){throw new Error("Not implemented")}async prepareUpload(e){throw new Error("Not implemented")}};function H3(e){return new aue(e)}w();var i2=class extends He{constructor(e,t,r){super({shape:new xx(r.options.label,t,r.options.initialValue,r.postProcess),referencedViews:br.referencedViews(e),...r})}};w();var o2=class extends He{constructor(e,t){super({shape:me.shape(e),referencedViews:me.referencedViews(e),...t})}};w();var sue=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(e=>e.charCodeAt(0))),lue=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(e=>e.charCodeAt(0))),j3,uue=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),cue=(j3=String.fromCodePoint)!==null&&j3!==void 0?j3:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function due(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=uue.get(e))!==null&&t!==void 0?t:e}var vn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(vn||(vn={}));var fue=32,bc;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(bc||(bc={}));function $3(e){return e>=vn.ZERO&&e<=vn.NINE}function hue(e){return e>=vn.UPPER_A&&e<=vn.UPPER_F||e>=vn.LOWER_A&&e<=vn.LOWER_F}function pue(e){return e>=vn.UPPER_A&&e<=vn.UPPER_Z||e>=vn.LOWER_A&&e<=vn.LOWER_Z||$3(e)}function mue(e){return e===vn.EQUALS||pue(e)}var gn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(gn||(gn={}));var Ud;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Ud||(Ud={}));var gue=class{constructor(e,t,r){this.decodeTree=e,this.emitCodePoint=t,this.errors=r,this.state=gn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ud.Strict}startEntity(e){this.decodeMode=e,this.state=gn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case gn.EntityStart:return e.charCodeAt(t)===vn.NUM?(this.state=gn.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=gn.NamedEntity,this.stateNamedEntity(e,t));case gn.NumericStart:return this.stateNumericStart(e,t);case gn.NumericDecimal:return this.stateNumericDecimal(e,t);case gn.NumericHex:return this.stateNumericHex(e,t);case gn.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|fue)===vn.LOWER_X?(this.state=gn.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=gn.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,r,n){if(t!==r){let i=r-t;this.result=this.result*Math.pow(n,i)+parseInt(e.substr(t,i),n),this.consumed+=i}}stateNumericHex(e,t){let r=t;for(;t<e.length;){let n=e.charCodeAt(t);if($3(n)||hue(n))t+=1;else return this.addToNumericResult(e,r,t,16),this.emitNumericEntity(n,3)}return this.addToNumericResult(e,r,t,16),-1}stateNumericDecimal(e,t){let r=t;for(;t<e.length;){let n=e.charCodeAt(t);if($3(n))t+=1;else return this.addToNumericResult(e,r,t,10),this.emitNumericEntity(n,2)}return this.addToNumericResult(e,r,t,10),-1}emitNumericEntity(e,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===vn.SEMI)this.consumed+=1;else if(this.decodeMode===Ud.Strict)return 0;return this.emitCodePoint(due(this.result),this.consumed),this.errors&&(e!==vn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){let{decodeTree:r}=this,n=r[this.treeIndex],i=(n&bc.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){let o=e.charCodeAt(t);if(this.treeIndex=vue(r,n,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return this.result===0||this.decodeMode===Ud.Attribute&&(i===0||mue(o))?0:this.emitNotTerminatedNamedEntity();if(n=r[this.treeIndex],i=(n&bc.VALUE_LENGTH)>>14,i!==0){if(o===vn.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Ud.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;let{result:t,decodeTree:r}=this,n=(r[t]&bc.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,r){let{decodeTree:n}=this;return this.emitCodePoint(t===1?n[e]&~bc.VALUE_LENGTH:n[e+1],r),t===3&&this.emitCodePoint(n[e+2],r),r}end(){var e;switch(this.state){case gn.NamedEntity:return this.result!==0&&(this.decodeMode!==Ud.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case gn.NumericDecimal:return this.emitNumericEntity(0,2);case gn.NumericHex:return this.emitNumericEntity(0,3);case gn.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case gn.EntityStart:return 0}}};function lz(e){let t="",r=new gue(e,n=>t+=cue(n));return function(i,o){let a=0,s=0;for(;(s=i.indexOf("&",s))>=0;){t+=i.slice(a,s),r.startEntity(o);let u=r.write(i,s+1);if(u<0){a=s+r.end();break}a=s+u,s=u===0?a+1:a}let l=t+i.slice(a);return t="",l}}function vue(e,t,r,n){let i=(t&bc.BRANCH_LENGTH)>>7,o=t&bc.JUMP_TABLE;if(i===0)return o!==0&&n===o?r:-1;if(o){let l=n-o;return l<0||l>=i?-1:e[r+l]-1}let a=r,s=a+i-1;for(;a<=s;){let l=a+s>>>1,u=e[l];if(u<n)a=l+1;else if(u>n)s=l-1;else return e[l+i]}return-1}var u7e=lz(sue),c7e=lz(lue),rz;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(rz||(rz={}));var nz;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(nz||(nz={}));var iz;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(iz||(iz={}));var d7e={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};var Ka;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(Ka||(Ka={}));var f7e=Ka.Root,h7e=Ka.Text,p7e=Ka.Directive,m7e=Ka.Comment,g7e=Ka.Script,v7e=Ka.Style,y7e=Ka.Tag,w7e=Ka.CDATA,b7e=Ka.Doctype;function a2(e){for(let t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}var x7e=new Map(a2([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(a2([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(a2([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(a2([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),yue=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),E7e=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function U3(e,t){return function(n){let i,o=0,a="";for(;i=e.exec(n);)o!==i.index&&(a+=n.substring(o,i.index)),a+=t.get(i[0].charCodeAt(0)),o=i.index+1;return a+n.substring(o)}}var S7e=U3(/[&<>'"]/g,yue),C7e=U3(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),k7e=U3(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),oz;(function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"})(oz||(oz={}));var az;(function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"})(az||(az={}));var A7e=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),T7e=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),sz;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(sz||(sz={}));var uz=class extends He{constructor(e,t){super({shape:new Ex(t.options.label,e&&br.shapes(e),t.options.initialValue,t.options.searchable),referencedViews:e?br.referencedViews(e):[],...t})}};w();var cz=class extends He{constructor(e,t,r){super({shape:new Sx(r.options.label,t,r.options.initialValue,r.postProcess),referencedViews:e?br.referencedViews(e):[],...r})}};w();var wue=class extends cz{first(e){return{edge:"entrySingle",first:!0,field:this,...e}}};function js(e,t){let r=ue(t.pickers),n=Dt(r.filter(([o,a])=>a.fields).map(([o,a])=>[o,a.fields])),i=Dt(r.map(([o,a])=>[o,a.shape]));return new wue(n,i,{options:{label:e,...t},async postProcess(o,a){let s=o[Fe.type],l=t.pickers[s];l&&l.postProcess&&await l.postProcess(o,a)},view:Qe.SingleLinkInput})}var bue=class extends i2{find(e){return{edge:"entryMultiple",field:this,...e}}first(e){return{edge:"entryMultiple",first:!0,field:this,...e}}count(e){return{edge:"entryMultiple",count:!0,field:this,...e}}};function $s(e,t){let r=ue(t.pickers),n=Dt(r.filter(([o,a])=>a.fields).map(([o,a])=>[o,a.fields])),i=Dt(r.map(([o,a])=>[o,a.shape]));return new bue(n,i,{options:{label:e,...t},async postProcess(o,a){let s=[];for(let l of o){let u=l[ye.type],c=t.pickers[u];c&&c.postProcess&&s.push(c.postProcess(l,a))}await Promise.all(s)},view:Qe.MultipleLinksInput})}w();w();function s2(e,t){return(...n)=>({...e(...n),...t})}w();var dz=A($(),1),mp=A(P(),1),xue={root:"alinea-Breadcrumbs","root-separator":"alinea-Breadcrumbs-separator",rootSeparator:"alinea-Breadcrumbs-separator"},fz=j(xue);function hz({children:e}){return(0,mp.jsx)(q,{center:!0,gap:8,className:fz.root(),children:e})}function l2({children:e}){return(0,mp.jsxs)(dz.Fragment,{children:[e,(0,mp.jsx)("span",{className:fz.root.separator(),children:(0,mp.jsx)(ee,{icon:qa,size:17})})]})}var na=A($(),1);w();function pz(e){let t=me.isType(e.fields)?e.fields:e.fields&&wr("Entry fields",{fields:e.fields}),r=t&&me.shape(t);return{shape:new Gi("Entry",{[Fe.id]:new Xt("Id"),[Fe.type]:new Xt("Type"),[Vt.entry]:new Xt("Entry")}).concat(r),fields:t,label:e.label||"Page link",handlesMultiple:!0,options:e,async postProcess(n,i){let{[Fe.id]:o,[Fe.type]:a,[Vt.entry]:s,[ye.index]:l,...u}=n;for(let y of Rt(u))delete n[y];if(n.fields=u,!s)return;let c=[s];if(!e.selection)return;let[d]=await i.resolveLinks(e.selection,c);if(a!=="image")return ss(n,d);if(!d)return n;let{src:f,previewUrl:h,filePath:p,...m}=d;if(!h)return ss(n,d,{src:f});let g=i.includedAtBuild(p)?f:h;n.src=g,ss(n,m)}}}w();w();w();Vc();var Eue=as(Nx(),1),Sue=Q(e=>{let t=e(gt),{schema:r}=e(Yn),n=Wx(r);return new Eue.default(async i=>{let o=new Map,a=await t.find({select:n,id:{in:i},status:"preferDraft"});for(let s of a){let l=s.locale??"";o.has(s.id)?o.get(s.id)[l]=s:o.set(s.id,{[l]:s})}return i.map(s=>o.get(s))})}),mz=Kn(e=>Q(async t=>{let n=await t(Sue).clear(e.id).load(e.id);if(!n)return;let i=n[e.locale??""]??n[Object.keys(n)[0]];if(t(yh(i.id)),i?.parents)for(let o of i.parents)t(yh(o.id));return i}),(e,t)=>e.id===t.id&&e.locale===t.locale);function gz(e){let t=Fr();return oe(mz({id:e,locale:t}))}var vz=A(P(),1);function yz({reference:e}){let{views:t}=Xr(),r=gz(e[Vt.entry]),{schema:n}=dr();if(!r)return null;let i=n[r.type],o=i&&tt(i).summaryRow,a=(o&&Cs(t,o))??Kx;return(0,vz.jsx)(a,{...r})}var qe=A(P(),1),Cue={root:"alinea-EntryPicker","root-footer":"alinea-EntryPicker-footer",rootFooter:"alinea-EntryPicker-footer","root-header":"alinea-EntryPicker-header",rootHeader:"alinea-EntryPicker-header","root-search":"alinea-EntryPicker-search",rootSearch:"alinea-EntryPicker-search","root-search-icon":"alinea-EntryPicker-search-icon",rootSearchIcon:"alinea-EntryPicker-search-icon","root-search-input":"alinea-EntryPicker-search-input",rootSearchInput:"alinea-EntryPicker-search-input","root-results":"alinea-EntryPicker-results",rootResults:"alinea-EntryPicker-results","root-results-list":"alinea-EntryPicker-results-list",rootResultsList:"alinea-EntryPicker-results-list","root-results-list-item":"alinea-EntryPicker-results-list-item",rootResultsListItem:"alinea-EntryPicker-results-list-item"},ia=s2(pz,{view:kue,viewRow:yz}),Wd=j(Cue);function kue({type:e,options:t,selection:r,onConfirm:n,onCancel:i}){let o=dr(),a=Ls(),s=Rh(),{title:l,defaultView:u,max:c,pickChildren:d,showMedia:f}=t,[h,p]=(0,na.useState)(""),m=Ux({onClear:()=>p("")}),[v,g]=(0,na.useState)(()=>r||[]),{name:y}=bi(),{name:b}=Qn(),x=Fr(),S=(0,na.useMemo)(()=>{if(!s)return;let{id:K,type:te,workspace:se,root:de,parentId:Se,locale:be}=s.activeVersion;return{id:K,type:te,workspace:se,root:de,parentId:Se,locale:be}},[s?.activeVersion]),I=qn(["entry-location",a,S,t.location],async()=>{if(S)return typeof t.location=="function"?t.location({graph:a,entry:S}):t.location},{suspense:!0}).data,[k,D]=(0,na.useState)({workspace:y,parentId:d?s?.entryId:void 0,root:f?$t.defaultMediaRoot(o.workspaces[y]):b,...I,locale:x}),F=o.workspaces[k.workspace],T=$t.data(F),R=xr.data(F[k.root]),_=R.i18n?.locales,M=R.i18n?_&&k.locale&&_.includes(k.locale)?k.locale:R.i18n.locales[0]:void 0,{data:L}=qn(["picker-parents",k,M],async()=>{if(!k.parentId)return[];let K=await a.get({locale:M,select:{title:G.title,parents:{edge:"parents",select:{id:G.id,title:G.title}}},id:k.parentId,status:"preferDraft"});return K?.parents.concat({id:k.parentId,title:K.title})}),V=t.enableNavigation||!t.condition&&!t.pickChildren,U=qn(["entry-condition",a,S],()=>{if(S)return typeof t.condition=="function"?t.condition({graph:a,entry:S}):t.condition},{suspense:!0}),N=(0,na.useMemo)(()=>{let K=h.replace(/,/g," ").split(" ").filter(Boolean),te=U.data,se=V&&!h||d?k.parentId??null:void 0,de={and:[te,{_workspace:k.workspace,_root:k.root,_parentId:se,_locale:M}]};return{select:G,filter:de,search:K}},[V,k,M,h,U.data]),[H,O]=(0,na.useState)(u||"row"),J=(0,na.useCallback)(K=>{g(te=>{let se=te.findIndex(Se=>Vt.isEntryReference(Se)&&Se[Vt.entry]===K.id),de=te.slice();return se===-1?de=de.concat({[Fe.id]:_t(),[Fe.type]:e,[Vt.entry]:K.id}).slice(-(c||0)):(de.splice(se,1),de=de.slice(-(c||0))),c===1&&de.length===1&&n(de),de})},[n,e,c]);function B(){n(v)}function z(){D({...k,parentId:void 0})}function Y(){if(!k.parentId)return i();let K=L?.findIndex(({id:se})=>se===k.parentId);if(K===void 0)return;let te=L?.[K-1];if(!te)return z();D({...k,parentId:te.id})}return(0,qe.jsx)(Go,{open:!0,onClose:i,className:Wd.root(),children:(0,qe.jsxs)(na.Suspense,{fallback:(0,qe.jsx)(ir,{absolute:!0}),children:[(0,qe.jsx)("div",{className:Wd.root.header(),children:(0,qe.jsxs)(ot,{gap:24,children:[(0,qe.jsxs)(q,{align:"flex-end",gap:18,children:[(0,qe.jsx)(je,{icon:gc,onClick:Y}),(0,qe.jsxs)(ot,{children:[V&&(0,qe.jsxs)(hz,{children:[(0,qe.jsx)(l2,{children:(0,qe.jsx)("button",{type:"button",style:{cursor:"pointer"},onClick:z,children:T.label})}),(0,qe.jsxs)(l2,{children:[(0,qe.jsxs)(fe.Root,{bottom:!0,children:[(0,qe.jsx)(fe.Trigger,{children:(0,qe.jsxs)(q,{center:!0,gap:4,children:[xr.label(F[k.root]),(0,qe.jsx)(ee,{icon:ti})]})}),(0,qe.jsx)(fe.Items,{children:ue(F).map(([K,te])=>(0,qe.jsx)(fe.Item,{onClick:()=>{D({workspace:k.workspace,root:K})},children:xr.label(te)},K))})]}),R.i18n&&(0,qe.jsx)(ep,{inline:!0,selected:M,locales:R.i18n.locales,onChange:K=>{D({...k,parentId:void 0,locale:K})}})]}),L?.map(({id:K,title:te})=>(0,qe.jsx)(l2,{children:(0,qe.jsx)("button",{type:"button",style:{cursor:"pointer"},onClick:()=>{D({...k,parentId:K})},children:te})},K))]}),(0,qe.jsx)("h2",{children:l?(0,qe.jsx)(Ze,{label:l}):"Select a reference"})]})]}),(0,qe.jsxs)("label",{className:Wd.root.search(),children:[(0,qe.jsx)($x,{className:Wd.root.search.icon()}),(0,qe.jsx)("input",{type:"text",placeholder:"Search",value:h,onChange:K=>p(K.target.value),className:Wd.root.search.input(),...m.focusProps}),(0,qe.jsx)(Tn.Right,{children:(0,qe.jsxs)(q,{gap:16,children:[(0,qe.jsx)(je,{icon:dp,active:H==="row",onClick:()=>O("row")}),(0,qe.jsx)(je,{icon:jx,active:H==="thumb",onClick:()=>O("thumb")})]})})]})]})}),(0,qe.jsxs)(ot,{style:{flexGrow:1,minHeight:0},children:[(0,qe.jsx)(m.Container,{children:(0,qe.jsx)("div",{className:Wd.root.results(),children:(0,qe.jsx)(hp,{virtualized:!0,query:N,type:H,selectable:f?["MediaFile"]:!0,selection:v,toggleSelect:J,showMedia:f,onNavigate:h&&!f?void 0:K=>{f&&h&&p(""),D({...k,parentId:K})},withNavigation:V})})}),f&&(0,qe.jsx)(lp,{position:"left",destination:{...k,directory:Wu(o,k.workspace)},max:c,toggleSelect:J,onlyImages:e==="image"})]}),(0,qe.jsx)(q,{as:"footer",className:Wd.root.footer(),children:(0,qe.jsx)(Tn.Right,{children:(0,qe.jsxs)(q,{gap:16,children:[(0,qe.jsx)(Jt,{outline:!0,type:"button",onClick:i,children:"Cancel"}),(0,qe.jsx)(Jt,{onClick:B,children:"Confirm"})]})})})]})})}var Ll;(e=>{e.entryId=G.id,e.title=G.title,e.entryType=G.type,e.url=G.url,e.href=G.url,e.path=G.path})(Ll||(Ll={}));function qd(e,t={}){return js(e,{...t,pickers:{entry:ia({...t,title:"Select a page",max:1,selection:Ll})}})}(e=>{function t(r,n={}){return $s(r,{...n,pickers:{entry:ia({...n,title:"Select a page",selection:Ll})}})}e.multiple=t})(qd||(qd={}));w();var W3;(e=>{e.title=G.title,e.url=Ot.location,e.href=Ot.location,e.extension=Ot.extension,e.size=Ot.size})(W3||(W3={}));var Aue={_type:"MediaFile",extension:{notIn:sp}};function Lg(e,t){return ia({...t,max:e?void 0:1,label:"File",title:e?"Select files":"Select a file",condition:{or:[Aue,{_type:"MediaLibrary"}]},showMedia:!0,defaultView:"thumb",selection:W3})}function u2(e,t={}){return js(e,{...t,pickers:{file:Lg(!1,t)}})}(e=>{function t(r,n={}){return $s(r,{...n,pickers:{file:Lg(!0,n)}})}e.multiple=t})(u2||(u2={}));w();var q3;(e=>{e.title=G.title,e.src=Ot.location,e.extension=Ot.extension,e.size=Ot.size,e.hash=Ot.hash,e.width=Ot.width,e.height=Ot.height,e.averageColor=Ot.averageColor,e.thumbHash=Ot.thumbHash,e.focus=Ot.focus})(q3||(q3={}));var Tue={_type:"MediaFile",extension:{in:[...sp,...sp.map(e=>e.toUpperCase())]}};function wz(e,t){return ia({...t,max:e?void 0:1,label:"Image",title:e?"Select images":"Select an image",condition:Tue,showMedia:!0,defaultView:"thumb",selection:{...q3,filePath:G.filePath,previewUrl:Ot.previewUrl}})}function gp(e,t={}){return js(e,{...t,pickers:{image:wz(!1,t)}})}(e=>{function t(r,n={}){return $s(r,{...n,pickers:{image:wz(!0,n)}})}e.multiple=t})(gp||(gp={}));w();w();w();var Due=class extends Ir{};function vp(e,t={}){return new Due({options:{...t,label:e},view:Qe.CheckInput})}var Ez=A($(),1);w();var Cr;(e=>{e.url="_url",e.title="_title",e.target="_target";function t(r){return r&&r[Fe.type]==="url"}e.isUrl=t})(Cr||(Cr={}));function bz(e){let t=me.isType(e.fields)?e.fields:e.fields&&wr("URL fields",{fields:e.fields}),r=t&&me.shape(t);return{shape:new Gi("Url",{[Fe.id]:new Xt("Id"),[Fe.type]:new Xt("Type"),[Cr.url]:new Xt("Url"),[Cr.title]:new Xt("Title"),[Cr.target]:new Xt("Target")}).concat(r),label:"External website",handlesMultiple:!1,fields:t,options:e,async postProcess(n,i){let{[Fe.id]:o,[Fe.type]:a,[Cr.url]:s,[Cr.title]:l,[Cr.target]:u,[ye.index]:c,...d}=n,f=Rt(d);for(let h of f)delete n[h];n.url=s,n.href=s,n.title=l,n.target=u,n.fields=d}}}w();var zg=A(P(),1),Iue={root:"alinea-UrlPickerRow","root-url":"alinea-UrlPickerRow-url",rootUrl:"alinea-UrlPickerRow-url","root-desc":"alinea-UrlPickerRow-desc",rootDesc:"alinea-UrlPickerRow-desc"},K3=j(Iue);function xz({reference:e}){return(0,zg.jsxs)(q,{gap:15,className:K3.root(),children:[(0,zg.jsx)("span",{className:K3.root.url(),children:e._url}),(0,zg.jsx)("span",{className:K3.root.desc(),children:e._title})]})}var Ya=A(P(),1),yp=s2(bz,{view:Rue,viewRow:xz});function Fue({selection:e,options:t,onConfirm:r,onCancel:n}){let i=e?.[0],o=(0,Ez.useMemo)(()=>wr("Link",{fields:{url:Kr("Url",{required:!0,help:"Url of the link"}),title:Kr("Description",{help:"Text to display inside the link element"}),blank:vp("Target",{description:"Open link in new tab",initialValue:!0})}}),[]),a=Ch(o,{initialValue:i?{url:i[Cr.url],title:i[Cr.title],blank:i[Cr.target]==="_blank"}:void 0});function s(l){l.preventDefault(),l.stopPropagation();let u=a.data(),c={[Fe.id]:i?._id??_t(),[Fe.type]:"url",[Cr.url]:u.url,[Cr.title]:u.title||"",[Cr.target]:u.blank?"_blank":"_self"};r([c])}return(0,Ya.jsxs)("form",{onSubmit:s,children:[(0,Ya.jsx)(jr,{border:!1,form:a}),(0,Ya.jsx)(q,{children:(0,Ya.jsx)(Tn.Right,{children:(0,Ya.jsxs)(q,{gap:16,children:[(0,Ya.jsx)(Jt,{outline:!0,type:"button",onClick:n,children:"Cancel"}),(0,Ya.jsx)(Jt,{children:"Confirm"})]})})})]})}function Rue(e){return(0,Ya.jsx)(Go,{open:!0,onClose:e.onCancel,children:(0,Ya.jsx)(Fue,{...e})})}function wp(e,t={}){return js(e,{...t,pickers:{entry:ia({...t,title:"Select a page",max:1,selection:Ll}),url:yp(t),file:Lg(!1,t)}})}(e=>{function t(r,n={}){return $s(r,{...n,pickers:{entry:ia({...n,title:"Select a page",selection:Ll}),url:yp(n),file:Lg(!0,n)}})}e.multiple=t})(wp||(wp={}));w();function c2(e,t={}){return js(e,{...t,pickers:{url:yp(t)}})}(e=>{function t(r,n={}){return $s(r,{...n,pickers:{url:yp(n)}})}e.multiple=t})(c2||(c2={}));w();var Mue=class extends Ir{};function zl(e,t){return new Mue({options:{label:e,...t},view:Qe.SelectInput})}w();var Sz=A(P(),1),_ue={root:"alinea-Link"},Oue=j(_ue);function Cz({href:e,external:t,children:r,...n}){let o=e&&!t?bo(e):{href:e};return(0,Sz.jsx)("a",{...n,...o,className:Oue.root.mergeProps(n)(),children:r})}var Oo=A($(),1);w();function kz(){return oe(gt)}var oa=A(P(),1),Bue={root:"alinea-NewEntry","root-header":"alinea-NewEntry-header",rootHeader:"alinea-NewEntry-header","root-footer":"alinea-NewEntry-footer",rootFooter:"alinea-NewEntry-footer","root-footer-link":"alinea-NewEntry-footer-link",rootFooterLink:"alinea-NewEntry-footer-link",form:"alinea-NewEntry-form","is-loading":"alinea-NewEntry-is-loading",isLoading:"alinea-NewEntry-is-loading"},d2=j(Bue),Az={id:G.id,type:G.type,path:G.path,url:G.url,level:G.level,parent:G.parentId,parentPaths:Lx({select:G.path})},Nue=Kr("Title",{autoFocus:!0});function Pue({parentId:e}){let t=dr(),r=Fr(),n=kz(),{data:i}=qn(["parent-req",e],async()=>e?n.first({select:Az,id:e,locale:r,status:"preferDraft"}):null,{suspense:!0,keepPreviousData:!0,staleTime:0}),o=i&&(me.isContainer(t.schema[i.type])?i.id:i.parent),{pathname:a}=_a(),s=Bt(),l=en(),{name:u}=bi(),c=ue(t.schema).filter(([,T])=>me.isContainer(T)).map(T=>T[0]),d=Qn(),f=(0,Oo.useMemo)(()=>qd("Parent",{location:{workspace:u,root:d.name},condition:{_type:{in:c}},enableNavigation:!0,initialValue:o?{[Fe.id]:"parent",[Fe.type]:"entry",[Vt.entry]:o}:void 0}),[]);async function h(T){if(!T)return d.contains?br.contained(t.schema,d.contains):Rt(t.schema);let R=T?await n.get({select:Az,id:T,status:"preferDraft"}):null,_=R&&t.schema[R.type];return _?br.contained(t.schema,me.contains(_)):Rt(t.schema)}let p=(0,Oo.useMemo)(()=>{let T=zl("Select type",{options:{}});return Ba.options(T,async R=>{let M=R(f)?.[Vt.entry],L=await h(M);return{options:Dt(L.map(V=>[V,t.schema[V]]).filter(V=>V[1]).map(([V,U])=>[V,me.label(U)||V]))}})},[]),m=(0,Oo.useMemo)(()=>{let T=zl("Insert order",{initialValue:"last",options:{first:"At the top of the list",last:"At the bottom of the list"}});return Ba.options(T,async R=>{let M=R(f)?.[Vt.entry],L=await n.first({select:{type:G.type},id:M,status:"preferDraft"}),V=L&&t.schema[L.type];return{hidden:(V&&me.insertOrder(V))!=="free"}})},[]),v=(0,Oo.useMemo)(()=>{let T=qd("Copy content from");return Ba.options(T,R=>{let _=R(p);return{readOnly:!_,pickers:{entry:ia({condition:{_type:_},title:"Copy content from",max:1,selection:Ll})}}})},[]),[g,y]=(0,Oo.useState)(!1),b=(0,Oo.useMemo)(()=>wr("New entry",{fields:{parent:f,title:Nue,type:p,order:m,copyFrom:v}}),[]),x=Ch(b),S=x.fieldInfo(f),E=x.fieldInfo(p),I=x.fieldInfo(v),k=oe(E.value),D=oe(S.value);(0,Oo.useEffect)(()=>{h(D?.[Vt.entry]).then(T=>{T.length>0&&E.mutator(T[0])})},[D]),(0,Oo.useEffect)(()=>{I.mutator.replace(void 0)},[k]);async function F(T){T.preventDefault();let{title:R,type:_}=x.data();if(g||!_||!R)return;y(!0);let M=Ui(R),L=_t(),V=x.data().parent?.[Vt.entry],U=t.schema[_],N=x.data().copyFrom?.[Vt.entry],H=N?await n.first({select:G.data,id:N,locale:r,status:"preferPublished"}):me.initialValue(U);return n.create({type:U,id:L,insertOrder:x.data().order,parentId:V,locale:r,root:d.name,workspace:u,status:t.enableDrafts?"draft":"published",set:{...H,title:R,path:M}}).then(O=>{l(s.entry({id:O._id}))}).finally(()=>{y(!1)})}return(0,oa.jsxs)("form",{onSubmit:F,className:d2.form({loading:g}),children:[g&&(0,oa.jsx)(ir,{absolute:!0}),(0,oa.jsx)(jr,{border:!1,form:x}),(0,oa.jsxs)("div",{className:d2.root.footer(),children:[(0,oa.jsx)(Cz,{href:a,className:d2.root.footer.link(),children:"Cancel"}),(0,oa.jsx)(Jt,{children:"Create"})]})]})}function Tz({parentId:e}){let t=en(),{pathname:r}=_a();function n(){t(r)}return(0,oa.jsx)(Go,{open:!0,onClose:n,className:d2.root(),children:(0,oa.jsx)(Oo.Suspense,{fallback:(0,oa.jsx)(ir,{}),children:(0,oa.jsx)(Pue,{parentId:e})})})}var yn=A(P(),1),Lue={"root-sidebar":"alinea-ContentView-sidebar",rootSidebar:"alinea-ContentView-sidebar","root-create":"alinea-ContentView-create",rootCreate:"alinea-ContentView-create","root-create-button":"alinea-ContentView-create-button",rootCreateButton:"alinea-ContentView-create-button"},Dz=j(Lue);function Iz({editor:e}){let{views:t}=Xr(),r=bi(),n=Qn(),i=Fr(),{search:o}=_a(),a=(e?.view?Cs(t,e.view):S3)??S3,s=(n?.view?Cs(t,n.view):T3)??T3,l=Bt(),u=en(),{schema:c}=dr(),d=e&&c[e.activeVersion.type];return(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsxs)(Fo.Tree,{children:[(0,yn.jsx)(Z7,{}),(0,yn.jsx)(m7,{selectedId:e?.activeVersion.id,expanded:e?.activeVersion.parents}),(0,yn.jsx)("div",{className:Dz.root.create(),children:(0,yn.jsx)("button",{type:"button",className:Dz.root.create.button(),onClick:()=>u(l.create({id:e?.activeVersion.id,workspace:r.name,root:n.name})),children:(0,yn.jsxs)(q,{center:!0,gap:8,align:"center",children:[(0,yn.jsx)(ee,{icon:K0,size:17}),(0,yn.jsx)("span",{children:"Create new"})]})})})]}),o==="?new"&&(0,yn.jsx)(Tz,{parentId:e?.entryId}),(0,yn.jsx)(Pa,{name:"content view",fallback:(0,yn.jsx)(ir,{absolute:!0}),children:d&&e?(0,yn.jsx)(a,{type:d,editor:e}):(0,yn.jsx)(s,{root:n})})]})}var Rz=A(P(),1),zue=Kn(()=>Q(async e=>{let t=e(Vw),r=e(yd);return{editor:await e(ON({locale:r,id:t?.id}))}})),Vue=new BA({path:"*",loader:zue,component:Iz}),Hue=Kn(()=>Q(async e=>{let t=e(wo),r=new URLSearchParams(t.search),n=r.get("url"),i=r.get("workspace")??void 0,o=r.get("root")??void 0,s=await(await e(gt)).first({select:{id:G.id,locale:G.locale,root:G.root,workspace:G.workspace},url:n,workspace:i,root:o,status:"preferDraft"});return s?{...s,locale:s.locale||void 0}:null})),jue=new BA({path:"/edit",loader:Hue,component:$ue});function $ue(e){let t=Bt(),r=en();return(0,Fz.useLayoutEffect)(()=>{e&&r(t.entry(e))},[e]),(0,Rz.jsx)(ir,{absolute:!0})}var Uue=[jue,Vue],Mz=new BN({routes:Uue});w();w();var pr=A($(),1),Y3=(0,pr.createContext)(null);Y3.displayName="GroupContext";var Wue=pr.Fragment;function que(e){var t;let[r,n]=(0,pr.useState)(null),[i,o]=Bd(),[a,s]=ox(),l=(0,pr.useMemo)(()=>({switch:r,setSwitch:n}),[r,n]),u={},c=e,d=nt();return pr.default.createElement(s,{name:"Switch.Description",value:a},pr.default.createElement(o,{name:"Switch.Label",value:i,props:{htmlFor:(t=l.switch)==null?void 0:t.id,onClick(f){r&&(f.currentTarget instanceof HTMLLabelElement&&f.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},pr.default.createElement(Y3.Provider,{value:l},d({ourProps:u,theirProps:c,slot:{},defaultTag:Wue,name:"Switch.Group"}))))}var Kue="button";function Yue(e,t){var r;let n=(0,Er.useId)(),i=hg(),o=Gh(),{id:a=i||`headlessui-switch-${n}`,disabled:s=o||!1,checked:l,defaultChecked:u,onChange:c,name:d,value:f,form:h,autoFocus:p=!1,...m}=e,v=(0,pr.useContext)(Y3),[g,y]=(0,pr.useState)(null),b=(0,pr.useRef)(null),x=yt(b,t,v===null?null:v.setSwitch,y),S=mx(u),[E,I]=px(l,c,S??!1),k=Co(),[D,F]=(0,pr.useState)(!1),T=le(()=>{F(!0),I?.(!E),k.nextFrame(()=>{F(!1)})}),R=le(se=>{if(_l(se.currentTarget))return se.preventDefault();se.preventDefault(),T()}),_=le(se=>{se.key===De.Space?(se.preventDefault(),T()):se.key===De.Enter&&gx(se.currentTarget)}),M=le(se=>se.preventDefault()),L=pg(),V=ix(),{isFocusVisible:U,focusProps:N}=za({autoFocus:p}),{isHovered:H,hoverProps:O}=As({isDisabled:s}),{pressed:J,pressProps:B}=Ts({disabled:s}),z=(0,pr.useMemo)(()=>({checked:E,disabled:s,hover:H,focus:U,active:J,autofocus:p,changing:D}),[E,H,U,J,s,D,p]),Y=Ei({id:a,ref:x,role:"switch",type:Ds(e,g),tabIndex:e.tabIndex===-1?0:(r=e.tabIndex)!=null?r:0,"aria-checked":E,"aria-labelledby":L,"aria-describedby":V,disabled:s||void 0,autoFocus:p,onClick:R,onKeyUp:_,onKeyPress:M},N,O,B),K=(0,pr.useCallback)(()=>{if(S!==void 0)return I?.(S)},[I,S]),te=nt();return pr.default.createElement(pr.default.Fragment,null,d!=null&&pr.default.createElement(vx,{disabled:s,data:{[d]:f||"on"},overrides:{type:"checkbox",checked:E},form:h,onReset:K}),te({ourProps:Y,theirProps:m,slot:z,defaultTag:Kue,name:"Switch"}))}var Gue=it(Yue),Jue=que,Que=lx,Xue=L9,f2=Object.assign(Gue,{Group:Jue,Label:Que,Description:Xue});w();var G3=A(P(),1);function _z({user:e}){let t=e.sub.charAt(0).toUpperCase(),r=Fw(e.sub),n=mh(r);return(0,G3.jsx)("div",{style:{borderRadius:"100%",background:r,color:n,width:Me(24),height:Me(24),display:"flex",justifyContent:"center",alignItems:"center",fontSize:Me(13),fontWeight:"bold"},children:(0,G3.jsx)("span",{children:t})})}w();var h2=A($(),1),Oz=A($(),1),jl=A($(),1),Lz=A($(),1),ke=A($(),1),Vl=A(P(),1),Zue=(0,h2.createContext)(()=>{});function ece({value:e,children:t}){return h2.default.createElement(Zue.Provider,{value:e},t)}function tce(e,t,r,n){let i=Fn(r);(0,Oz.useEffect)(()=>{e=e??window;function o(a){i.current(a)}return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n)},[e,t,n])}function rce({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=Ua(r),i=le(()=>{var o,a;let s=[];for(let l of e)l!==null&&(l instanceof HTMLElement?s.push(l):"current"in l&&l.current instanceof HTMLElement&&s.push(l.current));if(t!=null&&t.current)for(let l of t.current)s.push(l);for(let l of(o=n?.querySelectorAll("html > *, body > *"))!=null?o:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(r&&(l.contains(r)||l.contains((a=r?.getRootNode())==null?void 0:a.host))||s.some(u=>l.contains(u))||s.push(l));return s});return{resolveContainers:i,contains:le(o=>i().some(a=>a.contains(o)))}}var Bz=(0,jl.createContext)(null);function Nz({children:e,node:t}){let[r,n]=(0,jl.useState)(null),i=Pz(t??r);return jl.default.createElement(Bz.Provider,{value:i},e,i===null&&jl.default.createElement(ja,{features:Ha.Hidden,ref:o=>{var a,s;if(o){for(let l of(s=(a=In(o))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?s:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(o)){n(l);break}}}}))}function Pz(e=null){var t;return(t=(0,jl.useContext)(Bz))!=null?t:e}var Hl=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Hl||{});function zz(){let e=(0,Lz.useRef)(0);return FT(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}var nce=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(nce||{}),ice=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(ice||{}),oce={0:e=>({...e,popoverState:Lt(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Q3=(0,ke.createContext)(null);Q3.displayName="PopoverContext";function p2(e){let t=(0,ke.useContext)(Q3);if(t===null){let r=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,p2),r}return t}var m2=(0,ke.createContext)(null);m2.displayName="PopoverAPIContext";function X3(e){let t=(0,ke.useContext)(m2);if(t===null){let r=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,X3),r}return t}var Z3=(0,ke.createContext)(null);Z3.displayName="PopoverGroupContext";function Vz(){return(0,ke.useContext)(Z3)}var g2=(0,ke.createContext)(null);g2.displayName="PopoverPanelContext";function ace(){return(0,ke.useContext)(g2)}function sce(e,t){return Lt(t.type,oce,e,t)}var lce="div";function uce(e,t){var r;let{__demoMode:n=!1,...i}=e,o=(0,ke.useRef)(null),a=yt(t,pb(H=>{o.current=H})),s=(0,ke.useRef)([]),l=(0,ke.useReducer)(sce,{__demoMode:n,popoverState:n?0:1,buttons:s,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,ke.createRef)(),afterPanelSentinel:(0,ke.createRef)(),afterButtonSentinel:(0,ke.createRef)()}),[{popoverState:u,button:c,buttonId:d,panel:f,panelId:h,beforePanelSentinel:p,afterPanelSentinel:m,afterButtonSentinel:v},g]=l,y=Ua((r=o.current)!=null?r:c),b=(0,ke.useMemo)(()=>{if(!c||!f)return!1;for(let K of document.querySelectorAll("body > *"))if(Number(K?.contains(c))^Number(K?.contains(f)))return!0;let H=Dh(),O=H.indexOf(c),J=(O+H.length-1)%H.length,B=(O+1)%H.length,z=H[J],Y=H[B];return!f.contains(z)&&!f.contains(Y)},[c,f]),x=Fn(d),S=Fn(h),E=(0,ke.useMemo)(()=>({buttonId:x,panelId:S,close:()=>g({type:1})}),[x,S,g]),I=Vz(),k=I?.registerPopover,D=le(()=>{var H;return(H=I?.isFocusWithinPopoverGroup())!=null?H:y?.activeElement&&(c?.contains(y.activeElement)||f?.contains(y.activeElement))});(0,ke.useEffect)(()=>k?.(E),[k,E]);let[F,T]=I9(),R=Pz(c),_=rce({mainTreeNode:R,portals:F,defaultContainers:[c,f]});tce(y?.defaultView,"focus",H=>{var O,J,B,z,Y,K;H.target!==window&&H.target instanceof HTMLElement&&u===0&&(D()||c&&f&&(_.contains(H.target)||(J=(O=p.current)==null?void 0:O.contains)!=null&&J.call(O,H.target)||(z=(B=m.current)==null?void 0:B.contains)!=null&&z.call(B,H.target)||(K=(Y=v.current)==null?void 0:Y.contains)!=null&&K.call(Y,H.target)||g({type:1})))},!0),Ph(u===0,_.resolveContainers,(H,O)=>{g({type:1}),Il(O,Dl.Loose)||(H.preventDefault(),c?.focus())});let M=le(H=>{g({type:1});let O=H?H instanceof HTMLElement?H:"current"in H&&H.current instanceof HTMLElement?H.current:c:c;O?.focus()}),L=(0,ke.useMemo)(()=>({close:M,isPortalled:b}),[M,b]),V=(0,ke.useMemo)(()=>({open:u===0,close:M}),[u,M]),U={ref:a},N=nt();return ke.default.createElement(Nz,{node:R},ke.default.createElement(qh,null,ke.default.createElement(g2.Provider,{value:null},ke.default.createElement(Q3.Provider,{value:l},ke.default.createElement(m2.Provider,{value:L},ke.default.createElement(ece,{value:M},ke.default.createElement(Kh,{value:Lt(u,{0:pn.Open,1:pn.Closed})},ke.default.createElement(T,null,N({ourProps:U,theirProps:i,slot:V,defaultTag:lce,name:"Popover"})))))))))}var cce="button";function dce(e,t){let r=(0,Er.useId)(),{id:n=`headlessui-popover-button-${r}`,disabled:i=!1,autoFocus:o=!1,...a}=e,[s,l]=p2("Popover.Button"),{isPortalled:u}=X3("Popover.Button"),c=(0,ke.useRef)(null),d=`headlessui-focus-sentinel-${(0,Er.useId)()}`,f=Vz(),h=f?.closeOthers,p=ace()!==null;(0,ke.useEffect)(()=>{if(!p)return l({type:3,buttonId:n}),()=>{l({type:3,buttonId:null})}},[p,n,l]);let[m]=(0,ke.useState)(()=>Symbol()),v=yt(c,t,$h(),le(O=>{if(!p){if(O)s.buttons.current.push(m);else{let J=s.buttons.current.indexOf(m);J!==-1&&s.buttons.current.splice(J,1)}s.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),O&&l({type:2,button:O})}})),g=yt(c,t),y=Ua(c),b=le(O=>{var J,B,z;if(p){if(s.popoverState===1)return;switch(O.key){case De.Space:case De.Enter:O.preventDefault(),(B=(J=O.target).click)==null||B.call(J),l({type:1}),(z=s.button)==null||z.focus();break}}else switch(O.key){case De.Space:case De.Enter:O.preventDefault(),O.stopPropagation(),s.popoverState===1&&h?.(s.buttonId),l({type:0});break;case De.Escape:if(s.popoverState!==0)return h?.(s.buttonId);if(!c.current||y!=null&&y.activeElement&&!c.current.contains(y.activeElement))return;O.preventDefault(),O.stopPropagation(),l({type:1});break}}),x=le(O=>{p||O.key===De.Space&&O.preventDefault()}),S=le(O=>{var J,B;_l(O.currentTarget)||i||(p?(l({type:1}),(J=s.button)==null||J.focus()):(O.preventDefault(),O.stopPropagation(),s.popoverState===1&&h?.(s.buttonId),l({type:0}),(B=s.button)==null||B.focus()))}),E=le(O=>{O.preventDefault(),O.stopPropagation()}),{isFocusVisible:I,focusProps:k}=za({autoFocus:o}),{isHovered:D,hoverProps:F}=As({isDisabled:i}),{pressed:T,pressProps:R}=Ts({disabled:i}),_=s.popoverState===0,M=(0,ke.useMemo)(()=>({open:_,active:T||_,disabled:i,hover:D,focus:I,autofocus:o}),[_,D,I,T,i,o]),L=Ds(e,s.button),V=p?Ei({ref:g,type:L,onKeyDown:b,onClick:S,disabled:i||void 0,autoFocus:o},k,F,R):Ei({ref:v,id:s.buttonId,type:L,"aria-expanded":s.popoverState===0,"aria-controls":s.panel?s.panelId:void 0,disabled:i||void 0,autoFocus:o,onKeyDown:b,onKeyUp:x,onClick:S,onMouseDown:E},k,F,R),U=zz(),N=le(()=>{let O=s.panel;if(!O)return;function J(){Lt(U.current,{[Hl.Forwards]:()=>Zn(O,Ut.First),[Hl.Backwards]:()=>Zn(O,Ut.Last)})===Is.Error&&Zn(Dh().filter(B=>B.dataset.headlessuiFocusGuard!=="true"),Lt(U.current,{[Hl.Forwards]:Ut.Next,[Hl.Backwards]:Ut.Previous}),{relativeTo:s.button})}J()}),H=nt();return ke.default.createElement(ke.default.Fragment,null,H({ourProps:V,theirProps:a,slot:M,defaultTag:cce,name:"Popover.Button"}),_&&!p&&u&&ke.default.createElement(ja,{id:d,ref:s.afterButtonSentinel,features:Ha.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:N}))}var fce="div",hce=xi.RenderStrategy|xi.Static;function Hz(e,t){let r=(0,Er.useId)(),{id:n=`headlessui-popover-backdrop-${r}`,transition:i=!1,...o}=e,[{popoverState:a},s]=p2("Popover.Backdrop"),[l,u]=(0,ke.useState)(null),c=yt(t,u),d=Od(),[f,h]=Md(i,l,d!==null?(d&pn.Open)===pn.Open:a===0),p=le(g=>{if(_l(g.currentTarget))return g.preventDefault();s({type:1})}),m=(0,ke.useMemo)(()=>({open:a===0}),[a]),v={ref:c,id:n,"aria-hidden":!0,onClick:p,...Rd(h)};return nt()({ourProps:v,theirProps:o,slot:m,defaultTag:fce,features:hce,visible:f,name:"Popover.Backdrop"})}var pce="div",mce=xi.RenderStrategy|xi.Static;function gce(e,t){let r=(0,Er.useId)(),{id:n=`headlessui-popover-panel-${r}`,focus:i=!1,anchor:o,portal:a=!1,modal:s=!1,transition:l=!1,...u}=e,[c,d]=p2("Popover.Panel"),{close:f,isPortalled:h}=X3("Popover.Panel"),p=`headlessui-focus-sentinel-before-${r}`,m=`headlessui-focus-sentinel-after-${r}`,v=(0,ke.useRef)(null),g=jh(o),[y,b]=Wh(g),x=Uh();g&&(a=!0);let[S,E]=(0,ke.useState)(null),I=yt(v,t,g?y:null,le(O=>d({type:4,panel:O})),E),k=Ua(v);ut(()=>(d({type:5,panelId:n}),()=>{d({type:5,panelId:null})}),[n,d]);let D=Od(),[F,T]=Md(l,S,D!==null?(D&pn.Open)===pn.Open:c.popoverState===0);Nh(F,c.button,()=>{d({type:1})});let R=c.__demoMode?!1:s&&F;Lh(R,k);let _=le(O=>{var J;switch(O.key){case De.Escape:if(c.popoverState!==0||!v.current||k!=null&&k.activeElement&&!v.current.contains(k.activeElement))return;O.preventDefault(),O.stopPropagation(),d({type:1}),(J=c.button)==null||J.focus();break}});(0,ke.useEffect)(()=>{var O;e.static||c.popoverState===1&&((O=e.unmount)==null||O)&&d({type:4,panel:null})},[c.popoverState,e.unmount,e.static,d]),(0,ke.useEffect)(()=>{if(c.__demoMode||!i||c.popoverState!==0||!v.current)return;let O=k?.activeElement;v.current.contains(O)||Zn(v.current,Ut.First)},[c.__demoMode,i,v.current,c.popoverState]);let M=(0,ke.useMemo)(()=>({open:c.popoverState===0,close:f}),[c.popoverState,f]),L=Ei(g?x():{},{ref:I,id:n,onKeyDown:_,onBlur:i&&c.popoverState===0?O=>{var J,B,z,Y,K;let te=O.relatedTarget;te&&v.current&&((J=v.current)!=null&&J.contains(te)||(d({type:1}),((z=(B=c.beforePanelSentinel.current)==null?void 0:B.contains)!=null&&z.call(B,te)||(K=(Y=c.afterPanelSentinel.current)==null?void 0:Y.contains)!=null&&K.call(Y,te))&&te.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...u.style,...b,"--button-width":Bh(c.button,!0).width},...Rd(T)}),V=zz(),U=le(()=>{let O=v.current;if(!O)return;function J(){Lt(V.current,{[Hl.Forwards]:()=>{var B;Zn(O,Ut.First)===Is.Error&&((B=c.afterPanelSentinel.current)==null||B.focus())},[Hl.Backwards]:()=>{var B;(B=c.button)==null||B.focus({preventScroll:!0})}})}J()}),N=le(()=>{let O=v.current;if(!O)return;function J(){Lt(V.current,{[Hl.Forwards]:()=>{if(!c.button)return;let B=Dh(),z=B.indexOf(c.button),Y=B.slice(0,z+1),K=[...B.slice(z+1),...Y];for(let te of K.slice())if(te.dataset.headlessuiFocusGuard==="true"||S!=null&&S.contains(te)){let se=K.indexOf(te);se!==-1&&K.splice(se,1)}Zn(K,Ut.First,{sorted:!1})},[Hl.Backwards]:()=>{var B;Zn(O,Ut.Previous)===Is.Error&&((B=c.button)==null||B.focus())}})}J()}),H=nt();return ke.default.createElement(k9,null,ke.default.createElement(g2.Provider,{value:n},ke.default.createElement(m2.Provider,{value:{close:f,isPortalled:h}},ke.default.createElement(Yh,{enabled:a?e.static||F:!1},F&&h&&ke.default.createElement(ja,{id:p,ref:c.beforePanelSentinel,features:Ha.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:U}),H({ourProps:L,theirProps:u,slot:M,defaultTag:pce,features:mce,visible:F,name:"Popover.Panel"}),F&&h&&ke.default.createElement(ja,{id:m,ref:c.afterPanelSentinel,features:Ha.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:N})))))}var vce="div";function yce(e,t){let r=(0,ke.useRef)(null),n=yt(r,t),[i,o]=(0,ke.useState)([]),a=le(m=>{o(v=>{let g=v.indexOf(m);if(g!==-1){let y=v.slice();return y.splice(g,1),y}return v})}),s=le(m=>(o(v=>[...v,m]),()=>a(m))),l=le(()=>{var m;let v=In(r);if(!v)return!1;let g=v.activeElement;return(m=r.current)!=null&&m.contains(g)?!0:i.some(y=>{var b,x;return((b=v.getElementById(y.buttonId.current))==null?void 0:b.contains(g))||((x=v.getElementById(y.panelId.current))==null?void 0:x.contains(g))})}),u=le(m=>{for(let v of i)v.buttonId.current!==m&&v.close()}),c=(0,ke.useMemo)(()=>({registerPopover:s,unregisterPopover:a,isFocusWithinPopoverGroup:l,closeOthers:u}),[s,a,l,u]),d=(0,ke.useMemo)(()=>({}),[]),f=e,h={ref:n},p=nt();return ke.default.createElement(Nz,null,ke.default.createElement(Z3.Provider,{value:c},p({ourProps:h,theirProps:f,slot:d,defaultTag:vce,name:"Popover.Group"})))}var wce=it(uce),bce=it(dce),xce=it(Hz),Ece=it(Hz),Sce=it(gce),Cce=it(yce),J3=Object.assign(wce,{Button:bce,Backdrop:Ece,Overlay:xce,Panel:Sce,Group:Cce}),kce={root:"alinea-PopoverMenu",trigger:"alinea-PopoverMenu-trigger",items:"alinea-PopoverMenu-items","is-left":"alinea-PopoverMenu-is-left",isLeft:"alinea-PopoverMenu-is-left","is-right":"alinea-PopoverMenu-is-right",isRight:"alinea-PopoverMenu-is-right",header:"alinea-PopoverMenu-header",footer:"alinea-PopoverMenu-footer"},Vg=j(kce),Ga;(e=>{function t(a){return(0,Vl.jsx)(J3,{children:(0,Vl.jsx)("div",{...a,className:Vg.root.mergeProps(a)()})})}e.Root=t;function r(a){return(0,Vl.jsx)(J3.Button,{...a,className:Vg.trigger()})}e.Trigger=r;function n({left:a,right:s,...l}){return(0,Vl.jsx)(J3.Panel,{...l,className:Vg.items.mergeProps(l)({left:a,right:s})})}e.Items=n;function i({children:a}){return(0,Vl.jsx)("div",{className:Vg.header(),children:(0,Vl.jsx)("header",{children:a})})}e.Header=i;function o({children:a}){return(0,Vl.jsx)("div",{className:Vg.footer(),children:(0,Vl.jsx)("footer",{children:a})})}e.Footer=o})(Ga||(Ga={}));w();var eD=A(P(),1);function jz(e){return(0,eD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,eD.jsx)("path",{fill:"currentColor",d:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 21H7v-1h10v1zm0-3H7V6h10v12zm0-14H7V3h10v1zM9.5 8.5H12V7H8v4h1.5V8.5zM12 17h4v-4h-1.5v2.5H12V17z"})})}w();var tD=A(P(),1);function aa(e){return(0,tD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,tD.jsx)("path",{fill:"currentColor",d:"M2.5 5.5C2.5 6.33 3.17 7 4 7h3.5v10.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V7H14c.83 0 1.5-.67 1.5-1.5S14.83 4 14 4H4c-.83 0-1.5.67-1.5 1.5zM20 9h-6c-.83 0-1.5.67-1.5 1.5S13.17 12 14 12h1.5v5.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V12H20c.83 0 1.5-.67 1.5-1.5S20.83 9 20 9z"})})}w();var rD=A(P(),1);function v2(e){return(0,rD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,rD.jsx)("path",{fill:"currentColor",d:"M20 15.31L23.31 12L20 8.69V4h-4.69L12 .69L8.69 4H4v4.69L.69 12L4 15.31V20h4.69L12 23.31L15.31 20H20v-4.69zM12 18V6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"})})}w();var $z=Q(e=>{let{color:t}=e(Jo);return t});w();var y2=()=>oe(u0);w();var nD=A(P(),1);function Uz(e){return(0,nD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,nD.jsx)("path",{d:"M15.9814 3.47727V5.07955C14.8773 3.78409 13.2379 3 10.9963 3C6.61338 3 3 6.92045 3 12C3 17.0795 6.61338 21 10.9963 21C13.2379 21 14.8773 20.2159 15.9814 18.9205V20.5227H21V3.47727H15.9814ZM12 16.1591C9.69145 16.1591 8.01859 14.5568 8.01859 12C8.01859 9.44318 9.69145 7.84091 12 7.84091C14.3086 7.84091 15.9814 9.44318 15.9814 12C15.9814 14.5568 14.3086 16.1591 12 16.1591Z",fill:"currentColor"})})}var ze=A(P(),1),Ace={root:"alinea-Toolbar","root-menu":"alinea-Toolbar-menu",rootMenu:"alinea-Toolbar-menu","root-portal":"alinea-Toolbar-portal",rootPortal:"alinea-Toolbar-portal","root-portal-slot":"alinea-Toolbar-portal-slot",rootPortalSlot:"alinea-Toolbar-portal-slot","root-switch":"alinea-Toolbar-switch",rootSwitch:"alinea-Toolbar-switch","is-checked":"alinea-Toolbar-is-checked",isChecked:"alinea-Toolbar-is-checked","root-switch-slider":"alinea-Toolbar-switch-slider",rootSwitchSlider:"alinea-Toolbar-switch-slider","root-workspace":"alinea-Toolbar-workspace",rootWorkspace:"alinea-Toolbar-workspace"},Kd=j(Ace);function iD({label:e,color:t,icon:r}){let n=r?(0,ze.jsx)(r,{}):(0,ze.jsx)(ac,{});return(0,ze.jsxs)(q,{center:!0,gap:12,children:[(0,ze.jsx)(ad,{foreground:ph(t),background:t,children:(0,ze.jsx)(Uz,{})}),(0,ze.jsx)("div",{style:{fontSize:"13px",fontWeight:600},children:(0,ze.jsx)(Ze,{label:e})})]})}var w2;(e=>{({Provider:e.Provider,Portal:e.Portal,Slot:e.Slot}=Hu());function t(){let r=oe($z),n=y2(),{config:i}=oe(Wo),o=oe(Hw),a=oe(fn),s=a.size||16,l=a?.scheme==="dark",u=oe(Jo),c=en(),{isNavOpen:d,isPreviewOpen:f,toggleNav:h,togglePreview:p}=np(),m=Object.entries(i.workspaces),[v,g,y]=BB(r),b={"--alinea-hue":v,"--alinea-saturation":`${g*100}%`,"--alinea-lightness":`${y*100}%`},x=zl("Default workspace",{options:Dt(ue(i.workspaces).map(([k,D])=>[k,$t.label(D)||k]))}),S=rt(z0),E=rt(V0),I=rt(vd);return(0,ze.jsxs)(q,{center:!0,gap:12,className:Kd.root(),style:b,children:[(0,ze.jsx)("div",{className:Kd.root.menu(),onClick:h,children:(0,ze.jsx)(je,{icon:Tx,active:d})}),m.length>1?(0,ze.jsxs)(fe.Root,{bottom:!0,children:[(0,ze.jsx)(fe.Trigger,{children:(0,ze.jsxs)(q,{center:!0,gap:4,children:[(0,ze.jsx)(iD,{label:u.label,color:u.color,icon:u.icon}),(0,ze.jsx)(ee,{icon:ti})]})}),(0,ze.jsx)(fe.Items,{children:m.map(([k,D])=>{let{roots:F,label:T,color:R,icon:_}=$t.data(D),[M,L]=ue(F)[0];return(0,ze.jsx)(fe.Item,{onClick:()=>c(o.entry({workspace:k,root:M,locale:xr.defaultLocale(L)})),children:(0,ze.jsx)(iD,{label:T,color:R,icon:_})},k)})})]}):(0,ze.jsx)("a",{...bo(o.root({workspace:u.name})),className:Kd.root.workspace(),children:(0,ze.jsx)(iD,{label:u.label,color:u.color,icon:u.icon})}),(0,ze.jsx)("div",{className:Kd.root.portal(),children:(0,ze.jsx)(e.Portal,{className:Kd.root.portal.slot()})}),(0,ze.jsx)("div",{children:(0,ze.jsxs)(q,{center:!0,gap:10,children:[(0,ze.jsxs)(Ga.Root,{children:[(0,ze.jsx)(Ga.Trigger,{children:(0,ze.jsxs)(q,{center:!0,gap:4,children:[(0,ze.jsx)(_z,{user:n.user}),(0,ze.jsx)(Wa,{})]})}),(0,ze.jsx)(Ga.Items,{right:!0,children:(0,ze.jsxs)(ot,{gap:25,children:[Vr.hasAuth(i)&&(0,ze.jsx)(Ga.Header,{children:(0,ze.jsx)("p",{children:n.user.sub.charAt(0).toUpperCase()+n.user.sub.slice(1)})}),(0,ze.jsx)(ot,{gap:15,children:(0,ze.jsxs)(q,{justify:"space-between",style:{padding:Me(6)},children:[(0,ze.jsxs)(q,{center:!0,gap:16,children:[(0,ze.jsx)(ee,{icon:v2,size:20}),(0,ze.jsx)(f2,{checked:l,onChange:S,className:Kd.root.switch({checked:l}),children:(0,ze.jsx)("span",{className:Kd.root.switch.slider({checked:l})})})]}),(0,ze.jsxs)(q,{center:!0,gap:4,children:[(0,ze.jsx)(ee,{icon:aa,size:20,style:{marginRight:Me(12)}}),(0,ze.jsx)(je,{icon:Wa,onClick:()=>E(s-1),disabled:s<=16}),(0,ze.jsx)(je,{icon:Nl,onClick:()=>E(s+1),disabled:s>=40})]})]})}),Vr.hasAuth(i)&&(0,ze.jsx)(Ga.Footer,{children:(0,ze.jsx)(fe.Root,{children:(0,ze.jsx)(fe.Item,{onClick:n.end,children:"Logout"})})})]})})]}),(0,ze.jsx)(je,{icon:jz,onClick:p,active:f})]})})]})}e.Root=t})(w2||(w2={}));w();var Hg=A($(),1);w();var Wz=()=>oe(fn);var Yz=A(P(),1),Tce={root:"alinea-Viewport","is-light":"alinea-Viewport-is-light",isLight:"alinea-Viewport-is-light","is-dark":"alinea-Viewport-is-dark",isDark:"alinea-Viewport-is-dark",main:"alinea-Viewport-main","is-contain":"alinea-Viewport-is-contain",isContain:"alinea-Viewport-is-contain"},qz=j(Tce),Kz=typeof window<"u"?Hg.useLayoutEffect:Hg.useEffect;function Gz({children:e,color:t="#6673FC",contain:r,attachToBody:n,...i}){let o=t,a=mh(o),{scheme:s,size:l}=Wz();(0,Hg.useEffect)(()=>{l&&(document.documentElement.style.fontSize=`${l}px`)},[l]);let u={"--alinea-accent":o,"--alinea-accent-foreground":a},c=qz.root(s),d=Object.entries(u).map(([h,p])=>`${h}: ${p}`).join("; ");return Kz(()=>{n&&(document.body.className=c,document.body.style.cssText=d)},[n,d,c]),Kz(()=>{let h=document.createElement("meta");return h.setAttribute("content",o),h.setAttribute("name","theme-color"),document.head.appendChild(h),()=>{document.head.removeChild(h)}},[o]),(0,Yz.jsx)("main",{...n?{}:{className:c,style:u},className:qz.main.mergeProps(i)({contain:r}),children:e})}w();var dt={};fS(dt,{check:()=>vp,code:()=>Jz,create:()=>Dce,date:()=>Qz,entry:()=>qd,file:()=>u2,image:()=>gp,json:()=>Xz,link:()=>wp,list:()=>Zz,metadata:()=>x2,number:()=>eV,object:()=>b2,path:()=>E2,richText:()=>tV,select:()=>zl,tab:()=>Y0,tabs:()=>Qw,text:()=>Kr,time:()=>rV,url:()=>c2,view:()=>nV});w();w();function Dce({label:e,options:t,view:r}){return new Ir({options:{label:e,...t},view:r})}w();var Ice=class extends Ir{};function Jz(e,t={}){return new Ice({options:{label:e,...t},view:Qe.CodeInput})}w();var Fce=class extends Ir{};function Qz(e,t={}){return new Fce({options:{label:e,...t},view:Qe.DateInput})}w();var Rce=class extends Ir{};function Xz(e,t={}){return new Rce({options:{label:e,...t},view:Qe.JsonInput})}w();function Zz(e,t){return new i2(t.schema,br.shapes(t.schema),{options:{label:e,...t,get initialValue(){let r=t.initialValue;if(!Array.isArray(r))return[];let n=op(null,null,r.length);return r.map((i,o)=>({[ye.id]:_t(),[ye.index]:n[o],...i}))}},view:Qe.ListInput})}w();w();var Mce=class extends o2{};function b2(e,t){let r=wr("Object fields",{fields:t.fields});return Object.assign(new Mce(r,{options:{label:e,...t,fields:r},view:Qe.ObjectInput}),r)}var _ce=class extends o2{};function x2(e="Metadata",t={}){let r=wr("Fields",{fields:{title:Kr("Title",{width:.5}),description:Kr("Description",{multiline:!0}),openGraph:b2("Open graph",{fields:{siteName:Kr("Site name",{width:.25}),image:gp("Image",{width:.75,help:"Recommended size: 1200 x 630 pixels"}),title:Kr("Title"),description:Kr("Description",{multiline:!0})}})}});return new _ce(r,{options:{label:e,...t,fields:r},view:Qe.MetadataInput})}w();var Oce=class extends Ir{};function eV(e,t={}){return new Oce({options:{label:e,...t},view:Qe.NumberInput})}w();var Bce=class extends Ir{};function E2(e,t={}){if(t.shared)throw new Error("The shared option is not supported on Path fields");return new Bce({options:{label:e,...t},view:Qe.PathInput})}w();function tV(e,t={}){return new uz(t.schema,{options:{label:e,...t},view:Qe.RichTextInput})}w();var Nce=class extends Ir{};function rV(e,t={}){return new Nce({options:{label:e,...t},view:Qe.TimeInput})}w();var Pce=class{view;definition={};fields={};sections=[];constructor(e){this.view=e}};function nV(e){return Zf(new Pce(typeof e=="string"?e:()=>e))}w();var oD=A(P(),1);function aD(e){return(0,oD.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,oD.jsx)("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"})})}var iV=A($(),1);var ar=A(P(),1),Lce={"root-switch":"alinea-SidebarSettings-switch",rootSwitch:"alinea-SidebarSettings-switch","is-checked":"alinea-SidebarSettings-is-checked",isChecked:"alinea-SidebarSettings-is-checked","root-switch-slider":"alinea-SidebarSettings-switch-slider",rootSwitchSlider:"alinea-SidebarSettings-switch-slider","root-username":"alinea-SidebarSettings-username",rootUsername:"alinea-SidebarSettings-username"},sD=j(Lce);function oV(){let e=y2(),{config:t}=oe(Wo),r=oe(fn),n=r.size||16,i=r?.scheme==="dark",o=Object.entries(t.workspaces),a=(0,iV.useMemo)(()=>zl("Default workspace",{options:Dt(ue(t.workspaces).map(([d,f])=>[d,$t.label(f)||d]))}),[t.workspaces]),s=rt(z0),l=rt(V0),u=rt(vd);function c(d){document.body.setAttribute("data-disable-transition","true"),d(),setTimeout(()=>document.body.removeAttribute("data-disable-transition"))}return(0,ar.jsxs)(fe.Root,{top:!0,style:{margin:"auto",marginBottom:0},children:[(0,ar.jsx)(fe.Trigger,{style:{width:"100%"},children:(0,ar.jsx)(Fo.Nav.Item,{"aria-label":"Settings",children:(0,ar.jsx)(ee,{icon:aD})})}),(0,ar.jsx)(fe.Items,{style:{maxWidth:Me(200)},children:(0,ar.jsxs)(ot,{gap:10,children:[e.user.name&&(0,ar.jsx)(Ga.Header,{children:(0,ar.jsxs)(q,{center:!0,gap:10,className:sD.root.username(),children:[(0,ar.jsx)(ee,{icon:aD,size:26}),(0,ar.jsx)(ta,{children:e.user.name})]})}),(0,ar.jsx)(ot,{gap:8,children:(0,ar.jsxs)(q,{justify:"space-between",style:{padding:Me(6)},children:[(0,ar.jsxs)(q,{center:!0,gap:16,children:[(0,ar.jsx)(ee,{icon:v2,size:20,title:"Switch theme"}),(0,ar.jsx)(f2,{checked:i,onChange:()=>{c(s)},className:sD.root.switch({checked:i}),children:(0,ar.jsx)("span",{className:sD.root.switch.slider({checked:i})})})]}),(0,ar.jsxs)(q,{center:!0,gap:4,children:[(0,ar.jsx)(ee,{icon:aa,size:20,style:{marginRight:Me(12)},title:"Font size"}),(0,ar.jsx)(je,{icon:Wa,onClick:()=>c(()=>l(n-1)),disabled:n<=16,title:"Decrease font size"}),(0,ar.jsx)(je,{icon:Nl,onClick:()=>c(()=>l(n+1)),disabled:n>=40,title:"Increase font size"})]})]})}),e.end&&(0,ar.jsx)(Ga.Footer,{children:(0,ar.jsx)(fe.Root,{children:(0,ar.jsx)(fe.Item,{onClick:e.end,children:"Logout"})})})]})})]})}var Ge=A(P(),1),zce=Q(e=>{let t=e(wo);return!!e(Sl({route:$u.matchEntry}))||t.pathname==="/"});function Vce(){QB();let{alineaDev:e,fullPage:t}=Xr(),r=Bt(),n=oe(zce),{name:i,color:o,roots:a}=bi(),{name:s}=Qn(),l=Xh(),u=Fr(),[c,d]=ZB(),[f,h]=mo(Yw),p=oe(vh),m=oe(kA);return(0,aV.useEffect)(()=>{d(u)},[u]),(0,Ge.jsxs)(Ge.Fragment,{children:[f&&(0,Ge.jsx)(Go,{open:!0,onClose:()=>h(null),children:(0,Ge.jsx)("div",{style:{padding:Me(16)},children:f})}),(0,Ge.jsx)(Hr.Provider,{children:(0,Ge.jsx)(w2.Provider,{children:(0,Ge.jsxs)(Fo.Provider,{children:[(0,Ge.jsx)(ji,{children:(0,Ge.jsx)(mA,{color:o})}),(0,Ge.jsxs)("div",{style:{flex:"1",display:"flex",minHeight:0,position:"relative"},children:[(0,Ge.jsxs)(Fo.Nav,{children:[Object.entries(a).map(([v,g],y)=>{let b=v===s,{id:x,...S}=l,E=S.root===v?r.entry(S):r.root({workspace:i,root:v,locale:c}),{label:I,icon:k}=xr.data(g);return(0,Ge.jsx)(Fo.Nav.Item,{selected:n&&b,href:E,"aria-label":I,children:(0,Ge.jsx)(ee,{icon:k??gh})},v)}),(0,Ge.jsx)(oV,{})]}),(0,Ge.jsx)(tb,{children:(0,Ge.jsx)(Pa,{name:"main",fallback:(0,Ge.jsx)(ir,{absolute:!0}),children:(0,Ge.jsx)(VN,{fallback:null})})})]}),e&&(0,Ge.jsxs)(Hr.Root,{children:[(0,Ge.jsx)(Hr.Status,{icon:m===0?Ma:VB,children:m===0?"Synced":"Saving\u2026"}),p?(0,Ge.jsx)(Hr.Status,{icon:bA,children:p.slice(0,7)}):(0,Ge.jsx)(Hr.Status,{icon:bA,children:"Syncing"})]})]})})})]})}function Hce(){let[e,t]=mo(u0),{fullPage:r,config:n}=Xr(),{color:i}=Vr.mainWorkspace(n),o=n.auth;return e?(0,Ge.jsx)(Ge.Fragment,{children:(0,Ge.jsx)(Pa,{name:"router",fallback:(0,Ge.jsx)(ir,{absolute:!0}),children:(0,Ge.jsx)(PN,{router:Mz,children:(0,Ge.jsx)(Vce,{})})})}):(0,Ge.jsxs)(Ge.Fragment,{children:[(0,Ge.jsx)(ji,{children:(0,Ge.jsx)(mA,{color:i})}),o&&(0,Ge.jsx)(Pa,{name:"auth",fallback:(0,Ge.jsx)(ir,{absolute:!0}),children:(0,Ge.jsx)(o,{setSession:t})})]})}function sV(e){let t=e.fullPage!==!1,{color:r}=Vr.mainWorkspace(e.config);return(0,Ge.jsx)(KB,{...e,children:(0,Ge.jsx)(Gz,{attachToBody:t,contain:!0,color:r,children:(0,Ge.jsx)(Hce,{})})})}w();w();var jce=class{value;next;constructor(e){this.value=e}},$ce=class{#e;#r;#t;constructor(){this.clear()}enqueue(e){let t=new jce(e);this.#e?(this.#r.next=t,this.#r=t):(this.#e=t,this.#r=t),this.#t++}dequeue(){let e=this.#e;if(e)return this.#e=this.#e.next,this.#t--,e.value}peek(){if(this.#e)return this.#e.value}clear(){this.#e=void 0,this.#r=void 0,this.#t=0}get size(){return this.#t}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}};function S2(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let t=new $ce,r=0,n=()=>{r--,t.size>0&&t.dequeue()()},i=async(s,l,u)=>{r++;let c=(async()=>s(...u))();l(c);try{await c}catch{}n()},o=(s,l,u)=>{t.enqueue(i.bind(void 0,s,l,u)),(async()=>(await Promise.resolve(),r<e&&t.size>0&&t.dequeue()()))()},a=(s,...l)=>new Promise(u=>{o(s,u,l)});return Object.defineProperties(a,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),a}w();var{assign:Uce}=Object;function lD(){let e,t,r=new Promise((...n)=>[e,t]=n);return Uce(r,{resolve:e,reject:t})}w();w();var lV=class{#e;#r=new Map;constructor(e=Po.EMPTY,t=new Map){this.#e=e,this.#r=t}async getTree(){return this.#e}async getTreeIfDifferent(e){return this.#e.sha===e?void 0:this.#e}async*getBlobs(e){for(let t of e){let r=this.#r.get(t);Ae(r,`Blob not found: ${t}`),yield[t,r]}}async addBlob(e){let t=await gf(e);return this.#r.set(t,e),t}async applyChanges(e){let{fromSha:t,changes:r}=e;if(this.#e.sha!==t)throw new iu(t,this.#e.sha);for(let n of r)switch(n.op){case"add":{Ae(n.contents,"Missing contents"),this.#r.set(n.sha,n.contents);continue}case"delete":{this.#r.delete(n.sha);continue}}this.#e=await this.#e.withChanges(e)}};w();w();async function uD(e){let t=[];for await(let r of e)t.push(r);return t}async function cD(e,t){let{changes:r}=t,n=Array.from(new Set(r.filter(o=>o.op!=="delete").map(o=>o.sha)));if(n.length===0)return t;let i=new Map(await uD(e.getBlobs(n)));return{...t,changes:r.map(o=>o.op==="delete"?o:{...o,contents:i.get(o.sha)})}}async function Wce(e,t){let r=await e.getTree(),n=await t.getTreeIfDifferent(r.sha);if(!n)return{fromSha:r.sha,changes:[]};let i=r.diff(n);return cD(t,i)}async function uV(e,t){let r=await Wce(e,t);return await e.applyChanges(r),r}var cV=class{#e;#r;#t;#n=new Map;#i=Array();constructor(e,t){this.#e=e,this.#r=t,this.#t=t.clone()}add(e,t){return this.#i.push(async()=>{let r=await gf(t);this.#n.set(r,t),this.#t.add(e,r)}),this}remove(e){return this.#i.push(()=>{this.#t.remove(e)}),this}rename(e,t){return e!==t&&this.#i.push(()=>{this.#t.rename(e,t)}),this}async compile(){let e=this.#i.splice(0);for(let s of e)await s();let t=this.#r,r=await this.#t.compile(),n=t.diff(r),i=Array.from(new Set(n.changes.filter(s=>s.op==="add").map(s=>s.sha).filter(s=>!this.#n.has(s)))),o=new Map(i.length===0?[]:await uD(this.#e.getBlobs(i))),a=s=>{if(s.op==="delete")return s;let l=this.#n.get(s.sha)??o.get(s.sha);return{...s,contents:l}};return{from:t,into:r,changes:n.changes.map(a)}}};w();function dV(e){return e.map(t=>{switch(t.op){case"add":return{...t,op:"addContent",contents:new TextDecoder().decode(t.contents)};case"delete":return{...t,op:"deleteContent"}}})}function jg(e){return{fromSha:e.fromSha,changes:e.changes.filter(t=>t.op==="addContent"||t.op==="deleteContent").map(t=>{switch(t.op){case"deleteContent":return{...t,op:"delete"};case"addContent":return{...t,op:"add",contents:new TextEncoder().encode(t.contents)}}})}}w();w();var qce=typeof window<"u";function Yd(...e){let t=Kce(e,"warning");console[qce?"warn":"log"](t)}function Kce(e,t,r=Gce){return e.reduce((n,i,o)=>{let a=o===e.length-1,s=o===0,l=fV(a?"\u2570":s?"\u2502":"\u251C");return n+=`
`,n+=`  ${l} ${s?hV(i):fV(i)}`,a&&(n+=`
`),n},`  ${hV(r("\u0251"))} ${r(t)}`)}var Yce=typeof C<"u"&&(C.stdout?.isTTY||C.env?.FORCE_COLOR),bp=(e,t=39)=>r=>Yce?`\x1B[${e}m${r}\x1B[${t}m`:r,LKe=bp(31),fV=bp(90),zKe=bp(36),Gce=bp(33),hV=bp(1,0),VKe=bp(41,49);w();var xp;(e=>{e.Data=Symbol.for("@alinea/Page.Data");function t(n){return n[e.Data]}e.data=t;function r(n){return!!n?.[e.Data]}e.isPage=r})(xp||(xp={}));function pV(e){return{...e.children,[xp.Data]:e}}w();w();var dD={_id:G.id,_type:G.type,_index:G.index,_workspace:G.workspace,_root:G.root,_status:G.status,_parentId:G.parentId,_locale:G.locale,_path:G.path,_url:G.url,_active:G.active};w();function fD(e){return qi(t=>Rt(t).every(r=>e.includes(r)))}w();function C2(e){throw new Error("unreachable")}w();var hD=class{constructor(e,t,r){this.resolver=e,this.ctx=t,this.locale=r}includedAtBuild(e){return this.resolver.index.initialSync?.has(e)??!1}async resolveLinks(e,t){let{status:r,preview:n}=this.ctx;return await this.resolver.resolve({preview:n?{entry:n}:void 0,preferredLocale:this.locale??void 0,status:r,select:e,id:{in:t}})}};var Jce=Mu({or:w0(c5)}).and(fD(["or"])),Qce=Mu({and:w0(c5)}).and(fD(["and"])),k2=class{index;#e;constructor(e,t){this.#e=ga(e),this.index=t}call(e,t,r){switch(r.method){case"snippet":{if(!e.searchTerms)throw new Error("Snippet method requires search terms to be provided");let n=this.expr(e,t,r.args[0]),i=this.expr(e,t,r.args[1]),o=this.expr(e,t,r.args[2]),a=this.expr(e,t,r.args[3]);return rde(t.searchableText,e.searchTerms,n,i,o,a)}default:throw new Error(`Unknown method: "${r.method}"`)}}field(e,t){let r=this.#e.nameOf(t);if(!r)throw new Error(`Expression has no name ${t}`);return e.data[r]}expr(e,t,r){let n=Zv(r);switch(n.type){case"field":{let i=this.field(t,r);return i&&typeof i=="object"?structuredClone(i):i}case"entryField":return t[n.name];case"call":return this.call(e,t,n);case"value":return n.value;default:C2(n)}}projectTypes(e){return ue(dD).concat(e.flatMap(ue))}projection(e){return e.select??Dt((e.type?this.projectTypes(Array.isArray(e.type)?e.type:[e.type]):[]).concat(ue(dD)).concat(e.include?ue(e.include):[]))}sourceFilter(e,t){switch(t.edge){case"parent":return{ids:e.parentId?[e.parentId]:[],condition({locale:r}){return r===e.locale}};case"next":{let[r]=this.index.filter({condition({workspace:n,root:i,parentId:o,index:a,locale:s}){return n===e.workspace&&i===e.root&&o===e.parentId&&a<e.index&&s===e.locale}}).sort((n,i)=>ls(n.index,i.index));return{ids:r?[r.id]:[]}}case"previous":{let[r]=this.index.filter({condition({workspace:n,root:i,parentId:o,index:a,locale:s}){return n===e.workspace&&i===e.root&&o===e.parentId&&a>e.index&&s===e.locale}}).sort((n,i)=>ls(i.index,n.index));return{ids:r?[r.id]:[]}}case"siblings":return{condition({workspace:r,root:n,parentId:i,id:o,locale:a}){return r===e.workspace&&n===e.root&&i===e.parentId&&a===e.locale&&(t.includeSelf?!0:o!==e.id)}};case"translations":return{ids:[e.id],condition:t.includeSelf?void 0:({locale:r})=>r!==e.locale};case"children":{let r=t?.depth??1;return{condition({level:n,filePath:i}){return n>e.level&&n<=e.level+r&&i.startsWith(e.childrenDir)}}}case"parents":{let r=t?.depth??Number.POSITIVE_INFINITY,n=e.parentDir.split("/"),i=n.map((o,a)=>n.slice(0,a+1).join("/"));return{condition({level:o,childrenDir:a}){return o<e.level&&o>e.level-r&&i.includes(a)}}}case"entryMultiple":{let r=this.field(e,t.field),n=new Set(Array.isArray(r)?r.map(i=>i._entry).filter(Boolean):[]);return{ids:Array.from(n)}}case"entrySingle":{let n=this.field(e,t.field)?._entry;return{ids:n?[n]:[]}}default:return{}}}selectProjection(e,t,r){if(r&&mf(r))return this.expr(e,t,r);if(!Pg(r))return Dt(ue(r).map(([o,a])=>[o,this.selectProjection(e,t,a)]));let i=r;return this.query({...e,locale:t.locale},i,this.sourceFilter(t,i)).getUnprocessed()}select(e,t,r){if(!t)return null;if(r.select&&mf(r.select))return this.expr(e,t,r.select);let n=this.projection(r);return this.selectProjection(e,t,n)}condition(e,t){let r=Array.isArray(t.location)?t.location:t.location&&this.#e.locationOf(t.location),n=Xce(e.status),i=r&&tde(r),o=t.locale??e.locale,a=o!==void 0&&t.edge!=="translations"&&gV(typeof o=="string"?o.toLowerCase():null,!1);!a&&t.preferredLocale&&(a=gV(t.preferredLocale.toLowerCase(),!0));let s=!!t.type&&ede(Array.isArray(t.type)?t.type.map(h=>this.#e.nameOf(h)):this.#e.nameOf(t.type)),l=Pg(t),u=Zce(this.#e,t),c=t.filter&&Ep(t.filter,(h,p)=>p.startsWith("_")?h[p.slice(1)]:h.data[p]),d=typeof t.id=="object"&&t.id!==null&&t.id.in;return{ids:Array.isArray(d)?d:typeof t.id=="string"?[t.id]:void 0,condition(h){if(!n(h)||i&&!i(h)||a&&!a(h)||s&&!s(h))return!1;let p=a?a(h):!0;return!(l!=="translations"&&!p||u&&!u(h)||c&&!c(h))}}}isSingleResult(e){return!!(e.first||e.get||e.count||e.edge==="parent"||e.edge==="next"||e.edge==="previous")}query(e,t,r){let{skip:n,take:i,orderBy:o,groupBy:a,search:s,count:l}=t,{ids:u,condition:c}=this.condition(e,t),d=r?.condition,f={ids:u??r?.ids,search:Array.isArray(s)?s.join(" "):s,condition:d&&c?b=>d(b)&&c(b):c??d},h=this.index.filter(f,e.preview);if(a){Ae(!Array.isArray(a),"groupBy must be a single field");let b=new Map;for(let x of h){let S=this.expr(e,x,a);b.has(S)||b.set(S,x)}h=Array.from(b.values())}if(o){let b=Array.isArray(o)?o:[o];h.sort((x,S)=>{for(let E of b){let I=E.asc??E.desc,k=this.expr(e,x,I),D=this.expr(e,S,I),F=typeof k=="string"&&typeof D=="string",T=typeof k=="number"&&typeof D=="number";if(F){let R=E.caseSensitive?ls(k,D):k.localeCompare(D);if(R!==0)return E.asc?R:-R}else if(T&&k!==D)return E.asc?k-D:D-k}return 0})}n&&h.splice(0,n),i&&h.splice(i);let p=this.isSingleResult(t),m=t,v=()=>h.map(b=>this.select(e,b,t));return{entries:h,getUnprocessed:()=>{if(l)return h.length;let b=v();return p?b[0]:b},getProcessed:async()=>{if(l)return h.length;let b=v();if(p){let x=h[0];if(b[0]){let S=new hD(this,e,x.locale);await this.postRow({linkResolver:S},b[0],m)}return b[0]}return b.length>0&&await Promise.all(b.map((x,S)=>{if(!x)return;let E=new hD(this,e,h[S].locale);return this.postRow({linkResolver:E},x,m)}).filter(Boolean)),b}}}async postField(e,t,r){await He.shape(r).applyLinks(t,e.linkResolver)}async postExpr(e,t,r){Jv(r)&&await this.postField(e,t,r)}async postRow(e,t,r){if(!t)return;let n=this.projection(r);if(mf(n))return this.postExpr(e,t,n);if(Pg(n))return this.post(e,t,n);await Promise.all(ue(n).map(([i,o])=>Pg(o)?this.post(e,t[i],o):this.postExpr(e,t[i],o)))}async post(e,t,r){if(r.count===!0)return;if(this.isSingleResult(r))return this.postRow(e,t,r);await Promise.all(t.map(i=>this.postRow(e,i,r)))}async resolve(e){let{preview:t}=e,r=t&&"entry"in t?t.entry:void 0,n={status:e.status??"published",locale:e.locale,preview:r,searchTerms:Array.isArray(e.search)?e.search.join(" "):e.search};return this.query(n,e).getProcessed()}};function Xce(e){switch(e){case"published":return t=>t.status==="published";case"draft":return t=>t.status==="draft";case"archived":return t=>t.status==="archived";case"preferDraft":return t=>t.active;case"preferPublished":return t=>t.main;case"all":return t=>!0}}function mV(e){return e&&typeof e=="object"}function Zce(e,t){let r=mV(t.root)&&Yv(t.root)?e.nameOf(t.root):t.root,n=mV(t.workspace)&&Xv(t.workspace)?e.nameOf(t.workspace):t.workspace;return Ep({id:t.id,parentId:t.parentId,path:t.path,url:t.url,workspace:n,root:r})}function ede(e){return Array.isArray(e)?t=>e.includes(t.type):t=>t.type===e}function tde(e){switch(e.length){case 1:return t=>t.workspace===e[0];case 2:return t=>t.workspace===e[0]&&t.root===e[1];case 3:return t=>{if(t.workspace!==e[0]||t.root!==e[1]||t.level===0)return!1;if(t.level===1)return t.parentDir.endsWith(`/${e[2]}`);if(t.level>1){let r=t.level-1;return t.parentDir.split("/").at(-r)===e[2]}};default:return t=>!0}}function gV(e,t){return r=>t&&r.locale===null?!0:typeof r.locale=="string"?r.locale.toLowerCase()===e:r.locale===e}function Ep(e,t=(r,n)=>r[n]){if(Jce.check(e)){let o=e.or.filter(Boolean).map(a=>Ep(a,t));return a=>{for(let s of o)if(s(a))return!0;return!1}}if(Qce.check(e)){let o=e.and.filter(Boolean).map(a=>Ep(a,t));return a=>{for(let s of o)if(!s(a))return!1;return!0}}if(typeof e!="object"||e===null)return o=>o===e;let i=pD(e,t);return o=>{for(let a of i)if(!a(o))return!1;return!0}}function pD(e,t){let r=Array();for(let[n,i]of ue(e)){if(i===void 0)continue;if(typeof i!="object"||i===null){r.push(u=>t(u,n)===i);continue}let o=i;o.is!==void 0&&r.push(u=>t(u,n)===o.is),o.isNot!==void 0&&r.push(u=>t(u,n)!==o.isNot);let a=o.in;Array.isArray(a)&&r.push(u=>u&&a.includes(t(u,n)));let s=o.notIn;Array.isArray(s)&&r.push(u=>u&&!s.includes(t(u,n))),o.gt!==void 0&&r.push(u=>t(u,n)>o.gt),o.gte!==void 0&&r.push(u=>t(u,n)>=o.gte),o.lt!==void 0&&r.push(u=>t(u,n)<o.lt),o.lte!==void 0&&r.push(u=>t(u,n)<=o.lte),o.startsWith&&r.push(u=>{let c=t(u,n);return typeof c=="string"&&c.startsWith(o.startsWith)});let l=o.or;if(l){let u=Array.isArray(l)?l.flatMap(c=>pD(c,t)):pD(l,t);r.push(c=>{for(let d of u)if(d(c))return!0;return!1})}if(o.has){let u=Ep(o.has);r.push(c=>u(t(c,n)))}if(o.includes){let u=Ep(o.includes);r.push(c=>{let d=t(c,n);if(!Array.isArray(d))return!1;for(let f of d)if(u(f))return!0;return!1})}}return r}function rde(e,t,r,n,i,o){if(o<=0||o>64)throw new Error("The 'limit' parameter must be greater than zero and less than or equal to 64.");let a=t.toLowerCase().split(/\s+/).filter(h=>h!==""),s=e.split(/\s+/),l=Array(),u=-1;for(let h=0;h<s.length;h++){let p=s[h].toLowerCase(),m=a.some(v=>p.includes(v));m&&u===-1&&(u=h),m?l.push(`${r}${s[h]}${n}`):l.push(s[h])}if(u===-1)return s.slice(0,Math.min(o,s.length)).join(" ");let c=Math.max(0,u-Math.floor(o/2)),f=l.slice(c,c+o).join(" ");return c>0&&(f=`${i}${f}`),c+o<l.length&&(f=`${f}${i}`),f}w();var A2=class{#e=[];#r=[];#t;#n;#i;#o=[];constructor(e,t,r,n){if(t.sha!==n.sha)throw new iu(t.sha,n.sha);this.#t=e,this.#n=t,this.#i=new cV(r,n)}get empty(){return this.#r.length===0}create({locale:e,type:t,data:r,root:n,workspace:i,fromSeed:o,parentId:a=null,id:s=_t(),insertOrder:l="last",status:u="published",overwrite:c=!1}){let d=this.#n,f=this.#t.workspaces[i][n];Ae(f,"Invalid root");let h=ln(f).i18n;h?Ae(h.locales.includes(e),"Invalid locale"):Ae(e===null,"Invalid locale");let p=d.byId.get(s);p&&(a=p.parentId);let m;a&&(m=d.findFirst(M=>M.id===a&&M.locale===e&&M.main),Ae(m,`Parent not found: ${a}`),this.#e.push([m.filePath,m.fileHash]));let v=Array.from(d.findMany(M=>M.root===n&&M.workspace===i&&M.parentId===a));Ae(typeof r=="object","Invalid data");let g=r.title??r.path;Ae(typeof g=="string","Missing title");let y=Ui(typeof r.path=="string"?r.path:g);Ae(y.length>0,"Invalid path");let b=p?.pathOf(e),x=b===y;if(x||(y=this.#u({id:s,path:y,parentId:a,root:n,workspace:i,locale:e})),u!=="published"&&b&&(y=b),b&&!x&&u==="published"&&this.#s(p.id,e,y),c&&p?.type==="MediaFile"){let[M]=p.entries;Ae(M,"Previous entry not found"),this.removeFile({location:zr(Bi(this.#t.workspaces[M.workspace]).mediaDir,M.data.location)})}let S=m?m.childrenDir:Vr.filePath(this.#t,i,n,e),E=zr(S,`${y}${u==="published"?"":`.${u}`}.json`),I=p?.locales.get(e)?.has(u);Ae(!(!c&&I),`Cannot create duplicate entry with id ${s}`);let D;if(p){if(D=p.index,u==="published"){let M=d.byId.get(s)?.locales.get(e);if(M)for(let L of M.values())this.#i.remove(L.filePath)}}else{let M=l==="first"?null:v.at(-1)??null,L=l==="last"?null:v.at(0)??null;D=Ro(M?.index??null,L?.index??null)}if(e!==null&&u==="published"){let M=d.findFirst(L=>L.id===s&&L.locale!==e&&L.status==="published");if(M){let L=this.#t.schema[t];Ae(L,`Type not found: ${t}`),r={...me.sharedData(L,M.data),...r}}this.#l(s,e,t,r)}let F=p?.locales.get(e)?.values(),T=o??F?.next().value?.seeded??null,R=Oa({id:s,type:t,index:D,path:y,seeded:T,data:r},u),_=new TextEncoder().encode(JSON.stringify(R,null,2));return this.#i.add(E,_),this.#r.push(this.#a("create",g)),this}#s(e,t,r){let i=this.#n.findMany(o=>o.id===e&&o.locale===t);for(let o of i){let a=o.status==="published"?r:`${r}.${o.status}`,s=zr(o.parentDir,`${a}.json`);this.#i.rename(o.filePath,s);let l=zr(o.parentDir,r);this.#i.rename(o.childrenDir,l)}}update({id:e,locale:t,status:r,set:n}){let o=this.#n.findFirst(h=>h.id===e&&h.locale===t&&h.status===r);Ae(o,`Entry not found: ${e}`);let a=Dt(ue(n).map(([h,p])=>[h,p??null])),s={...o.data,...a};t!==null&&r==="published"&&this.#l(e,t,o.type,s);let l=Oa({id:e,type:o.type,index:o.index,path:o.path,seeded:o.seeded,data:s},r),u=Ui(s.path??o.data.path??o.path);this.#e.push([o.filePath,o.fileHash]);let d=`${zr(o.parentDir,u)}${o.status==="published"?"":`.${o.status}`}.json`;o.status==="published"?d!==o.filePath&&this.#s(e,t,u):u!==o.path&&(l.path=u);let f=new TextEncoder().encode(JSON.stringify(l,null,2));return this.#i.add(d,f),this.#r.push(this.#a("update",o.title)),this}#u(e){let t=Array.from(this.#n.findMany(n=>n.id!==e.id&&n.parentId===e.parentId&&n.workspace===e.workspace&&n.root===e.root&&n.locale===e.locale&&(n.path===e.path||n.path.startsWith(`${e.path}-`)))).map(n=>n.path),r=U0(e.path,t);return r!==void 0?`${e.path}-${r}`:e.path}#l(e,t,r,n){let i=this.#n,o=this.#t.schema[r];Ae(r,`Type not found: ${r}`);let a=me.sharedData(o,n);if(a){let s=i.findMany(l=>l.id===e&&l.locale!==t);for(let l of s){this.#e.push([l.filePath,l.fileHash]);let u=Oa({id:e,type:l.type,index:l.index,path:l.path,seeded:l.seeded,data:{...l.data,...a}},l.status),c=new TextEncoder().encode(JSON.stringify(u,null,2));this.#i.add(l.filePath,c)}}}publish({id:e,locale:t,status:r}){let n=this.#n,i=n.findFirst(d=>d.id===e&&d.locale===t&&d.status===r);Ae(i,`Entry not found: ${e}`);let o=i.data.path&&i.data.path!==i.path,a=Ui(i.data.path??i.path);a=this.#u({id:e,path:a,parentId:i.parentId,root:i.root,workspace:i.workspace,locale:t});let s=zr(i.parentDir,a);i.locale!==null&&this.#l(e,i.locale,i.type,i.data);let l=n.byId.get(e)?.locales.get(t);if(l)for(let d of l.values())this.#i.remove(d.filePath);this.#e.push([i.filePath,i.fileHash]),this.#i.remove(i.filePath);let u=Oa({...i,path:a},"published"),c=new TextEncoder().encode(JSON.stringify(u,null,2));return o&&(this.#i.remove(`${i.parentDir}/${i.path}.json`),this.#i.rename(i.childrenDir,s)),this.#i.add(`${s}.json`,c),this.#r.push(this.#a("publish",i.title)),this}unpublish({id:e,locale:t}){let n=this.#n.byId.get(e)?.locales.get(t),i=n?.main;Ae(i,`Entry not found: ${e}`);for(let o of n.values())o.main||this.#i.remove(o.filePath);return this.#e.push([i.filePath,i.fileHash]),this.#i.rename(i.filePath,`${i.childrenDir}.draft.json`),this.#r.push(this.#a("unpublish",i.title)),this}archive({id:e,locale:t}){let n=this.#n.byId.get(e)?.locales.get(t),i=n?.main;Ae(i,`Entry not found: ${e}`);for(let o of n.values())o.main||this.#i.remove(o.filePath);return this.#e.push([i.filePath,i.fileHash]),this.#i.rename(i.filePath,`${i.childrenDir}.archived.json`),this.#r.push(this.#a("archive",i.title)),this}move({id:e,after:t,toParent:r,toRoot:n}){let i=this.#n,o=Array.from(i.findMany(b=>b.id===e));Ae(o.length>0,`Entry not found: ${e}`);let a=n?null:r??o[0].parentId,s=n??o[0].root,l=o[0].workspace,u=new Map(Array.from(i.findMany(b=>b.workspace===l&&b.root===s&&b.parentId===a&&b.id!==e)).map(b=>[b.id,b]));t&&Ae(u.has(t),`Sibling not found: ${t}`);let c=Array.from(u.values()),d=t?c.findIndex(b=>b.id===t):-1,f=d+1,h=c[d]??null,p=c[f]??null,m=new Set,v=c.some(b=>m.has(b.index)?!0:(m.add(b.index),!1)),g;if(v){let b=i.findFirst(S=>S.id===e);Ae(b,`Entry not found: ${e}`),c.splice(d+1,0,b);let x=op(null,null,c.length);for(let[S,E]of x.entries()){let I=c[S].id,k=i.byId.get(I);Ae(k);for(let D of k.byFile.values()){let F=Oa({id:I,type:D.type,index:E,path:D.path,seeded:D.seeded,data:D.data},D.status),T=new TextEncoder().encode(JSON.stringify(F,null,2));this.#i.add(D.filePath,T)}}g=x[d+1]}else g=Ro(h?.index??null,p?.index??null);let y;for(let b of o){y=b;let x=a?i.findFirst(F=>F.id===a&&F.locale===b.locale):void 0;if(r){Ae(!b.seeded,`Cannot move seeded entry ${b.filePath}`),Ae(x,`Parent not found: ${a}`),Ae(!x?.childrenDir.startsWith(b.childrenDir),"Cannot move entry into its own children");let F=this.#t.schema[x.type],T=this.#t.schema[b.type],R=Vr.typeContains(this.#t,F,T);Ae(R,`Parent of type ${x.type} does not allow children of type ${b.type}`)}let S=x?x.childrenDir:Vr.filePath(this.#t,l,s,b.locale),E=zr(S,b.path),I=`${E}${b.status==="published"?"":`.${b.status}`}.json`,k=Oa({id:e,type:b.type,index:g,path:b.path,seeded:b.seeded,data:b.data},b.status),D=new TextEncoder().encode(JSON.stringify(k,null,2));(r||n)&&(this.#i.remove(b.filePath),this.#i.rename(b.childrenDir,E)),this.#i.add(I,D)}return this.#r.push(this.#a("move",y.title)),this}remove({id:e,locale:t,status:r}){let n=this.#n,i=n.findMany(a=>{let s=r===void 0||a.status===r,l=t===void 0||a.locale===t;return a.id===e&&l&&s}),o;for(let a of i){if(a.status==="published"&&Ae(!a.seeded,`Cannot remove seeded entry ${a.filePath}`),o=a,this.#e.push([a.filePath,a.fileHash]),this.#i.remove(a.filePath),a.status!=="draft"&&this.#i.remove(a.childrenDir),a.type==="MediaLibrary"){let s=this.#t.workspaces[a.workspace],l=Bi(s).mediaDir,u=n.findMany(c=>c.workspace===a.workspace&&c.root===a.root&&c.filePath.startsWith(a.childrenDir)&&c.type==="MediaFile");for(let c of u)this.removeFile({location:zr(l,c.data.location)})}if(a.type==="MediaFile"){let s=this.#t.workspaces[a.workspace],l=Bi(s).mediaDir;this.removeFile({location:zr(l,a.data.location)})}}return o&&this.#r.unshift(this.#a("remove",o.title)),this}removeFile(e){return Ae(e.location,"Missing location"),this.#r.push(this.#a("remove",e.location)),this.#o.push({op:"removeFile",...e}),this}uploadFile(e){return this.#o.push({op:"uploadFile",...e}),this}description(){return this.#r.map((e,t,r)=>{if(t>0)return e;let n=r.length>1?` (and ${r.length-1} other edits)`:"";return`${e+n}`}).join(`
`)}#a(e,t){return`(${e}) ${t}`}apply(e){for(let t of e)switch(t.op){case"create":this.create(t);break;case"update":this.update(t);break;case"publish":this.publish(t);break;case"unpublish":this.unpublish(t);break;case"archive":this.archive(t);break;case"move":this.move(t);break;case"remove":this.remove(t);break;case"removeFile":this.removeFile(t);break;case"uploadFile":this.uploadFile(t);break;default:C2(t)}}async toRequest(){let{from:e,into:t,changes:r}=await this.#i.compile();return{fromSha:e.sha,intoSha:t.sha,description:this.description(),checks:this.#e,changes:this.#o.concat(dV(r))}}};var nde="ENTRIES",xV="KEYS",EV="VALUES",Bn="",mD=class{constructor(e,t){let r=e._tree,n=Array.from(r.keys());this.set=e,this._type=t,this._path=n.length>0?[{node:r,keys:n}]:[]}next(){let e=this.dive();return this.backtrack(),e}dive(){if(this._path.length===0)return{done:!0,value:void 0};let{node:e,keys:t}=Sp(this._path);if(Sp(t)===Bn)return{done:!1,value:this.result()};let r=e.get(Sp(t));return this._path.push({node:r,keys:Array.from(r.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;let e=Sp(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>Sp(e)).filter(e=>e!==Bn).join("")}value(){return Sp(this._path).node.get(Bn)}result(){switch(this._type){case EV:return this.value();case xV:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}},Sp=e=>e[e.length-1],ide=(e,t,r)=>{let n=new Map;if(t===void 0)return n;let i=t.length+1,o=i+r,a=new Uint8Array(o*i).fill(r+1);for(let s=0;s<i;++s)a[s]=s;for(let s=1;s<o;++s)a[s*i]=s;return SV(e,t,r,n,a,1,i,""),n},SV=(e,t,r,n,i,o,a,s)=>{let l=o*a;e:for(let u of e.keys())if(u===Bn){let c=i[l-1];c<=r&&n.set(s,[e.get(u),c])}else{let c=o;for(let d=0;d<u.length;++d,++c){let f=u[d],h=a*c,p=h-a,m=i[h],v=Math.max(0,c-r-1),g=Math.min(a-1,c+r);for(let y=v;y<g;++y){let b=f!==t[y],x=i[p+y]+ +b,S=i[p+y+1]+1,E=i[h+y]+1,I=i[h+y+1]=Math.min(x,S,E);I<m&&(m=I)}if(m>r)continue e}SV(e.get(u),t,r,n,i,c,a,s+u)}},gD=class $g{constructor(t=new Map,r=""){this._size=void 0,this._tree=t,this._prefix=r}atPrefix(t){if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");let[r,n]=R2(this._tree,t.slice(this._prefix.length));if(r===void 0){let[i,o]=CD(n);for(let a of i.keys())if(a!==Bn&&a.startsWith(o)){let s=new Map;return s.set(a.slice(o.length),i.get(a)),new $g(s,t)}}return new $g(r,t)}clear(){this._size=void 0,this._tree.clear()}delete(t){return this._size=void 0,ode(this._tree,t)}entries(){return new mD(this,nde)}forEach(t){for(let[r,n]of this)t(r,n,this)}fuzzyGet(t,r){return ide(this._tree,t,r)}get(t){let r=xD(this._tree,t);return r!==void 0?r.get(Bn):void 0}has(t){let r=xD(this._tree,t);return r!==void 0&&r.has(Bn)}keys(){return new mD(this,xV)}set(t,r){if(typeof t!="string")throw new Error("key must be a string");return this._size=void 0,vD(this._tree,t).set(Bn,r),this}get size(){if(this._size)return this._size;this._size=0;let t=this.entries();for(;!t.next().done;)this._size+=1;return this._size}update(t,r){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;let n=vD(this._tree,t);return n.set(Bn,r(n.get(Bn))),this}fetch(t,r){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;let n=vD(this._tree,t),i=n.get(Bn);return i===void 0&&n.set(Bn,i=r()),i}values(){return new mD(this,EV)}[Symbol.iterator](){return this.entries()}static from(t){let r=new $g;for(let[n,i]of t)r.set(n,i);return r}static fromObject(t){return $g.from(Object.entries(t))}},R2=(e,t,r=[])=>{if(t.length===0||e==null)return[e,r];for(let n of e.keys())if(n!==Bn&&t.startsWith(n))return r.push([e,n]),R2(e.get(n),t.slice(n.length),r);return r.push([e,t]),R2(void 0,"",r)},xD=(e,t)=>{if(t.length===0||e==null)return e;for(let r of e.keys())if(r!==Bn&&t.startsWith(r))return xD(e.get(r),t.slice(r.length))},vD=(e,t)=>{let r=t.length;e:for(let n=0;e&&n<r;){for(let o of e.keys())if(o!==Bn&&t[n]===o[0]){let a=Math.min(r-n,o.length),s=1;for(;s<a&&t[n+s]===o[s];)++s;let l=e.get(o);if(s===o.length)e=l;else{let u=new Map;u.set(o.slice(s),l),e.set(t.slice(n,n+s),u),e.delete(o),e=u}n+=s;continue e}let i=new Map;return e.set(t.slice(n),i),i}return e},ode=(e,t)=>{let[r,n]=R2(e,t);if(r!==void 0){if(r.delete(Bn),r.size===0)CV(n);else if(r.size===1){let[i,o]=r.entries().next().value;kV(n,i,o)}}},CV=e=>{if(e.length===0)return;let[t,r]=CD(e);if(t.delete(r),t.size===0)CV(e.slice(0,-1));else if(t.size===1){let[n,i]=t.entries().next().value;n!==Bn&&kV(e.slice(0,-1),n,i)}},kV=(e,t,r)=>{if(e.length===0)return;let[n,i]=CD(e);n.set(i+t,r),n.delete(i)},CD=e=>e[e.length-1],kD="or",AV="and",ade="and_not",TV=class I2{constructor(t){if(t?.fields==null)throw new Error('MiniSearch: option "fields" must be provided');let r=t.autoVacuum==null||t.autoVacuum===!0?bD:t.autoVacuum;this._options={...wD,...t,autoVacuum:r,searchOptions:{...vV,...t.searchOptions||{}},autoSuggestOptions:{...dde,...t.autoSuggestOptions||{}}},this._index=new gD,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=SD,this.addFields(this._options.fields)}add(t){let{extractField:r,tokenize:n,processTerm:i,fields:o,idField:a}=this._options,s=r(t,a);if(s==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);if(this._idToShortId.has(s))throw new Error(`MiniSearch: duplicate ID ${s}`);let l=this.addDocumentId(s);this.saveStoredFields(l,t);for(let u of o){let c=r(t,u);if(c==null)continue;let d=n(c.toString(),u),f=this._fieldIds[u],h=new Set(d).size;this.addFieldLength(l,f,this._documentCount-1,h);for(let p of d){let m=i(p,u);if(Array.isArray(m))for(let v of m)this.addTerm(f,l,v);else m&&this.addTerm(f,l,m)}}}addAll(t){for(let r of t)this.add(r)}addAllAsync(t,r={}){let{chunkSize:n=10}=r,i={chunk:[],promise:Promise.resolve()},{chunk:o,promise:a}=t.reduce(({chunk:s,promise:l},u,c)=>(s.push(u),(c+1)%n===0?{chunk:[],promise:l.then(()=>new Promise(d=>setTimeout(d,0))).then(()=>this.addAll(s))}:{chunk:s,promise:l}),i);return a.then(()=>this.addAll(o))}remove(t){let{tokenize:r,processTerm:n,extractField:i,fields:o,idField:a}=this._options,s=i(t,a);if(s==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);let l=this._idToShortId.get(s);if(l==null)throw new Error(`MiniSearch: cannot remove document with ID ${s}: it is not in the index`);for(let u of o){let c=i(t,u);if(c==null)continue;let d=r(c.toString(),u),f=this._fieldIds[u],h=new Set(d).size;this.removeFieldLength(l,f,this._documentCount,h);for(let p of d){let m=n(p,u);if(Array.isArray(m))for(let v of m)this.removeTerm(f,l,v);else m&&this.removeTerm(f,l,m)}}this._storedFields.delete(l),this._documentIds.delete(l),this._idToShortId.delete(s),this._fieldLength.delete(l),this._documentCount-=1}removeAll(t){if(t)for(let r of t)this.remove(r);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new gD,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(t){let r=this._idToShortId.get(t);if(r==null)throw new Error(`MiniSearch: cannot discard document with ID ${t}: it is not in the index`);this._idToShortId.delete(t),this._documentIds.delete(r),this._storedFields.delete(r),(this._fieldLength.get(r)||[]).forEach((n,i)=>{this.removeFieldLength(r,i,this._documentCount,n)}),this._fieldLength.delete(r),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;let{minDirtFactor:t,minDirtCount:r,batchSize:n,batchWait:i}=this._options.autoVacuum;this.conditionalVacuum({batchSize:n,batchWait:i},{minDirtCount:r,minDirtFactor:t})}discardAll(t){let r=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(let n of t)this.discard(n)}finally{this._options.autoVacuum=r}this.maybeAutoVacuum()}replace(t){let{idField:r,extractField:n}=this._options,i=n(t,r);this.discard(i),this.add(t)}vacuum(t={}){return this.conditionalVacuum(t)}conditionalVacuum(t,r){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&r,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{let n=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=SD,this.performVacuuming(t,n)}),this._enqueuedVacuum)):this.vacuumConditionsMet(r)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(t),this._currentVacuum)}async performVacuuming(t,r){let n=this._dirtCount;if(this.vacuumConditionsMet(r)){let i=t.batchSize||ED.batchSize,o=t.batchWait||ED.batchWait,a=1;for(let[s,l]of this._index){for(let[u,c]of l)for(let[d]of c)this._documentIds.has(d)||(c.size<=1?l.delete(u):c.delete(d));this._index.get(s).size===0&&this._index.delete(s),a%i===0&&await new Promise(u=>setTimeout(u,o)),a+=1}this._dirtCount-=n}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(t){if(t==null)return!0;let{minDirtCount:r,minDirtFactor:n}=t;return r=r||bD.minDirtCount,n=n||bD.minDirtFactor,this.dirtCount>=r&&this.dirtFactor>=n}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(t){return this._idToShortId.has(t)}getStoredFields(t){let r=this._idToShortId.get(t);if(r!=null)return this._storedFields.get(r)}search(t,r={}){let{searchOptions:n}=this._options,i={...n,...r},o=this.executeQuery(t,r),a=[];for(let[s,{score:l,terms:u,match:c}]of o){let d=u.length||1,f={id:this._documentIds.get(s),score:l*d,terms:Object.keys(c),queryTerms:u,match:c};Object.assign(f,this._storedFields.get(s)),(i.filter==null||i.filter(f))&&a.push(f)}return t===I2.wildcard&&i.boostDocument==null||a.sort(wV),a}autoSuggest(t,r={}){r={...this._options.autoSuggestOptions,...r};let n=new Map;for(let{score:o,terms:a}of this.search(t,r)){let s=a.join(" "),l=n.get(s);l!=null?(l.score+=o,l.count+=1):n.set(s,{score:o,terms:a,count:1})}let i=[];for(let[o,{score:a,terms:s,count:l}]of n)i.push({suggestion:o,terms:s,score:a/l});return i.sort(wV),i}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(t,r){if(r==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(t),r)}static async loadJSONAsync(t,r){if(r==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(t),r)}static getDefault(t){if(wD.hasOwnProperty(t))return yD(wD,t);throw new Error(`MiniSearch: unknown option "${t}"`)}static loadJS(t,r){let{index:n,documentIds:i,fieldLength:o,storedFields:a,serializationVersion:s}=t,l=this.instantiateMiniSearch(t,r);l._documentIds=T2(i),l._fieldLength=T2(o),l._storedFields=T2(a);for(let[u,c]of l._documentIds)l._idToShortId.set(c,u);for(let[u,c]of n){let d=new Map;for(let f of Object.keys(c)){let h=c[f];s===1&&(h=h.ds),d.set(parseInt(f,10),T2(h))}l._index.set(u,d)}return l}static async loadJSAsync(t,r){let{index:n,documentIds:i,fieldLength:o,storedFields:a,serializationVersion:s}=t,l=this.instantiateMiniSearch(t,r);l._documentIds=await D2(i),l._fieldLength=await D2(o),l._storedFields=await D2(a);for(let[c,d]of l._documentIds)l._idToShortId.set(d,c);let u=0;for(let[c,d]of n){let f=new Map;for(let h of Object.keys(d)){let p=d[h];s===1&&(p=p.ds),f.set(parseInt(h,10),await D2(p))}++u%1e3===0&&await DV(0),l._index.set(c,f)}return l}static instantiateMiniSearch(t,r){let{documentCount:n,nextId:i,fieldIds:o,averageFieldLength:a,dirtCount:s,serializationVersion:l}=t;if(l!==1&&l!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");let u=new I2(r);return u._documentCount=n,u._nextId=i,u._idToShortId=new Map,u._fieldIds=o,u._avgFieldLength=a,u._dirtCount=s||0,u._index=new gD,u}executeQuery(t,r={}){if(t===I2.wildcard)return this.executeWildcardQuery(r);if(typeof t!="string"){let f={...r,...t,queries:void 0},h=t.queries.map(p=>this.executeQuery(p,f));return this.combineResults(h,f.combineWith)}let{tokenize:n,processTerm:i,searchOptions:o}=this._options,a={tokenize:n,processTerm:i,...o,...r},{tokenize:s,processTerm:l}=a,d=s(t).flatMap(f=>l(f)).filter(f=>!!f).map(cde(a)).map(f=>this.executeQuerySpec(f,a));return this.combineResults(d,a.combineWith)}executeQuerySpec(t,r){let n={...this._options.searchOptions,...r},i=(n.fields||this._options.fields).reduce((m,v)=>({...m,[v]:yD(n.boost,v)||1}),{}),{boostDocument:o,weights:a,maxFuzzy:s,bm25:l}=n,{fuzzy:u,prefix:c}={...vV.weights,...a},d=this._index.get(t.term),f=this.termResults(t.term,t.term,1,t.termBoost,d,i,o,l),h,p;if(t.prefix&&(h=this._index.atPrefix(t.term)),t.fuzzy){let m=t.fuzzy===!0?.2:t.fuzzy,v=m<1?Math.min(s,Math.round(t.term.length*m)):m;v&&(p=this._index.fuzzyGet(t.term,v))}if(h)for(let[m,v]of h){let g=m.length-t.term.length;if(!g)continue;p?.delete(m);let y=c*m.length/(m.length+.3*g);this.termResults(t.term,m,y,t.termBoost,v,i,o,l,f)}if(p)for(let m of p.keys()){let[v,g]=p.get(m);if(!g)continue;let y=u*m.length/(m.length+g);this.termResults(t.term,m,y,t.termBoost,v,i,o,l,f)}return f}executeWildcardQuery(t){let r=new Map,n={...this._options.searchOptions,...t};for(let[i,o]of this._documentIds){let a=n.boostDocument?n.boostDocument(o,"",this._storedFields.get(i)):1;r.set(i,{score:a,terms:[],match:{}})}return r}combineResults(t,r=kD){if(t.length===0)return new Map;let n=r.toLowerCase(),i=sde[n];if(!i)throw new Error(`Invalid combination operator: ${r}`);return t.reduce(i)||new Map}toJSON(){let t=[];for(let[r,n]of this._index){let i={};for(let[o,a]of n)i[o]=Object.fromEntries(a);t.push([r,i])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:t,serializationVersion:2}}termResults(t,r,n,i,o,a,s,l,u=new Map){if(o==null)return u;for(let c of Object.keys(a)){let d=a[c],f=this._fieldIds[c],h=o.get(f);if(h==null)continue;let p=h.size,m=this._avgFieldLength[f];for(let v of h.keys()){if(!this._documentIds.has(v)){this.removeTerm(f,v,r),p-=1;continue}let g=s?s(this._documentIds.get(v),r,this._storedFields.get(v)):1;if(!g)continue;let y=h.get(v),b=this._fieldLength.get(v)[f],x=ude(y,p,this._documentCount,b,m,l),S=n*i*d*g*x,E=u.get(v);if(E){E.score+=S,fde(E.terms,t);let I=yD(E.match,r);I?I.push(c):E.match[r]=[c]}else u.set(v,{score:S,terms:[t],match:{[r]:[c]}})}}return u}addTerm(t,r,n){let i=this._index.fetch(n,bV),o=i.get(t);if(o==null)o=new Map,o.set(r,1),i.set(t,o);else{let a=o.get(r);o.set(r,(a||0)+1)}}removeTerm(t,r,n){if(!this._index.has(n)){this.warnDocumentChanged(r,t,n);return}let i=this._index.fetch(n,bV),o=i.get(t);o==null||o.get(r)==null?this.warnDocumentChanged(r,t,n):o.get(r)<=1?o.size<=1?i.delete(t):o.delete(r):o.set(r,o.get(r)-1),this._index.get(n).size===0&&this._index.delete(n)}warnDocumentChanged(t,r,n){for(let i of Object.keys(this._fieldIds))if(this._fieldIds[i]===r){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(t)} has changed before removal: term "${n}" was not present in field "${i}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(t){let r=this._nextId;return this._idToShortId.set(t,r),this._documentIds.set(r,t),this._documentCount+=1,this._nextId+=1,r}addFields(t){for(let r=0;r<t.length;r++)this._fieldIds[t[r]]=r}addFieldLength(t,r,n,i){let o=this._fieldLength.get(t);o==null&&this._fieldLength.set(t,o=[]),o[r]=i;let s=(this._avgFieldLength[r]||0)*n+i;this._avgFieldLength[r]=s/(n+1)}removeFieldLength(t,r,n,i){if(n===1){this._avgFieldLength[r]=0;return}let o=this._avgFieldLength[r]*n-i;this._avgFieldLength[r]=o/(n-1)}saveStoredFields(t,r){let{storeFields:n,extractField:i}=this._options;if(n==null||n.length===0)return;let o=this._storedFields.get(t);o==null&&this._storedFields.set(t,o={});for(let a of n){let s=i(r,a);s!==void 0&&(o[a]=s)}}};TV.wildcard=Symbol("*");var yD=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0,sde={[kD]:(e,t)=>{for(let r of t.keys()){let n=e.get(r);if(n==null)e.set(r,t.get(r));else{let{score:i,terms:o,match:a}=t.get(r);n.score=n.score+i,n.match=Object.assign(n.match,a),yV(n.terms,o)}}return e},[AV]:(e,t)=>{let r=new Map;for(let n of t.keys()){let i=e.get(n);if(i==null)continue;let{score:o,terms:a,match:s}=t.get(n);yV(i.terms,a),r.set(n,{score:i.score+o,terms:i.terms,match:Object.assign(i.match,s)})}return r},[ade]:(e,t)=>{for(let r of t.keys())e.delete(r);return e}},lde={k:1.2,b:.7,d:.5},ude=(e,t,r,n,i,o)=>{let{k:a,b:s,d:l}=o;return Math.log(1+(r-t+.5)/(t+.5))*(l+e*(a+1)/(e+a*(1-s+s*n/i)))},cde=e=>(t,r,n)=>{let i=typeof e.fuzzy=="function"?e.fuzzy(t,r,n):e.fuzzy||!1,o=typeof e.prefix=="function"?e.prefix(t,r,n):e.prefix===!0,a=typeof e.boostTerm=="function"?e.boostTerm(t,r,n):1;return{term:t,fuzzy:i,prefix:o,termBoost:a}},wD={idField:"id",extractField:(e,t)=>e[t],tokenize:e=>e.split(hde),processTerm:e=>e.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(e,t)=>{typeof console?.[e]=="function"&&console[e](t)},autoVacuum:!0},vV={combineWith:kD,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:lde},dde={combineWith:AV,prefix:(e,t,r)=>t===r.length-1},ED={batchSize:1e3,batchWait:10},SD={minDirtFactor:.1,minDirtCount:20},bD={...ED,...SD},fde=(e,t)=>{e.includes(t)||e.push(t)},yV=(e,t)=>{for(let r of t)e.includes(r)||e.push(r)},wV=({score:e},{score:t})=>t-e,bV=()=>new Map,T2=e=>{let t=new Map;for(let r of Object.keys(e))t.set(parseInt(r,10),e[r]);return t},D2=async e=>{let t=new Map,r=0;for(let n of Object.keys(e))t.set(parseInt(n,10),e[n]),++r%1e3===0&&await DV(0);return t},DV=e=>new Promise(t=>setTimeout(t,e)),hde=/[\n\r\p{Z}\p{P}]+/u,pde=/[\n\r\p{Z}\p{P}]+/u,mde=/\p{Diacritic}/gu,IV=class extends EventTarget{tree=Po.EMPTY;entries=[];byPath=new Map;byId=new Map;resolver;initialSync;#e;#r;#t;#n;constructor(e){super(),this.#e=e,this.#n=Vr.multipleWorkspaces(e)?void 0:Rt(e.workspaces)[0],this.#r=yde(e),this.resolver=new k2(e,this),this.#t=new TV({fields:["title","searchableText"],storeFields:["entry"],tokenize(t){return t.normalize("NFD").replace(mde,"").split(pde)}})}get sha(){return this.tree.sha}findFirst(e){let[t]=this.findMany(e);return t}*findMany(e){for(let t of this.entries)e(t)&&(yield t)}filter({ids:e,search:t,condition:r},n){if(t){let o=this.filter({ids:e,condition:r});for(let a of o)this.#t.has(a.filePath)||this.updateSearch(a);return this.#t.search(t,{prefix:!0,fuzzy:.1,boost:{title:2},filter:a=>e?e.includes(a.entry.id):r?r(a.entry):!0}).map(a=>a.entry)}if(e){let o=[];for(let a of e){let s=this.byId.get(a);if(s)for(let l of s.entries){let u=n&&l.id===n.id&&l.locale===n.locale?n:l;r&&!r(u)||o.push(u)}}return o}let i=this.#i(this.entries,n);return r?i.filter(r):i}#i(e,t){if(!t)return e;let r=e.findIndex(i=>i.id===t.id&&i.locale===t.locale&&i.status===t.status);if(r===-1)return e.concat(t);let n=e.slice();return n[r]=t,n}async syncWith(e){let t=await e.getTree();this.initialSync||(this.initialSync=t);let r=await cD(e,this.tree.diff(t));return r.changes.length===0?t.sha:this.indexChanges(r)}async fix(e){let t=await e.getTree(),r=await this.transaction(e);for(let o of this.entries){let a=Oa(o,o.status),s=new TextEncoder().encode(JSON.stringify(a,null,2)),l=await gf(s),u=t.getLeaf(o.filePath);l!==u.sha&&r.update({id:o.id,set:o.data,locale:o.locale,status:o.status})}if(r.empty)return;let n=await r.toRequest(),i=jg(n);i.changes.length&&await e.applyChanges(i)}async seed(e){for(let[t,r]of this.#r){let{type:n,workspace:i,root:o,locale:a,data:{path:s}}=r,l=this.byPath.get(t);if(l)Ae(l.type===n,`Type mismatch in ${t}`);else{let u=t.split("/").slice(this.#n?1:2),c=`/${u.join("/")}.json`,d=this.findFirst(f=>f.seeded===c&&f.root===o&&f.workspace===i);if(d)Ae(d.type===n,`Type mismatch in ${t}`);else{let f=hd(t),h=this.byPath.get(F2(f)),p=_t();if(a){let y=u.length-1,b=`/${u.slice(1).join("/")}.json`,x=this.findFirst(S=>S.locale!==a&&S.root===o&&S.workspace===i&&S.path===s&&S.level===y&&S.parentId===(h?.id??null)&&S.seeded!==null&&S.seeded.endsWith(b));x&&(p=x.id)}let v=await(await this.transaction(e)).create({id:p,parentId:h?.id??null,locale:a,type:n,workspace:i,root:o,fromSeed:c,data:{path:s}}).toRequest(),g=jg(v);g.changes.length&&(await e.applyChanges(g),await this.indexChanges(g))}}}}async transaction(e){let t=await e.getTree();return new A2(this.#e,this,e,t)}async indexChanges(e){let{changes:t}=e;if(t.length===0)return this.tree.sha;this.#o(e),this.tree=await this.tree.withChanges(e);let r=this.tree.sha;return this.dispatchEvent(new Kt({op:"index",sha:r})),r}async updateSearch(e){this.#t.add({id:e.filePath,title:e.title,searchableText:e.searchableText,entry:e})}#o(e){let{fromSha:t,changes:r}=e;if(t!==this.tree.sha)throw new iu(t,this.tree.sha);let n=new Set;for(let o of r){if(!o.path.endsWith(".json"))continue;let a=F2(o.path);switch(o.op){case"delete":{let s=this.byPath.get(a);if(!s)continue;let l=s.byFile.get(o.path);if(!l)continue;Ae(l.fileHash===o.sha,`SHA mismatch: ${l.fileHash} != ${o.sha}`),s.remove(o.path)===0&&(this.byId.delete(s.id),this.byPath.delete(a)),n.add(s.id),this.#t.has(l.filePath)&&this.#t.discard(l.filePath);break}case"add":{let s=o.contents;Ae(s,"Missing contents");let u=o.path.split("/").slice(0,-1).join("/"),c=this.byPath.get(u),d=this.#s({sha:o.sha,file:o.path,contents:s}),f=this.byId.get(d.id)??new vde(this.#e,d);f.add(d,c),c?n.add(c.id):n.add(f.id),this.byPath.set(a,f),this.byId.set(d.id,f),this.#t.has(d.filePath)&&(this.#t.discard(d.filePath),this.updateSearch(d));break}}}let i=[];for(let[o,a]of this.byId){let s=n.has(o),l=a.parentId;for(;!s&&l;){let u=this.byId.get(l);if(!u)break;s=n.has(u.id),l=u.parentId}s&&(a.sync(this.byId),n.add(o)),i.push(...a.entries)}this.entries=i.sort((o,a)=>ls(o.index,a.index));for(let o of n)this.dispatchEvent(new Kt({op:"entry",id:o}))}#s({sha:e,file:t,contents:r}){let n=t.split("/"),i=n.at(-1);Ae(i);let o=i.lastIndexOf(".");Ae(o!==-1);let a=i.slice(0,o),[s,l]=$0(a),u=n.slice(0,-1).join("/"),c=`${u}/${s}`,d;try{let L=new TextDecoder().decode(r);d=JSON.parse(L)}catch(L){throw new Error(`Failed to parse JSON: ${t} - ${L}`)}Ae(typeof d=="object");let f=F2(t),h=this.#r.get(f),{meta:p,data:m}=wN(d),v={path:s,...h?.data,...m},g=p.id,y=p.type,b=p.index,x=v.title,S=0,E=this.#n??n[S++],I=this.#e.workspaces[E];Ae(I,`Invalid workspace: ${E} in ${t}`);let k=n[S++],D=I[k];Ae(D,`Invalid root: ${k}`);let F=ln(D).i18n,T=null;if(F){T=n[S++].toLowerCase();for(let L of F.locales)if(T===L.toLowerCase()){T=L;break}}let R=this.#e.schema[y];Ae(R,`Invalid type: ${y} in ${t} (${E}/${k})`);let _=me.searchableText(R,v),M=1;return this.#n||(M+=1),F&&(M+=1),{rowHash:e,fileHash:e,workspace:E,root:k,filePath:t,seeded:p.seeded??null,id:g,status:l,type:y,parentDir:u,childrenDir:c,parentId:null,level:n.length-M,index:b,locale:T,path:s,title:x,data:v,searchableText:_,url:"",active:!1,main:!1}}},gde=class extends Map{inheritedStatus;setInherited(e){e?this.inheritedStatus=e:this.has("archived")?this.inheritedStatus="archived":this.has("draft")&&!this.has("published")?this.inheritedStatus="draft":this.inheritedStatus=void 0}get active(){return this.get("draft")||this.get("published")||this.get("archived")}get main(){return this.inheritedStatus?this.active:this.get("published")||this.get("archived")||this.get("draft")}*versions(){this.inheritedStatus?yield this.active:yield*this.values()}},vde=class{#e;id;type;byFile=new Map;locales=new Map;constructor(e,t){this.#e=e,this.id=t.id,this.type=t.type}get index(){let[e]=this.byFile.values();return e.index}get parentId(){let[e]=this.byFile.values();if(!e)throw new Error(`EntryNode has no entries: ${this.id}`);return e.parentId}get entries(){let e=[];for(let t of this.locales.values())for(let r of t.versions())e.push(r);return e}pathOf(e){let t=this.locales.get(e);if(!t)return;let[r]=t.values();if(r)return r.path}add(e,t){this.byFile.has(e.filePath)&&this.remove(e.filePath);let[r]=this.byFile.values();r&&this.#r(e,r);let n=e.locale,i=this.locales.get(n)??new gde;this.locales.set(n,i);let o=e.status;if(n===null&&Ae(this.locales.size===1),i.has(o))return Yd(`Duplicate entry with id ${e.id}`,e.filePath,i.get(o).filePath);switch(o){case"published":{let s=i.get("archived");if(!s)break;return Yd("Entry has both an archived and published version",s.filePath,e.filePath)}case"archived":{let s=i.get("published");if(!s)break;return Yd("Entry has both an archived and published version",s.filePath,e.filePath)}case"draft":{let s=i.get("draft");if(!s)break;return Yd("Entry has multiple drafts",s.filePath,e.filePath)}}e.parentId=t?t.id:null,i.set(o,e),this.byFile.set(e.filePath,e);let a=t?.locales.get(n);i.setInherited(a?.inheritedStatus),e.status=i.inheritedStatus??o;for(let s of i.values())e.path!==s.path&&Yd("Entry has different file paths for different versions",e.filePath,s.filePath)}sync(e){let t=this.parentId?e.get(this.parentId):void 0;for(let[r,n]of this.locales){let i,o=t?.locales.get(r);n.setInherited(o?.inheritedStatus);let a=n.active,s=n.main;for(let[l,u]of n){i??=u.path,Ae(u.path===i,`Invalid path: ${u.path} != ${i}`),u.active=u===a,u.main=u===s;let c=[],d=t;for(;d;){let p=d.pathOf(r);if(Ae(p,"Missing parent path"),c.unshift(p),d.parentId)d=e.get(d.parentId);else break}let f=this.#e.schema[u.type],h=qw(f,{locale:r,status:l,path:u.path,parentPaths:c});u.url=h,u.status=n.inheritedStatus??l,Ae(rL(u.index),"Invalid index"),u.index!==this.index&&(Yd(`This translation has a different _index field (${u.index} != ${this.index})`,u.filePath,this.entries[0].filePath),u.index=this.index)}}}has(e){return this.byFile.has(e)}remove(e){let t=this.byFile.get(e);Ae(t,"Entry not found");let r=t.locale,n=this.locales.get(r);Ae(n,`Locale (${r}) not found for ${e}`);let[,i]=$0(e.slice(0,-5));return n.delete(i),n.size===0&&this.locales.delete(r),this.byFile.delete(e),this.byFile.size}#r(e,t){Ae(e.id===t.id,"ID mismatch"),Ae(e.root===t.root,`Entry has a different root than the previous version: ${e.filePath} (${e.root}) != ${t.filePath} (${t.root})`),Ae(e.type===t.type,"Type mismatch")}};function F2(e){let t=e.lastIndexOf("/"),r=e.slice(0,t),n=e.slice(t+1),i=n.lastIndexOf("."),o=i===-1?n:n.slice(0,i);return o.endsWith(".archived")&&(o=o.slice(0,-9)),o.endsWith(".draft")&&(o=o.slice(0,-6)),`${r}/${o}`}function yde(e){let t=new Map,r=br.typeNames(e.schema);for(let[n,i]of ue(e.workspaces))for(let[o,a]of ue(i)){let{i18n:s}=ln(a),l=s?.locales??[null];for(let u of l){let c=ue(a);for(;c.length>0;){let[d,f]=c.shift(),h=d.split("/").map(Ui).join("/");if(!xp.isPage(f))continue;let{type:p,fields:m={}}=xp.data(f),v=Vr.filePath(e,n,o,u,`${h}.json`),g=F2(v),y=r.get(p);if(!y)continue;t.set(g,{seedId:`${o}/${h}`,type:y,locale:u,workspace:n,root:o,data:{...m,path:h.split("/").pop(),title:m.title??h}});let b=ue(f).map(([x,S])=>[`${h}/${x}`,S]);c.push(...b)}}}return t}var wde=S2(1),FV=class extends pp{constructor(e,t=new lV){super(),this.config=e;let r=new IV(e),n=new k2(e,r);this.#e=n,this.index=r,this.source=t}index;source;#e;resolve(e){return this.#e.resolve(e)}get sha(){return this.index.sha}indexChanges(e){return this.index.indexChanges(e)}applyChanges(e){return this.source.applyChanges(e)}getTreeIfDifferent(e){return this.source.getTreeIfDifferent(e)}getBlobs(e){return this.source.getBlobs(e)}async sync(){return await this.index.syncWith(this.source),await this.index.seed(this.source),this.sha}syncWith(e){return wde(async()=>(await uV(this.source,e),this.sync()))}async logEntries(){let e=await this.find({select:{id:G.id,root:G.root,workspace:G.workspace,parentId:G.parentId,locale:G.locale,status:G.status,path:G.path,index:G.index,title:G.title,active:G.active},status:"all"});console.table(e.map(({id:t,parentId:r,...n})=>({id:t.slice(-7),parentId:r?.slice(-7),...n})))}async request(e){await this.sync();let t=await this.source.getTree(),r=new A2(this.config,this.index,this.source,t);return r.apply(e),r.toRequest()}async mutate(e){let t=await this.request(e);return this.write(t)}async write(e){if(this.sha===e.intoSha)return{sha:this.sha};let t=jg(e);return await this.indexChanges(t),await this.applyChanges(t),{sha:await this.sync()}}async prepareUpload(e){throw new Error("Uploads not supported on local DB")}};var AD=S2(1),Ug=class extends EventTarget{#e;#r;#t;#n=lD();#i;#o;constructor(e){super(),this.#e=e}get db(){return this.#r??this.#n.then(e=>e.db)}get#s(){return this.#t??this.#n.then(e=>e.client)}async sync(){let e=await this.db,t=await this.#s;if(AD.pendingCount>0)return e.sha;let r=AD(()=>e.syncWith(t));return e.index.tree.isEmpty&&await r,e.sha}queue(e,t){return AD(async()=>{let r=await this.db;await r.mutate(t);let n=r.sha,i=await this.#s;try{let{sha:o}=await i.mutate(t);return o!==n?r.syncWith(i):n}catch(o){throw await r.syncWith(i),o}})}async resolve(e){let t=await this.db,n=ga(t.config).parse(e);return t.resolve(n)}async load(e,t,r){if(this.#o===e){await this.sync();return}this.#o=e;let n=new FV(t,this.#e);try{this.#i&&this.#i(),this.#n.resolve({db:n,client:r}),this.#r=n,this.#t=r;let i=o=>{o instanceof Kt&&this.dispatchEvent(new Kt(o.data))};n.index.addEventListener(Kt.type,i),this.#i=()=>{n.index.removeEventListener(Kt.type,i)}}catch{this.#n.reject(new Error("Failed to load database"))}finally{this.#n=lD()}}};w();async function RV(e){let t=new c1(globalThis.indexedDB,"alinea"),r=new Ug(t);globalThis.onconnect=n=>{console.info("Worker connected");let i=n.ports[0];u1(r,i);let o=a=>{try{i.postMessage({...a,type:a.type})}catch{r.removeEventListener(Kt.type,o)}};r.addEventListener(Kt.type,o)};for await(let n of e)await r.load(n.revision,n.config,n.client)}w();var MV=class extends pp{constructor(e,t,r,n){super(),this.config=e,this.events=n,this.#e=t,this.#r=r}#e;#r;async mutate(e){let t=_t();return{id:t,sha:await this.#e.queue(t,e)}}resolve(e){let r=ga(this.config).stringify(e);return this.#e.resolve(r)}sync(){return this.#e.sync()}prepareUpload(e){return this.#r.prepareUpload(e)}};var OV=A(P(),1);async function BV(e){if(xde())RV(e);else{let r,n;try{[r,n]=bde()}catch{console.warn("Shared worker not supported, falling back to local worker.");let c=new c1(globalThis.indexedDB,"alinea");r=n=new Ug(c)}let i=document.getElementsByTagName("script"),o=i[i.length-1],a=document.createElement("div");a.id="root",o.parentElement.replaceChild(a,o);let s=(0,_V.createRoot)(a),l;for await(let u of e){if(u.local&&u.revision!==l){let d=document.querySelector('link[href^="/config.css"]'),f=d.cloneNode();f.href=`/config.css?${u.revision}`,f.onload=()=>d.remove(),d.after(f)}if(n instanceof Ug&&await n.load(u.revision,u.config,u.client),u.revision!==l){let d=new MV(u.config,n,u.client,r);s.render((0,OV.jsx)(sV,{db:d,...u}))}l=u.revision}}}function bde(){let e=new EventTarget,t=new SharedWorker(import.meta.url,{type:"module",name:"Alinea dashboard"});return t.port.addEventListener("message",({data:r})=>{r.type===Kt.type&&e.dispatchEvent(new Kt(r.data))}),[e,kS(t.port)]}function xde(){return typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope}function NV(e,t,r){async function*n(){yield{local:!1,revision:"2zgJ5f10MA9ZaL7VUT1GOvfmyQH",config:t.config,views:r,client:new n1({config:t.config,url:e})}}return BV(n())}w();w();var Ct={};fS(Ct,{create:()=>_w,document:()=>zV,media:()=>PV,page:()=>pV,root:()=>Iw,schema:()=>AB,snippet:()=>n7,track:()=>Ba,type:()=>wr,workspace:()=>DB});w();w();function PV(e={}){return Iw("Media",{icon:Jy,contains:["MediaLibrary"],view:Qe.MediaExplorer,isMediaRoot:!0,children:{...e}})}w();w();var TD=A(P(),1);function LV(e){return(0,TD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,TD.jsx)("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})})}function Ede(){return{title:Kr("Title",{required:!0,width:.5}),path:E2("Path",{required:!0,width:.5}),metadata:x2()}}function zV(e,{fields:t,...r}){let{title:n,path:i,metadata:o}=Ede(),a=Qw(Y0("Document",{icon:gh,fields:{title:n,path:i,...t}}),Y0("Metadata",{icon:LV,fields:{metadata:o}}));return wr(e,{...r,fields:a})}var ND={};fS(ND,{Author:()=>DD,AuthorList:()=>ID,BlogList:()=>FD,BlogPost:()=>M2,Category:()=>RD,CategoryList:()=>MD,FormPage:()=>_2,HomePage:()=>OD,Page:()=>BD});w();w();var DD=Ct.document("Author",{fields:{avatar:dt.image("Avatar"),bio:dt.richText("Bio",{help:"A short biography of the author"})}});w();var ID=Ct.document("AuthorList",{contains:[DD],fields:{intro:dt.text("Introduction",{help:"A brief introduction to the authors section.",multiline:!0})}});w();w();var M2=Ct.document("BlogPost",{fields:{date:dt.date("Date"),author:dt.entry("Author",{condition:{_type:"Author"},width:.5}),category:dt.entry("Category",{condition:{_type:"Category"},width:.5}),image:dt.image("Image"),intro:dt.text("Introduction",{help:"A brief introduction to the post.",multiline:!0}),content:dt.richText("Content",{help:"The main content of the post."})}});var FD=Ct.document("BlogList",{contains:[M2],orderChildrenBy:{desc:M2.date},fields:{intro:dt.richText("Introduction",{help:"A brief introduction to the blog section."})}});w();var RD=Ct.document("Category",{fields:{description:dt.text("Description",{multiline:!0,help:"A short description of the category"}),theme:dt.object("Theme",{fields:{colorLight:dt.text("Light color",{help:"The text color of the category in light mode (e.g. #E67E22)",width:.5}),colorDark:dt.text("Dark color",{help:"The text color of the category in dark mode (e.g. #FFB380)",width:.5})}})}});w();var MD=Ct.document("CategoryList",{contains:[RD],fields:{intro:dt.richText("Introduction",{help:"A brief introduction to the categories section."})}});w();function _D(){return{label:dt.text("Label",{help:"The label for the form field",width:.5}),name:dt.path("Name",{help:"The name attribute for the form field",from:"label",width:.5}),placeholder:dt.text("Placeholder",{help:"Placeholder text for the form field"})}}var Sde=Ct.type("Text field",{fields:_D()}),Cde=Ct.type("Email field",{fields:_D()}),kde=Ct.type("Textarea",{fields:_D()}),_2=Ct.document("Form",{fields:{description:dt.richText("Description",{help:"A description of the form, displayed above the form fields."}),formFields:dt.list("Fields",{schema:{TextField:Sde,EmailField:Cde,Textarea:kde}}),submitText:dt.text("Submit Text",{help:"The text for the submit button.",initialValue:"Send Message"})}});w();var OD=Ct.document("Homepage",{fields:{path:dt.path("Path",{hidden:!0}),featured:dt.entry.multiple("Featured posts",{})}});w();var BD=Ct.document("Page",{fields:{intro:dt.text("Introduction",{help:"A brief introduction to the page",multiline:!0}),content:dt.richText("Content",{help:"The main content of the page"})}});var VV=H3({schema:ND,workspaces:{main:Ct.workspace("Example",{source:"content",mediaDir:"public",roots:{pages:Ct.root("Vetra",{contains:[BD,_2],children:{index:Ct.page({type:OD,fields:{title:"Home"}}),blog:Ct.page({type:FD,fields:{title:"Blog"}}),authors:Ct.page({type:ID,fields:{title:"Authors"}}),categories:Ct.page({type:MD,fields:{title:"Categories"}}),contact:Ct.page({type:_2,fields:{title:"Contact Us"}})}}),media:Ct.media()}})},baseUrl:{development:"http://localhost:3000",production:C.env.VERCEL_URL??"https://example.com"},preview:!0,handlerUrl:"/api/cms",dashboardFile:"admin.html"});w();w();var HV=A($(),1),xc=A(P(),1),Ade={"root-input":"alinea-CheckField-input",rootInput:"alinea-CheckField-input","root-checkmark":"alinea-CheckField-checkmark",rootCheckmark:"alinea-CheckField-checkmark","is-disabled":"alinea-CheckField-is-disabled",isDisabled:"alinea-CheckField-is-disabled","root-checkmark-icon":"alinea-CheckField-checkmark-icon",rootCheckmarkIcon:"alinea-CheckField-checkmark-icon","root-label":"alinea-CheckField-label",rootLabel:"alinea-CheckField-label"},O2=j(Ade);function jV({field:e}){let{value:t,mutator:r,label:n,options:i,error:o}=Pt(e),{description:a,readOnly:s}=i,[l,u]=(0,HV.useState)(!1);return(0,xc.jsx)(Ke,{asLabel:!0,...i,error:o,label:a?n:void 0,focused:l,icon:aa,children:(0,xc.jsxs)(q,{center:!0,gap:10,style:{position:"relative",display:"inline-flex"},children:[(0,xc.jsx)("input",{className:O2.root.input(),type:"checkbox",checked:!!t,onChange:c=>{s||r(c.currentTarget.checked)},onFocus:()=>u(!0),onBlur:()=>u(!1),readOnly:s}),(0,xc.jsx)("span",{className:O2.root.checkmark({disabled:s}),children:t&&(0,xc.jsx)(ee,{size:20,icon:Ma,className:O2.root.checkmark.icon()})}),(0,xc.jsx)(Ze,{label:a??n,className:O2.root.label({disabled:s})})]})})}w();w();var PD=A(P(),1);function $V(e){return(0,PD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,PD.jsx)("path",{fill:"currentColor",d:"M8.7 15.9L4.8 12l3.9-3.9a.984.984 0 0 0 0-1.4a.984.984 0 0 0-1.4 0l-4.59 4.59a.996.996 0 0 0 0 1.41l4.59 4.6c.39.39 1.01.39 1.4 0a.984.984 0 0 0 0-1.4zm6.6 0l3.9-3.9l-3.9-3.9a.984.984 0 0 1 0-1.4a.984.984 0 0 1 1.4 0l4.59 4.59c.39.39.39 1.02 0 1.41l-4.59 4.6a.984.984 0 0 1-1.4 0a.984.984 0 0 1 0-1.4z"})})}w();var Wg=A(P(),1),Tde={root:"alinea-TextareaAutosize","root-textarea":"alinea-TextareaAutosize-textarea",rootTextarea:"alinea-TextareaAutosize-textarea","root-shadow":"alinea-TextareaAutosize-shadow",rootShadow:"alinea-TextareaAutosize-shadow"},LD=j(Tde);function Cp(e){return(0,Wg.jsxs)("div",{className:LD.root(),children:[(0,Wg.jsx)("textarea",{...e,className:LD.root.textarea.mergeProps(e)(),rows:1}),(0,Wg.jsx)("div",{"aria-hidden":"true",className:LD.root.shadow.mergeProps(e)(),children:`${e.value||e.placeholder} `})]})}var UV=A($(),1),B2=A(P(),1),Dde={"root-input":"alinea-CodeField-input",rootInput:"alinea-CodeField-input"},Ide=j(Dde);function WV({field:e}){let{value:t,mutator:r,label:n,options:i,error:o}=Pt(e),[a,s]=(0,UV.useState)(!1),l=i.inline?String(n):"";return(0,B2.jsx)(Ke,{asLabel:!0,...i,error:o,focused:a,icon:$V,empty:t==="",children:(0,B2.jsx)(q,{center:!0,gap:8,children:(0,B2.jsx)(Cp,{className:Ide.root.input(),type:"text",value:t||"",onChange:c=>r(c.currentTarget.value),onFocus:()=>s(!0),onBlur:()=>s(!1),placeholder:l,spellCheck:"false",readOnly:i.readOnly})})})}w();w();var zD=A(P(),1);function N2(e){return(0,zD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,zD.jsx)("path",{fill:"currentColor",d:"M19 4h-1V3c0-.55-.45-1-1-1s-1 .45-1 1v1H8V3c0-.55-.45-1-1-1s-1 .45-1 1v1H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1V9h14v10zM7 11h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2z"})})}var VD=A(P(),1),Fde={"root-input":"alinea-DateField-input",rootInput:"alinea-DateField-input"},Rde=j(Fde);function qV({field:e}){let{options:t,value:r,mutator:n,error:i}=Pt(e);return(0,VD.jsx)(Ke,{asLabel:!0,...t,error:i,icon:N2,children:(0,VD.jsx)("input",{className:Rde.root.input(),type:"date",value:r??"",onChange:o=>n(o.currentTarget.value),readOnly:t.readOnly})})}w();function KV(){return null}w();var kp=A($(),1),P2=A(P(),1),Mde={"root-input":"alinea-JsonField-input",rootInput:"alinea-JsonField-input","is-valid":"alinea-JsonField-is-valid",isValid:"alinea-JsonField-is-valid"},_de=j(Mde);function YV({field:e}){let{options:t,value:r,mutator:n,label:i,error:o}=Pt(e),[a,s]=(0,kp.useState)(JSON.stringify(r,null,2)),[l,u]=(0,kp.useState)(!0),[c,d]=(0,kp.useState)(!1),{inline:f,autoFocus:h}=t,p=f?String(i):"",m=r==="";return(0,kp.useEffect)(()=>{try{let v=JSON.parse(a);n(v),u(!0)}catch{u(!a)}},[a]),(0,P2.jsx)(Ke,{asLabel:!0,...t,error:o,focused:c,icon:aa,empty:m,children:(0,P2.jsx)(q,{center:!0,gap:8,children:(0,P2.jsx)(Cp,{className:_de.root.input({valid:l}),type:"text",value:a||"",onChange:v=>s(v.currentTarget.value),onFocus:()=>d(!0),onKeyDown:v=>{if(v.key==="Tab"){let g=v.target,y=g.selectionStart,b=g.selectionEnd,x=g.value;b!==x.length&&(v.preventDefault(),g.value=`${x.substring(0,y)}  ${x.substring(b)}`,g.selectionStart=g.selectionEnd=y+2)}},onBlur:()=>{d(!1),l&&s(JSON.stringify(r,null,2))},placeholder:p,autoFocus:h,readOnly:t.readOnly})})})}w();w();var ni=A($(),1),ie=A($(),1),sH=A(pi(),1),Gd=A($(),1),Or=A($(),1);function Ode(...e){return(0,ni.useMemo)(()=>t=>{e.forEach(r=>r(t))},e)}var YD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tp=YD?ni.useLayoutEffect:ni.useEffect;function Bde(){let e=(0,ni.useRef)(null),t=(0,ni.useCallback)((n,i)=>{e.current=setInterval(n,i)},[]),r=(0,ni.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Dp(e,t){let r=(0,ni.useRef)();return(0,ni.useMemo)(()=>{let n=e(r.current);return r.current=n,n},[...t])}function GD(){let e=(0,ni.useRef)(null),t=(0,ni.useCallback)(r=>{e.current=r},[]);return[e,t]}var HD={};function JD(e,t){return(0,ni.useMemo)(()=>{if(t)return t;let r=HD[e]==null?0:HD[e]+1;return HD[e]=r,`${e}-${r}`},[e,t])}function oH(e){return(t,...r)=>r.reduce((n,i)=>{let o=Object.entries(i);for(let[a,s]of o){let l=n[a];l!=null&&(n[a]=l+e*s)}return n},{...t})}var Kg=oH(1),aH=oH(-1),Ja=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return`translate3d(${t?Math.round(t):0}px, ${r?Math.round(r):0}px, 0)`}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return`scaleX(${t}) scaleY(${r})`}},Transform:{toString(e){if(e)return[Ja.Translate.toString(e),Ja.Scale.toString(e)].join(" ")}},Transition:{toString({property:e,duration:t,easing:r}){return`${e} ${t}ms ${r}`}}}),Nde={display:"none"};function Pde(e){let{id:t,value:r}=e;return Gd.default.createElement("div",{id:t,style:Nde},r)}function Lde(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e,i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Gd.default.createElement("div",{id:t,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function zde(){let[e,t]=(0,Gd.useState)("");return{announce:(0,Gd.useCallback)(n=>{n!=null&&t(n)},[]),announcement:e}}var Vde={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Hde={onDragStart(e){return`Picked up draggable item ${e}.`},onDragOver(e,t){return t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`},onDragEnd(e,t){return t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`},onDragCancel(e){return`Dragging was cancelled. Draggable item ${e} was dropped.`}},Wt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Wt||(Wt={}));var jde=e=>uH(e,(t,r)=>t>r),lH=e=>uH(e,(t,r)=>t<r);function uH(e,t){if(e.length===0)return-1;let r=e[0],n=0;for(var i=1;i<e.length;i++)t(e[i],r)&&(n=i,r=e[i]);return n}function jD(...e){}function $de(e,t){let{[e]:r,...n}=t;return n}var W2=(0,ie.createContext)({activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,activeNodeClientRect:null,activators:[],ariaDescribedById:{draggable:""},containerNodeRect:null,dispatch:jD,draggableNodes:{},droppableRects:new Map,droppableContainers:{},over:null,overlayNode:{nodeRef:{current:null},rect:null,setRef:jD},scrollableAncestors:[],scrollableAncestorRects:[],recomputeLayouts:jD,windowRect:null,willRecomputeLayouts:!1}),Ec=Object.freeze({x:0,y:0});function cH(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ude(e){var t;return((t=window)==null?void 0:t.TouchEvent)&&e instanceof TouchEvent}function Wde(e){var t;return((t=window)==null?void 0:t.MouseEvent)&&e instanceof MouseEvent||e.type.includes("mouse")}function H2(e){if(Ude(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return Wde(e)?{x:e.clientX,y:e.clientY}:{x:0,y:0}}function qde(e,t){if(e instanceof KeyboardEvent)return"0 0";let r=H2(e),n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return`${n.x}% ${n.y}%`}function GV(e,t=e.offsetLeft,r=e.offsetTop){return{x:t+e.width*.5,y:r+e.height*.5}}var q2=(e,t)=>{let r=GV(t,t.left,t.top),n=e.map(([o,a])=>cH(GV(a),r)),i=lH(n);return e[i]?e[i][0]:null};function Kde(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function Yde(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ec}function Gde(e){return function(r,...n){return n.reduce((i,o)=>({...i,top:i.top+e*o.y,bottom:i.bottom+e*o.y,left:i.left+e*o.x,right:i.right+e*o.x,offsetLeft:i.offsetLeft+e*o.x,offsetTop:i.offsetTop+e*o.y}),{...r})}}var JV=Gde(1);function Jde(e){let t=window.getComputedStyle(e),r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].find(i=>{let o=t[i];return typeof o=="string"?r.test(o):!1})!=null}function QD(e){let t=[];function r(n){return n?n instanceof Document&&n.scrollingElement!=null?(t.push(n.scrollingElement),t):!(n instanceof HTMLElement)||n instanceof SVGElement?t:(Jde(n)&&t.push(n),r(n.parentNode)):t}return e?r(e.parentNode):t}function $D(e){return YD?e===document.scrollingElement||e instanceof Document?window:e instanceof HTMLElement?e:null:null}function UD(e){return e instanceof Window?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop}}var Ap;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ap||(Ap={}));function dH(e){let t={x:0,y:0},r={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight},n=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:n,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:t}}function Qde(e){return!YD||!e?!1:e===document.scrollingElement}var Xde={x:.2,y:.2};function Zde(e,t,{top:r,left:n,right:i,bottom:o},a=10,s=Xde){let{clientHeight:l,clientWidth:u}=e,c=Qde(e)?{top:0,left:0,right:u,bottom:l,width:u,height:l}:t,{isTop:d,isBottom:f,isLeft:h,isRight:p}=dH(e),m={x:0,y:0},v={x:0,y:0},g={height:c.height*s.y,width:c.width*s.x};return!d&&r<=c.top+g.height?(m.y=Ap.Backward,v.y=a*Math.abs((c.top+g.height-r)/g.height)):!f&&o>=c.bottom-g.height&&(m.y=Ap.Forward,v.y=a*Math.abs((c.bottom-g.height-o)/g.height)),!p&&i>=c.right-g.width?(m.x=Ap.Forward,v.x=a*Math.abs((c.right-g.width-i)/g.width)):!h&&n<=c.left+g.width&&(m.x=Ap.Backward,v.x=a*Math.abs((c.left+g.width-n)/g.width)),{direction:m,speed:v}}function efe(e){if(e===document.scrollingElement){let{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}let{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function fH(e){return e.reduce((t,r)=>Kg(t,UD(r)),Ec)}function hH(e,t,r=Ec){if(!e||!(e instanceof HTMLElement))return r;let n={x:r.x+e.offsetLeft,y:r.y+e.offsetTop};return e.offsetParent===t?n:hH(e.offsetParent,t,n)}function XD(e){let{offsetWidth:t,offsetHeight:r}=e,{x:n,y:i}=hH(e,null);return{width:t,height:r,offsetTop:i,offsetLeft:n}}function K2(e){if(e instanceof Window){let u=window.innerWidth,c=window.innerHeight;return{top:0,left:0,right:u,bottom:c,width:u,height:c,offsetTop:0,offsetLeft:0}}let{offsetTop:t,offsetLeft:r}=XD(e),{width:n,height:i,top:o,bottom:a,left:s,right:l}=e.getBoundingClientRect();return{width:n,height:i,top:o,bottom:a,right:l,left:s,offsetTop:t,offsetLeft:r}}function j2(e){let{width:t,height:r,offsetTop:n,offsetLeft:i}=XD(e),o=QD(e),a=fH(o),s=n-a.y,l=i-a.x;return{width:t,height:r,top:s,bottom:s+r,right:l+t,left:l,offsetTop:n,offsetLeft:i}}function QV(e){return"top"in e}function XV(e,t=e.offsetLeft,r=e.offsetTop){return[{x:t,y:r},{x:t+e.width,y:r},{x:t,y:r+e.height},{x:t+e.width,y:r+e.height}]}var tfe=(e,t)=>{let r=XV(t,t.left,t.top),n=e.map(([o,a])=>{let s=XV(a,QV(a)?a.left:void 0,QV(a)?a.top:void 0),l=r.reduce((u,c,d)=>u+cH(s[d],c),0);return Number((l/4).toFixed(4))}),i=lH(n);return e[i]?e[i][0]:null};function rfe(e,t){let r=Math.max(t.top,e.offsetTop),n=Math.max(t.left,e.offsetLeft),i=Math.min(t.left+t.width,e.offsetLeft+e.width),o=Math.min(t.top+t.height,e.offsetTop+e.height),a=i-n,s=o-r;if(n<i&&r<o){let l=t.width*t.height,u=e.width*e.height,c=a*s,d=c/(l+u-c);return Number(d.toFixed(4))}return 0}var nfe=(e,t)=>{let r=e.map(([i,o])=>rfe(o,t)),n=jde(r);return r[n]<=0?null:e[n]?e[n][0]:null};function Ip(e){return e instanceof HTMLElement?e.ownerDocument:document}function ife(e){var t;return(t=Ip(e).defaultView)!=null?t:window}function ofe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:{}}}}function afe(e,t){switch(t.type){case Wt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Wt.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Wt.DragEnd:case Wt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Wt.RegisterDroppable:{let{element:r}=t,{id:n}=r;return{...e,droppable:{...e.droppable,containers:{...e.droppable.containers,[n]:r}}}}case Wt.SetDroppableDisabled:{let{id:r,disabled:n}=t,i=e.droppable.containers[r];return i?{...e,droppable:{...e.droppable,containers:{...e.droppable.containers,[r]:{...i,disabled:n}}}}:e}case Wt.UnregisterDroppable:{let{id:r}=t;return{...e,droppable:{...e.droppable,containers:$de(r,e.droppable.containers)}}}default:return e}}var pH=(0,ie.createContext)({type:null,event:null});function sfe({onDragStart:e,onDragMove:t,onDragOver:r,onDragEnd:n,onDragCancel:i}){let o=(0,ie.useContext)(pH),a=(0,ie.useRef)(o);(0,ie.useEffect)(()=>{if(o!==a.current){let{type:s,event:l}=o;switch(s){case Wt.DragStart:e?.(l);break;case Wt.DragMove:t?.(l);break;case Wt.DragOver:r?.(l);break;case Wt.DragCancel:i?.(l);break;case Wt.DragEnd:n?.(l);break}a.current=o}},[o,e,t,r,n,i])}function lfe({announcements:e=Hde,hiddenTextDescribedById:t,screenReaderInstructions:r}){let{announce:n,announcement:i}=zde(),o=JD("DndLiveRegion"),[a,s]=(0,ie.useState)(!1);return(0,ie.useEffect)(()=>{s(!0)},[]),sfe((0,ie.useMemo)(()=>({onDragStart({active:l}){n(e.onDragStart(l.id))},onDragMove({active:l,over:u}){e.onDragMove&&n(e.onDragMove(l.id,u?.id))},onDragOver({active:l,over:u}){n(e.onDragOver(l.id,u?.id))},onDragEnd({active:l,over:u}){n(e.onDragEnd(l.id,u?.id))},onDragCancel({active:l}){n(e.onDragCancel(l.id))}}),[n,e])),a?(0,sH.createPortal)(ie.default.createElement(ie.default.Fragment,null,ie.default.createElement(Pde,{id:t,value:r.draggable}),ie.default.createElement(Lde,{id:o,announcement:i})),document.body):null}var qg;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(qg||(qg={}));var $2;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})($2||($2={}));function ufe({acceleration:e,activator:t=qg.Pointer,canScroll:r,draggingRect:n,enabled:i,interval:o=5,order:a=$2.TreeOrder,pointerCoordinates:s,scrollableAncestors:l,scrollableAncestorRects:u,threshold:c}){let[d,f]=Bde(),h=(0,ie.useRef)({x:1,y:1}),p=(0,ie.useMemo)(()=>{switch(t){case qg.Pointer:return s?{top:s.y,bottom:s.y,left:s.x,right:s.x}:null;case qg.DraggableRect:return n}return null},[t,n,s]),m=(0,ie.useRef)(Ec),v=(0,ie.useRef)(null),g=(0,ie.useCallback)(()=>{let b=v.current;if(!b)return;let x=h.current.x*m.current.x,S=h.current.y*m.current.y;b.scrollBy(x,S)},[]),y=(0,ie.useMemo)(()=>a===$2.TreeOrder?[...l].reverse():l,[a,l]);(0,ie.useEffect)(()=>{if(!i||!l.length||!p){f();return}for(let b of y){if(r?.(b)===!1)continue;let x=l.indexOf(b),S=u[x];if(!S)continue;let{direction:E,speed:I}=Zde(b,S,p,e,c);if(I.x>0||I.y>0){f(),v.current=b,d(g,o),h.current=I,m.current=E;return}}h.current={x:0,y:0},m.current={x:0,y:0},f()},[e,g,r,f,i,o,JSON.stringify(p),d,l,y,u,JSON.stringify(c)])}function cfe(e,t){let r=t!==null?e[t]:void 0,n=r?r.node.current:null;return Dp(i=>{var o;return t===null?null:(o=n??i)!=null?o:null},[n,t])}function dfe(e,t){return(0,ie.useMemo)(()=>e.reduce((r,n)=>{let{sensor:i}=n,o=i.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,n)}));return[...r,...o]},[]),[e,t])}function mH(e){let t=(0,ie.useRef)(e);return Tp(()=>{t.current!==e&&(t.current=e)},[e]),t}var $l;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})($l||($l={}));var WD;(function(e){e.Optimized="optimized"})(WD||(WD={}));var ZV=new Map;function ffe(e,{dragging:t,dependencies:r,config:n}){let[i,o]=(0,ie.useState)(!1),{frequency:a,strategy:s}=pfe(n),l=(0,ie.useRef)(e),u=(0,ie.useCallback)(()=>o(!0),[]),c=(0,ie.useRef)(null),d=h(),f=Dp(p=>{if(d&&!t)return ZV;if(!p||p===ZV||l.current!==e||i){for(let m of Object.values(e))m&&(m.rect.current=m.node.current?XD(m.node.current):null);return hfe(e)}return p},[e,t,d,i]);return(0,ie.useEffect)(()=>{l.current=e},[e]),(0,ie.useEffect)(()=>{i&&o(!1)},[i]),(0,ie.useEffect)(function(){d||requestAnimationFrame(u)},[t,d]),(0,ie.useEffect)(function(){d||typeof a!="number"||c.current!==null||(c.current=setTimeout(()=>{u(),c.current=null},a))},[a,d,u,...r]),{layoutRectMap:f,recomputeLayouts:u,willRecomputeLayouts:i};function h(){switch(s){case $l.Always:return!1;case $l.BeforeDragging:return t;default:return!t}}}function hfe(e){let t=new Map;if(e)for(let r of Object.values(e)){if(!r)continue;let{id:n,rect:i,disabled:o}=r;o||i.current==null||t.set(n,i.current)}return t}var eH={strategy:$l.WhileDragging,frequency:WD.Optimized};function pfe(e){return e?{...eH,...e}:eH}function mfe(e){let[t,r]=(0,ie.useState)(null),n=(0,ie.useRef)(e),i=(0,ie.useCallback)(o=>{let a=$D(o.target);a&&r(s=>s?(s.set(a,UD(a)),new Map(s)):null)},[]);return(0,ie.useEffect)(()=>{let o=n.current;if(e!==o){a(o);let s=e.map(l=>{let u=$D(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,UD(u)]):null}).filter(l=>l!=null);r(s.length?new Map(s):null),n.current=e}return()=>{a(e),a(o)};function a(s){s.forEach(l=>{let u=$D(l);u?.removeEventListener("scroll",i)})}},[i,e]),(0,ie.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((o,a)=>Kg(o,a),Ec):fH(e):Ec,[e,t])}var gfe=[];function vfe(e){let t=(0,ie.useRef)(e),r=Dp(n=>e?n&&e&&t.current&&e.parentNode===t.current.parentNode?n:QD(e):gfe,[e]);return(0,ie.useEffect)(()=>{t.current=e},[e]),r}function yfe(e,t){return(0,ie.useMemo)(()=>e.reduce((r,{eventName:n,handler:i})=>(r[n]=o=>{i(o,t)},r),{}),[e,t])}var L2=gH(K2),wfe=xfe(K2),bfe=gH(j2);function gH(e){return function(r,n){let i=(0,ie.useRef)(r);return Dp(o=>r?n||!o&&r||r!==i.current?r instanceof HTMLElement&&r.parentNode==null?null:e(r):o??null:null,[r,n])}}function xfe(e){let t=[];return function(n,i){let o=(0,ie.useRef)(n);return Dp(a=>n.length?i||!a&&n.length||n!==o.current?n.map(s=>e(s)):a??t:t,[n,i])}}function Fp(e,t){return(0,ie.useMemo)(()=>({sensor:e,options:t??{}}),[e,t])}function Y2(...e){return(0,ie.useMemo)(()=>[...e].filter(t=>t!=null),[...e])}var qD=class{constructor(e){this.target=e,this.listeners=[]}add(e,t,r){this.target.addEventListener(e,t,r),this.listeners.push({eventName:e,handler:t})}removeAll(){this.listeners.forEach(({eventName:e,handler:t})=>this.target.removeEventListener(e,t))}};function Efe(e){return e instanceof EventTarget?e:Ip(e)}function tH(e,t){let r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var ht;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(ht||(ht={}));var vH={start:[ht.Space,ht.Enter],cancel:[ht.Esc],end:[ht.Space,ht.Enter]},Sfe=(e,{currentCoordinates:t})=>{switch(e.code){case ht.Right:return{...t,x:t.x+25};case ht.Left:return{...t,x:t.x-25};case ht.Down:return{...t,y:t.y+25};case ht.Up:return{...t,y:t.y-25}}},Rp=class{constructor(e){this.props=e,this.autoScrollEnabled=!1,this.coordinates=Ec;let{event:{target:t}}=e;this.props=e,this.listeners=new qD(Ip(t)),this.windowListeners=new qD(ife(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),setTimeout(()=>{this.listeners.add("keydown",this.handleKeyDown),this.windowListeners.add("resize",this.handleCancel)})}handleStart(){let{activeNode:e,onStart:t}=this.props;if(!e.node.current)throw new Error("Active draggable node is undefined");let r=K2(e.node.current),n={x:r.left,y:r.top};this.coordinates=n,t(n)}handleKeyDown(e){if(e instanceof KeyboardEvent){let{coordinates:t}=this,{active:r,context:n,options:i}=this.props,{keyboardCodes:o=vH,coordinateGetter:a=Sfe,scrollBehavior:s="smooth"}=i,{code:l}=e;if(o.end.includes(l)){this.handleEnd(e);return}if(o.cancel.includes(l)){this.handleCancel(e);return}let u=a(e,{active:r,context:n.current,currentCoordinates:t});if(u){let c={x:0,y:0},{scrollableAncestors:d}=n.current;for(let f of d){let h=e.code,p=aH(u,t),{isTop:m,isRight:v,isLeft:g,isBottom:y,maxScroll:b,minScroll:x}=dH(f),S=efe(f),E={x:Math.min(h===ht.Right?S.right-S.width/2:S.right,Math.max(h===ht.Right?S.left:S.left+S.width/2,u.x)),y:Math.min(h===ht.Down?S.bottom-S.height/2:S.bottom,Math.max(h===ht.Down?S.top:S.top+S.height/2,u.y))},I=h===ht.Right&&!v||h===ht.Left&&!g,k=h===ht.Down&&!y||h===ht.Up&&!m;if(I&&E.x!==u.x){if(h===ht.Right&&f.scrollLeft+p.x<=b.x||h===ht.Left&&f.scrollLeft+p.x>=x.x){f.scrollBy({left:p.x,behavior:s});return}c.x=h===ht.Right?f.scrollLeft-b.x:f.scrollLeft-x.x,f.scrollBy({left:-c.x,behavior:s});break}else if(k&&E.y!==u.y){if(h===ht.Down&&f.scrollTop+p.y<=b.y||h===ht.Up&&f.scrollTop+p.y>=x.y){f.scrollBy({top:p.y,behavior:s});return}c.y=h===ht.Down?f.scrollTop-b.y:f.scrollTop-x.y,f.scrollBy({top:-c.y,behavior:s});break}}this.handleMove(e,Kg(u,c))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t),this.coordinates=t}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};Rp.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=vH,onActivation:r})=>{let{code:n}=e.nativeEvent;return t.start.includes(n)?(e.preventDefault(),r?.({event:e.nativeEvent}),!0):!1}}];function rH(e){return!!(e&&"distance"in e)}function nH(e){return!!(e&&"delay"in e)}var U2;(function(e){e.Keydown="keydown"})(U2||(U2={}));var ZD=class{constructor(e,t,r=Efe(e.event.target)){this.props=e,this.events=t,this.autoScrollEnabled=!0,this.activated=!1,this.timeoutId=null;let{event:n}=e;this.props=e,this.events=t,this.ownerDocument=Ip(n.target),this.listeners=new qD(r),this.initialCoordinates=H2(n),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,!1),this.listeners.add(e.end.name,this.handleEnd),this.ownerDocument.addEventListener(U2.Keydown,this.handleKeydown),t){if(rH(t))return;if(nH(t)){this.timeoutId=setTimeout(this.handleStart,t.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.ownerDocument.removeEventListener(U2.Keydown,this.handleKeydown),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,t(e))}handleMove(e){let{activated:t,initialCoordinates:r,props:n}=this,{onMove:i,options:{activationConstraint:o}}=n;if(!r)return;let a=H2(e),s=aH(r,a);if(!t&&o){if(nH(o))return tH(s,o.tolerance)?this.handleCancel():void 0;if(rH(o))return tH(s,o.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),i(a)}handleEnd(){let{onEnd:e}=this.props;this.detach(),e()}handleCancel(){let{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===ht.Esc&&this.handleCancel()}},Cfe={move:{name:"pointermove"},end:{name:"pointerup"}},Mp=class extends ZD{constructor(e){let{event:t}=e,r=Ip(t.target);super(e,Cfe,r)}};Mp.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!e.isPrimary||e.button!==0?!1:(t?.({event:e}),!0)}];var kfe={move:{name:"mousemove"},end:{name:"mouseup"}},KD;(function(e){e[e.RightClick=2]="RightClick"})(KD||(KD={}));var Afe=class extends ZD{constructor(e){super(e,kfe,Ip(e.event.target))}};Afe.activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button===KD.RightClick?!1:(t?.({event:e}),!0)}];var Tfe={move:{name:"touchmove"},end:{name:"touchend"}},Dfe=class extends ZD{constructor(e){super(e,Tfe)}};Dfe.activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{let{touches:r}=e;return r.length>1?!1:(t?.({event:e}),!0)}}];function yH(e,{transform:t,...r}){return e?.length?e.reduce((n,i)=>i({transform:n,...r}),t):t}var Ife=[{sensor:Mp,options:{}},{sensor:Rp,options:{}}],Ffe={current:{}},e4=(0,ie.createContext)({...Ec,scaleX:1,scaleY:1}),G2=(0,ie.memo)(function({id:t,autoScroll:r=!0,announcements:n,children:i,sensors:o=Ife,collisionDetection:a=nfe,layoutMeasuring:s,modifiers:l,screenReaderInstructions:u=Vde,...c}){var d,f,h;let p=(0,ie.useReducer)(afe,void 0,ofe),[m,v]=p,[g,y]=(0,ie.useState)(()=>({type:null,event:null})),{draggable:{active:b,nodes:x,translate:S},droppable:{containers:E}}=m,I=b?x[b]:null,k=(0,ie.useRef)({initial:null,translated:null}),D=(0,ie.useMemo)(()=>{var Wr;return b!=null?{id:b,data:(Wr=I?.data)!=null?Wr:Ffe,rect:k}:null},[b,I]),F=(0,ie.useRef)(null),[T,R]=(0,ie.useState)(null),[_,M]=(0,ie.useState)(null),L=(0,ie.useRef)(c),V=JD("DndDescribedBy",t),{layoutRectMap:U,recomputeLayouts:N,willRecomputeLayouts:H}=ffe(E,{dragging:b!=null,dependencies:[S.x,S.y],config:s}),O=cfe(x,b),J=_?H2(_):null,B=bfe(O),z=L2(O),Y=(0,ie.useRef)(null),K=Y.current,te=Yde(B,K),se=(0,ie.useRef)({active:null,activeNode:O,collisionRect:null,droppableRects:U,draggableNodes:x,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null,translatedRect:null}),de=Rfe((d=(f=se.current.over)==null?void 0:f.id)!=null?d:null,E),Se=L2(O?O.ownerDocument.defaultView:null),be=L2(O?O.parentElement:null),Ce=vfe(b?de??O:null),pe=wfe(Ce),[ve,Ie]=GD(),lr=L2(b?ve.current:null,H),re=lr??z,ce=yH(l,{transform:{x:S.x-te.x,y:S.y-te.y,scaleX:1,scaleY:1},active:D,over:se.current.over,activeNodeRect:z,draggingNodeRect:re,containerNodeRect:be,overlayNodeRect:lr,scrollableAncestors:Ce,scrollableAncestorRects:pe,windowRect:Se}),Te=J?Kg(J,S):null,Xe=mfe(Ce),At=Kg(ce,Xe),Tt=B?JV(B,ce):null,mr=Tt?JV(Tt,Xe):null,kr=D&&mr?a(Array.from(U.entries()),mr):null,Ar=Mfe(kr,E),En=(0,ie.useMemo)(()=>Ar&&Ar.rect.current?{id:Ar.id,rect:Ar.rect.current,data:Ar.data,disabled:Ar.disabled}:null,[Ar]),Zs=Kde(ce,(h=Ar?.rect.current)!=null?h:null,B),el=(0,ie.useCallback)((Wr,{sensor:an,options:W})=>{if(!F.current)return;let we=x[F.current];if(!we)return;let Oe=new an({active:F.current,activeNode:we,event:Wr.nativeEvent,options:W,context:se,onStart(Ue){let Nr=F.current;if(!Nr)return;let sn=x[Nr];if(!sn)return;let{onDragStart:ha}=L.current,tu={active:{id:Nr,data:sn.data,rect:k}};v({type:Wt.DragStart,initialCoordinates:Ue,active:Nr}),y({type:Wt.DragStart,event:tu}),ha?.(tu)},onMove(Ue){v({type:Wt.DragMove,coordinates:Ue})},onEnd:xt(Wt.DragEnd),onCancel:xt(Wt.DragCancel)});R(Oe),M(Wr.nativeEvent);function xt(Ue){return async function(){let{active:sn,over:ha,scrollAdjustedTranslate:tu}=se.current,so=null;if(sn&&tu){let{cancelDrop:ru}=L.current;so={active:sn,delta:tu,over:ha},Ue===Wt.DragEnd&&typeof ru=="function"&&await Promise.resolve(ru(so))&&(Ue=Wt.DragCancel)}if(F.current=null,v({type:Ue}),R(null),M(null),so){let{onDragCancel:ru,onDragEnd:zc}=L.current,tl=Ue===Wt.DragEnd?zc:ru;y({type:Ue,event:so}),tl?.(so)}}}},[v,x]),eu=(0,ie.useCallback)((Wr,an)=>(W,we)=>{let Oe=W.nativeEvent;F.current!==null||Oe.dndKit||Oe.defaultPrevented||Wr(W,an.options)===!0&&(Oe.dndKit={capturedBy:an.sensor},F.current=we,el(W,an))},[el]),pf=dfe(o,eu);Tp(()=>{L.current=c},Object.values(c)),(0,ie.useEffect)(()=>{D||(Y.current=null),D&&B&&!Y.current&&(Y.current=B)},[B,D]),(0,ie.useEffect)(()=>{let{onDragMove:Wr}=L.current,{active:an,over:W}=se.current;if(!an)return;let we={active:an,delta:{x:At.x,y:At.y},over:W};y({type:Wt.DragMove,event:we}),Wr?.(we)},[At.x,At.y]),(0,ie.useEffect)(()=>{let{active:Wr,scrollAdjustedTranslate:an}=se.current;if(!Wr||!F.current||!an)return;let{onDragOver:W}=L.current,we={active:Wr,delta:{x:an.x,y:an.y},over:En};y({type:Wt.DragOver,event:we}),W?.(we)},[En?.id]),Tp(()=>{se.current={active:D,activeNode:O,collisionRect:mr,droppableRects:U,draggableNodes:x,draggingNodeRect:re,droppableContainers:E,over:En,scrollableAncestors:Ce,scrollAdjustedTranslate:At,translatedRect:Tt},k.current={initial:re,translated:Tt}},[D,O,mr,x,re,U,E,En,Ce,At,Tt]),ufe({...Wv(),draggingRect:Tt,pointerCoordinates:Te,scrollableAncestors:Ce,scrollableAncestorRects:pe});let am=(0,ie.useMemo)(()=>({active:D,activeNode:O,activeNodeRect:B,activeNodeClientRect:z,activatorEvent:_,activators:pf,ariaDescribedById:{draggable:V},overlayNode:{nodeRef:ve,rect:lr,setRef:Ie},containerNodeRect:be,dispatch:v,draggableNodes:x,droppableContainers:E,droppableRects:U,over:En,recomputeLayouts:N,scrollableAncestors:Ce,scrollableAncestorRects:pe,willRecomputeLayouts:H,windowRect:Se}),[D,O,z,B,_,pf,be,lr,ve,v,x,V,E,U,En,N,Ce,pe,Ie,H,Se]);return ie.default.createElement(pH.Provider,{value:g},ie.default.createElement(W2.Provider,{value:am},ie.default.createElement(e4.Provider,{value:Zs},i)),ie.default.createElement(lfe,{announcements:n,hiddenTextDescribedById:V,screenReaderInstructions:u}));function Wv(){let Wr=T?.autoScrollEnabled===!1,an=typeof r=="object"?r.enabled===!1:r===!1,W=!Wr&&!an;return typeof r=="object"?{...r,enabled:W}:{enabled:W}}});function Rfe(e,t){var r,n;return e&&(r=(n=t[e])==null?void 0:n.node.current)!=null?r:null}function Mfe(e,t){var r;return e&&(r=t[e])!=null?r:null}var _fe=(0,ie.createContext)(null),iH="button";function Ofe({id:e,data:t,disabled:r=!1,attributes:n}){let{active:i,activeNodeRect:o,activatorEvent:a,ariaDescribedById:s,draggableNodes:l,droppableRects:u,activators:c,over:d}=(0,ie.useContext)(W2),{role:f=iH,roleDescription:h="draggable",tabIndex:p=0}=n??{},m=i?.id===e,v=(0,ie.useContext)(m?e4:_fe),[g,y]=GD(),b=yfe(c,e),x=mH(t);(0,ie.useEffect)(()=>(l[e]={node:g,data:x},()=>{delete l[e]}),[l,e]);let S=(0,ie.useMemo)(()=>({role:f,tabIndex:p,"aria-pressed":m&&f===iH?!0:void 0,"aria-roledescription":h,"aria-describedby":s.draggable}),[f,p,m,h,s.draggable]);return{active:i,activeNodeRect:o,activatorEvent:a,attributes:S,droppableRects:u,isDragging:m,listeners:r?void 0:b,node:g,over:d,setNodeRef:y,transform:v}}function wH(){return(0,ie.useContext)(W2)}function Bfe({data:e,disabled:t=!1,id:r}){let{active:n,dispatch:i,over:o}=(0,ie.useContext)(W2),a=(0,ie.useRef)(null),[s,l]=GD(),u=mH(e);return Tp(()=>(i({type:Wt.RegisterDroppable,element:{id:r,disabled:t,node:s,rect:a,data:u}}),()=>i({type:Wt.UnregisterDroppable,id:r})),[r]),(0,ie.useEffect)(()=>{i({type:Wt.SetDroppableDisabled,id:r,disabled:t})},[t]),{active:n,rect:a,isOver:o?.id===r,node:s,over:o,setNodeRef:l}}function Nfe(e,t,r){let n=(0,ie.useRef)(t);return Dp(i=>{let o=n.current;if(t!==o){if(t&&o&&(o.left!==t.left||o.top!==t.top)&&!i){let s=r?.getBoundingClientRect();if(s)return{...e,x:s.left-t.left,y:s.top-t.top}}n.current=t}},[t,e,r])}function Pfe({animate:e,adjustScale:t,activeId:r,draggableNodes:n,duration:i,easing:o,dragSourceOpacity:a,node:s,transform:l}){let[u,c]=(0,ie.useState)(!1);return(0,ie.useEffect)(()=>{if(!e||!r||!o||!i){e&&c(!0);return}requestAnimationFrame(()=>{var d;let f=(d=n[r])==null?void 0:d.node.current;if(l&&s&&f&&f.parentNode!==null){let h=s.children.length>1?s:s.children[0];if(h){let p=h.getBoundingClientRect(),m=j2(f),v={x:p.left-m.left,y:p.top-m.top};if(Math.abs(v.x)||Math.abs(v.y)){let g={scaleX:t?m.width*l.scaleX/p.width:1,scaleY:t?m.height*l.scaleY/p.height:1},y=Ja.Transform.toString({x:l.x-v.x,y:l.y-v.y,...g}),b=f.style.opacity;a!=null&&(f.style.opacity=`${a}`);let x=s.animate([{transform:Ja.Transform.toString(l)},{transform:y}],{easing:o,duration:i});x.onfinish=()=>{s.style.display="none",c(!0),f&&a!=null&&(f.style.opacity=b)};return}}}c(!0)})},[e,r,t,n,i,o,a,s,l]),Tp(()=>{u&&c(!1)},[u]),u}var Lfe=e=>e instanceof KeyboardEvent?"transform 250ms ease":void 0,Yg={duration:250,easing:"ease",dragSourceOpacity:0},J2=ie.default.memo(({adjustScale:e=!1,children:t,dropAnimation:r=Yg,style:n,transition:i=Lfe,modifiers:o,wrapperElement:a="div",className:s,zIndex:l=999})=>{var u,c;let{active:d,activeNodeRect:f,activeNodeClientRect:h,containerNodeRect:p,draggableNodes:m,activatorEvent:v,over:g,overlayNode:y,scrollableAncestors:b,scrollableAncestorRects:x,windowRect:S}=wH(),E=(0,ie.useContext)(e4),I=yH(o,{active:d,activeNodeRect:h,draggingNodeRect:y.rect,containerNodeRect:p,over:g,overlayNodeRect:y.rect,scrollableAncestors:b,scrollableAncestorRects:x,transform:E,windowRect:S}),k=Nfe(I,f,y.nodeRef.current),D=d!==null,F=k??I,T=e?F:{...F,scaleX:1,scaleY:1},R=f?{position:"fixed",width:f.width,height:f.height,top:f.top,left:f.left,zIndex:l,transform:Ja.Transform.toString(T),touchAction:"none",transformOrigin:e&&v?qde(v,f):void 0,transition:k?void 0:typeof i=="function"?i(v):i,...n}:void 0,_=D?{style:R,children:t,className:s,transform:T}:void 0,M=(0,ie.useRef)(_),L=_??M.current,{children:V,transform:U,...N}=L??{},H=(0,ie.useRef)((u=d?.id)!=null?u:null),O=Pfe({animate:!!(r&&H.current&&!d),adjustScale:e,activeId:H.current,draggableNodes:m,duration:r?.duration,easing:r?.easing,dragSourceOpacity:r?.dragSourceOpacity,node:y.nodeRef.current,transform:(c=M.current)==null?void 0:c.transform}),J=!!(V&&(t||r&&!O));return(0,ie.useEffect)(()=>{if(d?.id!==H.current){var B;H.current=(B=d?.id)!=null?B:null}d&&M.current!==_&&(M.current=_)},[d,_]),(0,ie.useEffect)(()=>{O&&(M.current=void 0)},[O]),J?ie.default.createElement(a,{...N,ref:y.setRef},V):null});function bH(e,t,r){let n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function zfe(e,t){return e.reduce((r,n,i)=>{let o=t.get(n);return o&&(r[i]=o),r},Array(e.length))}function z2(e){return e!==null&&e>=0}var xH=({layoutRects:e,activeIndex:t,overIndex:r,index:n})=>{let i=bH(e,r,t),o=e[n],a=i[n];return!a||!o?null:{x:a.offsetLeft-o.offsetLeft,y:a.offsetTop-o.offsetTop,scaleX:a.width/o.width,scaleY:a.height/o.height}},V2={scaleX:1,scaleY:1},Q2=({activeIndex:e,activeNodeRect:t,index:r,layoutRects:n,overIndex:i})=>{var o;let a=(o=n[e])!=null?o:t;if(!a)return null;if(r===e){let l=n[i];return l?{x:0,y:e<i?l.offsetTop+l.height-(a.offsetTop+a.height):l.offsetTop-a.offsetTop,...V2}:null}let s=Vfe(n,r,e);return r>e&&r<=i?{x:0,y:-a.height-s,...V2}:r<e&&r>=i?{x:0,y:a.height+s,...V2}:{x:0,y:0,...V2}};function Vfe(e,t,r){let n=e[t],i=e[t-1],o=e[t+1];return n?r<t?i?n.offsetTop-(i.offsetTop+i.height):o?o.offsetTop-(n.offsetTop+n.height):0:o?o.offsetTop-(n.offsetTop+n.height):i?n.offsetTop-(i.offsetTop+i.height):0:0}var EH="Sortable",SH=Or.default.createContext({activeIndex:-1,containerId:EH,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:xH,wasSorting:{current:!1}});function X2({children:e,id:t,items:r,strategy:n=xH}){let{active:i,overlayNode:o,droppableRects:a,over:s,recomputeLayouts:l,willRecomputeLayouts:u}=wH(),c=JD(EH,t),d=o.rect!==null,f=(0,Or.useMemo)(()=>r.map(E=>typeof E=="string"?E:E.id),[r]),h=i?f.indexOf(i.id):-1,p=h!==-1,m=(0,Or.useRef)(p),v=s?f.indexOf(s.id):-1,g=(0,Or.useRef)(f),y=zfe(f,a),b=!Hfe(f,g.current),x=v!==-1&&h===-1||b;Tp(()=>{b&&p&&!u&&l()},[b,p,l,u]),(0,Or.useEffect)(()=>{g.current=f},[f]),(0,Or.useEffect)(()=>{requestAnimationFrame(()=>{m.current=p})},[p]);let S=(0,Or.useMemo)(()=>({activeIndex:h,containerId:c,disableTransforms:x,items:f,overIndex:v,useDragOverlay:d,sortedRects:y,strategy:n,wasSorting:m}),[h,c,x,f,v,y,d,n,m]);return Or.default.createElement(SH.Provider,{value:S},e)}function Hfe(e,t){return e.join()===t.join()}var Gg=({isSorting:e,index:t,newIndex:r,transition:n})=>n?e?!0:r!==t:!1,jfe={duration:200,easing:"ease"},CH="transform",$fe=Ja.Transition.toString({property:CH,duration:0,easing:"linear"}),Ufe={roleDescription:"sortable"};function Wfe({rect:e,disabled:t,index:r,node:n}){let[i,o]=(0,Or.useState)(null),a=(0,Or.useRef)(r);return(0,Or.useEffect)(()=>{if(!t&&r!==a.current&&n.current){let s=e.current;if(s){let l=K2(n.current),u={x:s.offsetLeft-l.offsetLeft,y:s.offsetTop-l.offsetTop,scaleX:s.width/l.width,scaleY:s.height/l.height};(u.x||u.y)&&o(u)}}r!==a.current&&(a.current=r)},[t,r,n,e]),(0,Or.useEffect)(()=>{i&&requestAnimationFrame(()=>{o(null)})},[i]),i}function Z2({animateLayoutChanges:e=Gg,attributes:t,disabled:r,data:n,id:i,strategy:o,transition:a=jfe}){let{items:s,containerId:l,activeIndex:u,disableTransforms:c,sortedRects:d,overIndex:f,useDragOverlay:h,strategy:p,wasSorting:m}=(0,Or.useContext)(SH),v=s.indexOf(i),g=(0,Or.useMemo)(()=>({sortable:{containerId:l,index:v,items:s},...n}),[l,n,v,s]),{rect:y,node:b,setNodeRef:x}=Bfe({id:i,data:g}),{active:S,activeNodeRect:E,activatorEvent:I,attributes:k,setNodeRef:D,listeners:F,isDragging:T,over:R,transform:_}=Ofe({id:i,data:g,attributes:{...Ufe,...t},disabled:r}),M=Ode(x,D),L=!!S,V=L&&m.current&&!c&&z2(u)&&z2(f),U=!h&&T,N=U&&V?_:null,O=V?N??(o??p)({layoutRects:d,activeNodeRect:E,activeIndex:u,overIndex:f,index:v}):null,J=z2(u)&&z2(f)?bH(s,u,f).indexOf(i):v,B=(0,Or.useRef)(J),z=e({active:S,isDragging:T,isSorting:L,id:i,index:v,items:s,newIndex:B.current,transition:a,wasSorting:m.current}),Y=Wfe({disabled:!z,index:v,node:b,rect:y});return(0,Or.useEffect)(()=>{L&&(B.current=J)},[L,J]),{active:S,attributes:k,activatorEvent:I,rect:y,index:v,isSorting:L,isDragging:T,listeners:F,node:b,overIndex:f,over:R,setNodeRef:M,setDroppableNodeRef:x,setDraggableNodeRef:D,transform:Y??O,transition:K()};function K(){return Y?$fe:U||!a?null:L||z?Ja.Transition.toString({...a,property:CH}):null}}var qfe=[ht.Down,ht.Right,ht.Up,ht.Left],eE=(e,{context:{droppableContainers:t,translatedRect:r,scrollableAncestors:n}})=>{if(qfe.includes(e.code)){if(e.preventDefault(),!r)return;let o=[];Object.entries(t).forEach(([s,l])=>{if(l?.disabled)return;let u=l?.node.current;if(!u)return;let c=j2(u);switch(e.code){case ht.Down:r.top+r.height<=c.top&&o.push([s,c]);break;case ht.Up:r.top>=c.top+c.height&&o.push([s,c]);break;case ht.Left:r.left>=c.left+c.width&&o.push([s,c]);break;case ht.Right:r.left+r.width<=c.left&&o.push([s,c]);break}});let a=tfe(o,r);if(a){var i;let s=(i=t[a])==null?void 0:i.node.current;if(s){let u=QD(s).some((h,p)=>n[p]!==h),c=j2(s),d=u?{x:0,y:0}:{x:r.width-c.width,y:r.height-c.height};return{x:c.left-d.x,y:c.top-d.y}}}}};w();var Ti=A(P(),1),Kfe={root:"alinea-Create","is-disabled":"alinea-Create-is-disabled",isDisabled:"alinea-Create-is-disabled",button:"alinea-Create-button","button-add":"alinea-Create-button-add",buttonAdd:"alinea-Create-button-add","is-paste":"alinea-Create-is-paste",isPaste:"alinea-Create-is-paste"},Jg=j(Kfe),Qa;(e=>{function t({disabled:i,...o}){return(0,Ti.jsx)("div",{...o,className:Jg.root.mergeProps(o)({disabled:i})})}e.Root=t;function r({children:i,icon:o,...a}){return(0,Ti.jsx)("a",{...a,...bo(a.href),className:Jg.button.mergeProps(a)(),children:(0,Ti.jsxs)(q,{center:!0,gap:8,children:[(0,Ti.jsx)(Gw,{style:{flexShrink:0}}),o&&(0,Ti.jsx)(o,{}),i&&(0,Ti.jsx)("span",{children:i})]})})}e.Link=r;function n({children:i,icon:o,mod:a,...s}){return(0,Ti.jsx)("button",{type:"button",...s,className:Jg.button.mergeProps(s)(a),children:(0,Ti.jsxs)(q,{center:!0,gap:8,children:[o?(0,Ti.jsx)("div",{className:Jg.button.add(),children:(0,Ti.jsx)(o,{})}):(0,Ti.jsx)("div",{className:Jg.button.add(),children:(0,Ti.jsx)(Gw,{})}),i&&(0,Ti.jsx)("span",{children:i})]})})}e.Button=n})(Qa||(Qa={}));w();var t4=A(P(),1);function Qg(e){return(0,t4.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,t4.jsx)("path",{fill:"currentColor",d:"M19 9H5c-.55 0-1 .45-1 1s.45 1 1 1h14c.55 0 1-.45 1-1s-.45-1-1-1zM5 15h14c.55 0 1-.45 1-1s-.45-1-1-1H5c-.55 0-1 .45-1 1s.45 1 1 1z"})})}var kH=Qg;w();var r4=A(P(),1);function Sc(e){return(0,r4.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,r4.jsx)("path",{fill:"currentColor",d:"M17 7h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c1.65 0 3 1.35 3 3s-1.35 3-3 3h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-9 5c0 .55.45 1 1 1h6c.55 0 1-.45 1-1s-.45-1-1-1H9c-.55 0-1 .45-1 1zm2 3H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h3c.55 0 1-.45 1-1s-.45-1-1-1H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h3c.55 0 1-.45 1-1s-.45-1-1-1z"})})}var _p=A($(),1),Pe=A(P(),1),Yfe={root:"alinea-LinkField","root-inner":"alinea-LinkField-inner",rootInner:"alinea-LinkField-inner",row:"alinea-LinkField-row","is-dragging":"alinea-LinkField-is-dragging",isDragging:"alinea-LinkField-is-dragging","is-overlay":"alinea-LinkField-is-overlay",isOverlay:"alinea-LinkField-is-overlay","row-header":"alinea-LinkField-row-header",rowHeader:"alinea-LinkField-row-header","row-staticHandle":"alinea-LinkField-row-staticHandle",rowStaticHandle:"alinea-LinkField-row-staticHandle",create:"alinea-LinkField-create"},Cc=j(Yfe);function AH({field:e}){let{options:t,value:r,mutator:n,error:i}=Pt(e),{readOnly:o}=t,[a,s]=(0,_p.useState)(),l=a?t.pickers[a]:void 0;function u(d){if(o)return;let f=d[0];!a||!l||!f||f[Fe.type]===a&&(n.replace(f),s(void 0))}let c=l&&l.view;return(0,Pe.jsxs)(Pe.Fragment,{children:[c&&(0,Pe.jsx)(Pa,{name:"picker",children:(0,Pe.jsx)(c,{type:a,options:l.options,selection:[r],onConfirm:u,onCancel:()=>s(void 0)})}),(0,Pe.jsx)(Ke,{...t,error:i,icon:Sc,children:(0,Pe.jsx)("div",{className:Cc.root(),children:(0,Pe.jsx)("div",{className:Cc.root.inner(),children:(0,Pe.jsx)(vt.Root,{children:r&&t.pickers[r[Fe.type]]?(0,Pe.jsx)(n4,{readOnly:o,field:e,rowId:r[Fe.id],fields:t.pickers[r[Fe.type]].fields,picker:t.pickers[r[Fe.type]],reference:r,onRemove:()=>n.replace(void 0),onEdit:()=>s(r[Fe.type])}):(0,Pe.jsx)("div",{className:Cc.create(),children:(0,Pe.jsx)(Qa.Root,{disabled:o,children:ue(t.pickers).map(([d,f])=>(0,Pe.jsx)(Qa.Button,{onClick:()=>{o||s(d)},children:(0,Pe.jsx)(Ze,{label:f.label})},d))})})})})})})]})}var Gfe={strategy:$l.Always};function TH({field:e}){let{options:t,value:r,mutator:n,error:i}=Pt(e),{readOnly:o}=t,[a,s]=(0,_p.useState)(),l=a?t.pickers[a[Fe.type]]:void 0;function u(y){if(!a||!l||!y)return;let b=new Set;for(let x of y){if(x[ye.type]!==a[Fe.type])continue;b.add(x[ye.id]),r.findIndex(E=>E[ye.id]===x[ye.id])>-1?n.replace(x[ye.id],x):n.push(x)}if(l.handlesMultiple)for(let x of r)x[ye.type]===a[Fe.type]&&(b.has(x[ye.id])||n.remove(x[ye.id]));s(void 0)}let c=r.map(y=>y[ye.id]),[d,f]=(0,_p.useState)(null),h=Y2(Fp(Mp),Fp(Rp,{coordinateGetter:eE}));function p(y){let{active:b}=y;f(r.find(x=>x[ye.id]===b.id)||null)}function m(y){let{active:b,over:x}=y;!x||b.id===x.id||(o||n.move(c.indexOf(b.id),c.indexOf(x.id)),f(null))}let v=t.max?r.length<t.max:!0,g=l&&l.view;return(0,Pe.jsxs)(Pe.Fragment,{children:[a&&g&&(0,Pe.jsx)(Pa,{name:"picker",children:(0,Pe.jsx)(g,{type:a[Fe.type],options:l.options,selection:r.filter(y=>y[ye.id]===a[Fe.id]?!0:l.handlesMultiple?y[ye.type]===a[Fe.type]:!1),onConfirm:u,onCancel:()=>s(void 0)})}),(0,Pe.jsx)(G2,{sensors:h,collisionDetection:q2,onDragStart:p,onDragEnd:m,layoutMeasuring:Gfe,children:(0,Pe.jsx)(Ke,{...t,error:i,icon:Sc,children:(0,Pe.jsx)("div",{className:Cc.root(),children:(0,Pe.jsxs)("div",{className:Cc.root.inner(),children:[(0,Pe.jsx)(X2,{items:c,strategy:Q2,children:(0,Pe.jsxs)(vt.Root,{children:[r.map(y=>{if(!t.pickers[y[ye.type]])return null;let b=t.pickers[y[ye.type]],x=b.fields;return(0,Pe.jsx)(Qfe,{rowId:y[ye.id],field:e,fields:x,picker:b,reference:y,onRemove:()=>n.remove(y[ye.id]),onEdit:()=>s(y),isSortable:t.max!==1,readOnly:o,multiple:!0},y[ye.id])}),v&&(0,Pe.jsx)("div",{className:Cc.create(),children:(0,Pe.jsx)(Qa.Root,{disabled:o,children:ue(t.pickers).map(([y,b])=>(0,Pe.jsx)(Qa.Button,{onClick:()=>s({[Fe.type]:y}),children:(0,Pe.jsx)(Ze,{label:b.label})},y))})})]})}),(0,Pe.jsx)(J2,{dropAnimation:{...Yg,dragSourceOpacity:.5},children:d&&t.pickers[d[Fe.type]]?(0,Pe.jsx)(n4,{field:e,rowId:d._id,fields:t.pickers[d[Fe.type]].fields,picker:t.pickers[d[Fe.type]],reference:d,onRemove:()=>n.remove(d._id),onEdit:()=>s(d),isDragOverlay:!0,isSortable:t.max!==1,readOnly:o,multiple:!0}):null})]})})})})]})}function Jfe(e){let{isSorting:t,wasSorting:r}=e;return t||r?Gg(e):!0}function Qfe(e){let{attributes:t,listeners:r,setNodeRef:n,transform:i,transition:o,isDragging:a}=Z2({animateLayoutChanges:Jfe,id:e.reference._id}),s={transform:Ja.Transform.toString(i),transition:o||void 0};return(0,Pe.jsx)(n4,{...e,rootRef:n,style:s,handle:r,...t,isDragging:a})}function n4({field:e,rowId:t,picker:r,fields:n,reference:i,onEdit:o,onRemove:a,handle:s,rootRef:l,isDragging:u,isDragOverlay:c,isSortable:d,readOnly:f,multiple:h,...p}){let m=Xfe(),v=r.viewRow,g=(0,Pe.jsxs)("div",{className:Cc.row({dragging:u,overlay:c}),ref:l,...p,children:[(0,Pe.jsxs)(vt.Header,{children:[(0,Pe.jsx)(vt.Options,{children:d?(0,Pe.jsx)(je,{icon:kH,...s,style:{cursor:s?"grab":"grabbing"}}):(0,Pe.jsx)("div",{className:Cc.row.staticHandle(),children:(0,Pe.jsx)(Sc,{})})}),(0,Pe.jsx)("div",{style:{flexGrow:1,minWidth:0},children:(0,Pe.jsx)(_p.Suspense,{fallback:null,children:(0,Pe.jsx)(v,{reference:i})})}),!f&&(0,Pe.jsxs)(vt.Options,{children:[(0,Pe.jsx)(je,{icon:Ah,onClick:()=>m(i)}),(0,Pe.jsx)(je,{icon:Nd,onClick:o}),(0,Pe.jsx)(je,{icon:Ji,onClick:a})]})]}),n&&(0,Pe.jsx)(vt.Content,{children:(0,Pe.jsx)(jr,{type:n})})]});return n?(0,Pe.jsx)(Na,{field:e,type:n,readOnly:f,rowId:h?t:void 0,children:g}):g}function Xfe(){let e=Bt(),t=Fr(),r=Ls();return n=>{Cr.isUrl(n)?window.open(n[Cr.url],"_blank"):Vt.isEntryReference(n)&&r.first({id:n[Vt.entry],locale:t,select:{id:G.id,workspace:G.workspace,root:G.root,location:Ot.location},status:"preferDraft"}).then(i=>{i&&window.open(i.location??`#${e.entry(i)}`,"_blank")})}}w();w();var i4=A(P(),1);function DH(e){return(0,i4.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,i4.jsx)("path",{fill:"currentColor",d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})})}w();var Xg=A(P(),1);function IH(e){return(0,Xg.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[(0,Xg.jsx)("path",{fill:"currentColor",d:"M5 5h2v3h10V5h2v6h2V5c0-1.1-.9-2-2-2h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v-2H5V5zm7-2c.55 0 1 .45 1 1s-.45 1-1 1s-1-.45-1-1s.45-1 1-1z"}),(0,Xg.jsx)("path",{fill:"currentColor",d:"m18.01 13l-1.42 1.41l1.58 1.58H12v2h6.17l-1.58 1.59l1.42 1.41l3.99-4z"})]})}w();var o4=A(P(),1);function FH(e){return(0,o4.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,o4.jsx)("path",{fill:"currentColor",d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"})})}var a4=A($(),1),$e=A(P(),1),Zfe={root:"alinea-ListField","root-inner":"alinea-ListField-inner",rootInner:"alinea-ListField-inner",row:"alinea-ListField-row","is-dragging":"alinea-ListField-is-dragging",isDragging:"alinea-ListField-is-dragging","is-overlay":"alinea-ListField-is-overlay",isOverlay:"alinea-ListField-is-overlay",insert:"alinea-ListField-insert","is-first":"alinea-ListField-is-first",isFirst:"alinea-ListField-is-first","is-open":"alinea-ListField-is-open",isOpen:"alinea-ListField-is-open","insert-icon":"alinea-ListField-insert-icon",insertIcon:"alinea-ListField-insert-icon",create:"alinea-ListField-create","is-inline":"alinea-ListField-is-inline",isInline:"alinea-ListField-is-inline"},Op=j(Zfe),RH=Qf("@alinea/copypaste",void 0);function ehe(e){let{isSorting:t,wasSorting:r}=e;return t||r?Gg(e):!0}function the(e){let{onCreate:t,onPaste:r}=e,{attributes:n,listeners:i,setNodeRef:o,transform:a,transition:s,isDragging:l}=Z2({animateLayoutChanges:ehe,id:e.row._id}),u={transform:Ja.Transform.toString(a),transition:s||void 0};return(0,$e.jsx)(MH,{...e,rootRef:o,style:u,handle:i,...n,isDragging:l,onCreate:t,onPaste:r})}function MH({row:e,schema:t,onMove:r,onDelete:n,onCopyBlock:i,handle:o,rootRef:a,isDragging:s,isDragOverlay:l,readOnly:u,onCreate:c,onPasteBlock:d,firstRow:f,...h}){let p=t[e[ye.type]],[m,v]=(0,a4.useState)(!1);return p?(0,$e.jsxs)("div",{className:Op.row({dragging:s,overlay:l}),ref:a,...h,children:[!u&&!l&&(0,$e.jsx)(rhe,{open:m,first:!!f,onInsert:()=>v(!m)}),m&&(0,$e.jsx)(_H,{inline:!0,schema:t,onCreate:g=>{c(g),v(!1)},onPaste:g=>{d&&d(g),v(!1)}}),(0,$e.jsxs)(vt.Header,{children:[(0,$e.jsx)(vt.Options,{style:{zIndex:1},children:(0,$e.jsx)(je,{icon:tt(p).icon||Qg,...o,style:{cursor:o?"grab":"grabbing"}})}),(0,$e.jsx)(vt.Title,{children:(0,$e.jsx)(Ze,{label:me.label(p)})}),(0,$e.jsxs)(vt.Options,{children:[i!==void 0&&(0,$e.jsx)(je,{icon:DH,onClick:()=>{i()}}),!u&&(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(je,{icon:Nl,onClick:()=>r?.(-1)}),(0,$e.jsx)(je,{icon:Wa,onClick:()=>r?.(1)}),(0,$e.jsx)(je,{icon:Ji,onClick:n})]})]})]}),(0,$e.jsx)(vt.Content,{children:(0,$e.jsx)(jr,{type:p})})]}):null}function _H({schema:e,readOnly:t,inline:r,onCreate:n,onPaste:i}){let[o]=mo(RH),a=o&&ue(e).some(([s])=>s===o._type);return(0,$e.jsx)("div",{className:Op.create({inline:r}),children:(0,$e.jsxs)(Qa.Root,{disabled:t,children:[ue(e).map(([s,l])=>(0,$e.jsx)(Qa.Button,{icon:tt(l).icon,onClick:()=>n(s),children:(0,$e.jsx)(Ze,{label:me.label(l)})},s)),a&&(0,$e.jsx)(Qa.Button,{icon:IH,onClick:()=>i(o),mod:"paste",children:(0,$e.jsx)(Ze,{label:"Paste block"})})]})})}function rhe({first:e,open:t,onInsert:r}){return(0,$e.jsx)($e.Fragment,{children:(0,$e.jsx)("div",{className:Op.insert({open:t,first:e}),children:(0,$e.jsx)("button",{className:Op.insert.icon(),onClick:r,children:(0,$e.jsx)(ee,{icon:t?Nl:FH})})})})}var nhe={strategy:$l.Always};function OH({field:e}){let{options:t,value:r,mutator:n,error:i}=Pt(e),{schema:o,readOnly:a}=t,s=r,l=s.map(m=>m._id),[,u]=mo(RH),[c,d]=(0,a4.useState)(null),f=Y2(Fp(Mp),Fp(Rp,{coordinateGetter:eE}));function h(m){let{active:v}=m;d(s.find(g=>g._id===v.id)||null)}function p(m){let{active:v,over:g}=m;!g||v.id===g.id||(a||n.move(l.indexOf(v.id),l.indexOf(g.id)),d(null))}return(0,$e.jsx)(G2,{sensors:f,collisionDetection:q2,onDragStart:h,onDragEnd:p,layoutMeasuring:nhe,children:(0,$e.jsx)(Ke,{...t,error:i,icon:dp,children:(0,$e.jsx)("div",{className:Op.root(),children:(0,$e.jsxs)("div",{className:Op.root.inner({inline:t.inline}),children:[(0,$e.jsx)(X2,{items:l,strategy:Q2,children:(0,$e.jsxs)(vt.Root,{children:[s.map((m,v)=>{let g=t.schema[m[ye.type]];return(0,$e.jsx)(Na,{field:e,rowId:m._id,type:g,readOnly:a,children:(0,$e.jsx)(the,{row:m,schema:o,readOnly:a,onCopyBlock:()=>{let y=n.read(m._id);u(y)},onMove:y=>{a||n.move(v,v+y)},onDelete:()=>{a||n.remove(m._id)},onCreate:y=>{a||n.push({_type:y},v)},onPasteBlock:y=>{if(a)return;let{_id:b,_index:x,...S}=y;n.push(S,v)},firstRow:v===0})},m._id)}),(0,$e.jsx)(_H,{schema:o,readOnly:a,onPaste:m=>{let{_id:v,_index:g,...y}=m;n.push(y)},onCreate:(m,v)=>{a||n.push({_type:m})}})]})}),(0,$e.jsx)(J2,{dropAnimation:{...Yg,dragSourceOpacity:.5},children:c?(0,$e.jsx)(Na,{field:e,rowId:c._id,type:t.schema[c[ye.type]],readOnly:a,children:(0,$e.jsx)(MH,{row:c,schema:o,isDragOverlay:!0},"overlay")},"overlay"):null})]})})})})}w();var st=A(P(),1),ihe={preview:"alinea-MetadataField-preview","preview-subtitle":"alinea-MetadataField-preview-subtitle",previewSubtitle:"alinea-MetadataField-preview-subtitle",searchengine:"alinea-MetadataField-searchengine","searchengine-title":"alinea-MetadataField-searchengine-title",searchengineTitle:"alinea-MetadataField-searchengine-title","searchengine-intro":"alinea-MetadataField-searchengine-intro",searchengineIntro:"alinea-MetadataField-searchengine-intro","searchengine-intro-favicon":"alinea-MetadataField-searchengine-intro-favicon",searchengineIntroFavicon:"alinea-MetadataField-searchengine-intro-favicon","searchengine-intro-favicon-icon":"alinea-MetadataField-searchengine-intro-favicon-icon",searchengineIntroFaviconIcon:"alinea-MetadataField-searchengine-intro-favicon-icon","searchengine-intro-url":"alinea-MetadataField-searchengine-intro-url",searchengineIntroUrl:"alinea-MetadataField-searchengine-intro-url","searchengine-intro-sitename":"alinea-MetadataField-searchengine-intro-sitename",searchengineIntroSitename:"alinea-MetadataField-searchengine-intro-sitename","searchengine-description":"alinea-MetadataField-searchengine-description",searchengineDescription:"alinea-MetadataField-searchengine-description",opengraph:"alinea-MetadataField-opengraph","opengraph-img":"alinea-MetadataField-opengraph-img",opengraphImg:"alinea-MetadataField-opengraph-img","opengraph-body":"alinea-MetadataField-opengraph-body",opengraphBody:"alinea-MetadataField-opengraph-body","opengraph-body-url":"alinea-MetadataField-opengraph-body-url",opengraphBodyUrl:"alinea-MetadataField-opengraph-body-url","opengraph-body-content":"alinea-MetadataField-opengraph-body-content",opengraphBodyContent:"alinea-MetadataField-opengraph-body-content","opengraph-body-content-title":"alinea-MetadataField-opengraph-body-content-title",opengraphBodyContentTitle:"alinea-MetadataField-opengraph-body-content-title","opengraph-body-content-description":"alinea-MetadataField-opengraph-body-content-description",opengraphBodyContentDescription:"alinea-MetadataField-opengraph-body-content-description"},wn=j(ihe);function BH({field:e}){let t=kl(e),r=Rh();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Na,{type:t.fields,field:e,children:(0,st.jsx)(jr,{type:t.fields,border:!1})}),(0,st.jsx)("div",{children:r?.preview&&(0,st.jsx)(ohe,{})})]})}function ohe(){let e=YL();return e?(0,st.jsxs)("div",{className:wn.preview(),children:[(0,st.jsx)("h2",{children:"Share preview"}),(0,st.jsx)(ahe,{metaTags:e}),(0,st.jsx)(she,{metaTags:e})]}):null}var ahe=({metaTags:e})=>(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("h4",{className:wn.preview.subtitle(),children:"Search engine"}),(0,st.jsxs)("div",{className:wn.searchengine(),children:[(0,st.jsxs)("div",{className:wn.searchengine.intro(),children:[(0,st.jsx)("div",{className:wn.searchengine.intro.favicon(),children:(0,st.jsx)("span",{className:wn.searchengine.intro.favicon.icon(),children:(0,st.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,st.jsx)("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})})})}),(0,st.jsxs)("div",{style:{minWidth:0},children:[e["og:site_name"]&&(0,st.jsx)("p",{className:wn.searchengine.intro.sitename(),children:e["og:site_name"]}),(0,st.jsx)("p",{className:wn.searchengine.intro.url(),children:e["og:url"]})]})]}),(0,st.jsx)("h3",{className:wn.searchengine.title(),children:e.title}),e.description&&(0,st.jsx)("p",{className:wn.searchengine.description(),children:e.description?.substring(0,160)})]})]}),she=({metaTags:e})=>(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("h4",{className:wn.preview.subtitle(),children:"Social share"}),(0,st.jsxs)("div",{className:wn.opengraph(),children:[(0,st.jsx)("img",{src:e["og:image"],alt:"Open Graph image",className:wn.opengraph.img()}),(0,st.jsxs)("div",{className:wn.opengraph.body(),children:[(0,st.jsx)("p",{className:wn.opengraph.body.url(),children:e["og:url"]?.replace(/^https?:\/\//,"")}),(0,st.jsxs)("div",{className:wn.opengraph.body.content(),children:[(0,st.jsx)("h3",{className:wn.opengraph.body.content.title(),children:e["og:title"]||e.title}),(0,st.jsx)("p",{className:wn.opengraph.body.content.description(),children:e["og:description"]})]})]})]})]});w();w();var s4=A(P(),1);function NH(e){return(0,s4.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,s4.jsx)("path",{fill:"currentColor",d:"m20.68 9.27l.01-.06A.961.961 0 0 0 19.76 8H17l.7-2.79A.972.972 0 0 0 16.76 4c-.45 0-.83.3-.94.73L15 8h-4l.7-2.79A.972.972 0 0 0 10.76 4c-.45 0-.83.3-.94.73L9 8H5.76c-.45 0-.84.3-.94.73l-.02.06c-.15.62.31 1.21.94 1.21H8.5l-1 4H4.26c-.45 0-.83.3-.94.73l-.02.06c-.15.62.31 1.21.94 1.21H7l-.7 2.79c-.15.62.31 1.21.94 1.21c.45 0 .83-.3.94-.73L9 16h4l-.7 2.79c-.15.62.31 1.21.94 1.21c.45 0 .83-.3.94-.73L15 16h3.24c.45 0 .83-.3.94-.73l.01-.06a.976.976 0 0 0-.94-1.21H15.5l1-4h3.24c.45 0 .84-.3.94-.73zM13.5 14h-4l1-4h4l-1 4z"})})}var tE=A($(),1),u4=A(P(),1),lhe={"root-input":"alinea-NumberField-input",rootInput:"alinea-NumberField-input"},uhe=j(lhe);function l4(e){let t=Number.parseFloat(e);return Number.isNaN(t)?null:t}function PH({field:e}){let{options:t,value:r,mutator:n,error:i}=Pt(e),{minValue:o,maxValue:a,readOnly:s,step:l}=t,u=(0,tE.useRef)(null),c=String(r??"");return(0,tE.useEffect)(()=>{let d=u.current;!d||l4(d.value)===r||(d.value=c)},[c]),(0,u4.jsx)(Ke,{asLabel:!0,...t,error:i,icon:NH,children:(0,u4.jsx)("input",{type:"number",ref:u,className:uhe.root.input(),defaultValue:c,onChange:({currentTarget:d})=>{let f=l4(d.value);f!==r&&n(f)},onBlur:({currentTarget:d})=>{let f=l4(d.value);f!==r&&n(f),d.value=String(f??"")},min:o,max:a,readOnly:s,step:l||1})})}w();w();var c4=A(P(),1);function LH(e){return(0,c4.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,c4.jsx)("path",{fill:"currentColor",d:"M16 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8l-5-5zM8 7h3c.55 0 1 .45 1 1s-.45 1-1 1H8c-.55 0-1-.45-1-1s.45-1 1-1zm8 10H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1zm0-4H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1zm-1-5V5l4 4h-3c-.55 0-1-.45-1-1z"})})}var Bp=A(P(),1);function zH({field:e}){let t=kl(e),r=zA(e);return(0,Bp.jsx)(Ke,{...t,error:r,icon:LH,children:(0,Bp.jsx)(vt.Root,{children:(0,Bp.jsx)(vt.Content,{children:(0,Bp.jsx)(Na,{field:e,type:t.fields,readOnly:t.readOnly,children:(0,Bp.jsx)(jr,{type:t.fields})})})})})}w();var Jd=A($(),1),Qd=A(P(),1),che={"root-input":"alinea-PathField-input",rootInput:"alinea-PathField-input","root-input-container":"alinea-PathField-input-container",rootInputContainer:"alinea-PathField-input-container","root-suffix":"alinea-PathField-suffix",rootSuffix:"alinea-PathField-suffix","root-hidden":"alinea-PathField-hidden",rootHidden:"alinea-PathField-hidden"},rE=j(che),VH=16,nE=26;function HH({field:e}){let{value:t,mutator:r,options:n,error:i}=Pt(e),o=Ls(),a=Rh(),{from:s="title"}=n,[l,u]=(0,Jd.useState)(!1),c=(0,Jd.useRef)(null),d=(0,Jd.useRef)(null),f=(0,Jd.useRef)(null),{value:h=""}=Pt(s),p=t??Ui(h),[m,v]=(0,Jd.useState)(!1),g=(p??"")+(m?"-":""),y=p==="";async function b(){return a?o.find({select:G.path,root:a.activeVersion.root,workspace:a.activeVersion.workspace,locale:a.activeVersion.locale,parentId:a.activeVersion.parentId??null,id:{isNot:a.entryId},path:{or:{is:g,startsWith:`${g}-`}},status:"preferPublished"}):[]}let{data:x}=qn(["path",a?.entryId,a?.activeVersion.parentId,g],b);async function S(){let D=await b(),F=U0(g,D);F&&r(Ui(`${g}-${F}`))}let E=x&&U0(g,x);function I(){return!E||!c.current||!d.current||!f.current?0:c.current.clientWidth+VH+k()>=d.current.clientWidth?d.current.clientWidth-k():c.current.clientWidth+VH}function k(){return!E||!f.current?nE:f.current.clientWidth+10>nE?f.current.clientWidth+10:nE}return(0,Qd.jsxs)(Ke,{asLabel:!0,...n,error:i,focused:l,icon:Sc,empty:y,children:[(0,Qd.jsxs)("div",{className:rE.root.input.container(),children:[(0,Qd.jsx)("input",{ref:d,className:rE.root.input(),type:"text",value:g,onChange:D=>{let F=D.currentTarget.value;v(_O(F.charAt(F.length-1))),r(Ui(F))},onFocus:()=>u(!0),onBlur:()=>{u(!1),S(),v(!1)},style:{paddingRight:Me(k())},readOnly:n.readOnly}),(0,Qd.jsx)("div",{ref:f,className:rE.root.suffix(),style:{left:Me(I())},children:E?`-${E}`:null})]}),(0,Qd.jsx)("span",{ref:c,className:rE.root.hidden(),children:g})]})}w();w();w();function ii(e){this.content=e}ii.prototype={constructor:ii,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,r){var n=r&&r!=e?this.remove(r):this,i=n.find(e),o=n.content.slice();return i==-1?o.push(r||e,t):(o[i+1]=t,r&&(o[i]=r)),new ii(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var r=this.content.slice();return r.splice(t,2),new ii(r)},addToStart:function(e,t){return new ii([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var r=this.remove(e).content.slice();return r.push(e,t),new ii(r)},addBefore:function(e,t,r){var n=this.remove(t),i=n.content.slice(),o=n.find(e);return i.splice(o==-1?i.length:o,0,t,r),new ii(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=ii.from(e),e.size?new ii(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=ii.from(e),e.size?new ii(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=ii.from(e);for(var r=0;r<e.content.length;r+=2)t=t.remove(e.content[r]);return t},toObject:function(){var e={};return this.forEach(function(t,r){e[t]=r}),e},get size(){return this.content.length>>1}};ii.from=function(e){if(e instanceof ii)return e;var t=[];if(e)for(var r in e)t.push(r,e[r]);return new ii(t)};var jH=ii;function Xj(e,t,r){for(let n=0;;n++){if(n==e.childCount||n==t.childCount)return e.childCount==t.childCount?null:r;let i=e.child(n),o=t.child(n);if(i==o){r+=i.nodeSize;continue}if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)r++;return r}if(i.content.size||o.content.size){let a=Xj(i.content,o.content,r+1);if(a!=null)return a}r+=i.nodeSize}}function Zj(e,t,r,n){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:r,b:n};let a=e.child(--i),s=t.child(--o),l=a.nodeSize;if(a==s){r-=l,n-=l;continue}if(!a.sameMarkup(s))return{a:r,b:n};if(a.isText&&a.text!=s.text){let u=0,c=Math.min(a.text.length,s.text.length);for(;u<c&&a.text[a.text.length-u-1]==s.text[s.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(a.content.size||s.content.size){let u=Zj(a.content,s.content,r-1,n-1);if(u)return u}r-=l,n-=l}}var X=class Di{constructor(t,r){if(this.content=t,this.size=r||0,r==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,r,n,i=0,o){for(let a=0,s=0;s<r;a++){let l=this.content[a],u=s+l.nodeSize;if(u>t&&n(l,i+s,o||null,a)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,t-c),Math.min(l.content.size,r-c),n,i+c)}s=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,r,n,i){let o="",a=!0;return this.nodesBetween(t,r,(s,l)=>{let u=s.isText?s.text.slice(Math.max(t,l)-l,r-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&u||s.isTextblock)&&n&&(a?a=!1:o+=n),o+=u},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let r=this.lastChild,n=t.firstChild,i=this.content.slice(),o=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new Di(i,this.size+t.size)}cut(t,r=this.size){if(t==0&&r==this.size)return this;let n=[],i=0;if(r>t)for(let o=0,a=0;a<r;o++){let s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>r)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,r-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,r-a-1))),n.push(s),i+=s.nodeSize),a=l}return new Di(n,i)}cutByIndex(t,r){return t==r?Di.empty:t==0&&r==this.content.length?this:new Di(this.content.slice(t,r))}replaceChild(t,r){let n=this.content[t];if(n==r)return this;let i=this.content.slice(),o=this.size+r.nodeSize-n.nodeSize;return i[t]=r,new Di(i,o)}addToStart(t){return new Di([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Di(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r}maybeChild(t){return this.content[t]||null}forEach(t){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];t(i,n,r),n+=i.nodeSize}}findDiffStart(t,r=0){return Xj(this,t,r)}findDiffEnd(t,r=this.size,n=t.size){return Zj(this,t,r,n)}findIndex(t,r=-1){if(t==0)return iE(0,t);if(t==this.size)return iE(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,i=0;;n++){let o=this.child(n),a=i+o.nodeSize;if(a>=t)return a==t||r>0?iE(n+1,a):iE(n,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,r){if(!r)return Di.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Di(r.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Di.empty;let r,n=0;for(let i=0;i<t.length;i++){let o=t[i];n+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(r||(r=t.slice(0,i)),r[r.length-1]=o.withText(r[r.length-1].text+o.text)):r&&r.push(o)}return new Di(r||t,n)}static from(t){if(!t)return Di.empty;if(t instanceof Di)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Di([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};X.empty=new X([],0);var d4={index:0,offset:0};function iE(e,t){return d4.index=e,d4.offset=t,d4}function wE(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let r=Array.isArray(e);if(Array.isArray(t)!=r)return!1;if(r){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!wE(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!wE(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}var qt=class I4{constructor(t,r){this.type=t,this.attrs=r}addToSet(t){let r,n=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))r||(r=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(r||(r=t.slice(0,i)),r.push(this),n=!0),r&&r.push(o)}}return r||(r=t.slice()),n||r.push(this),r}removeFromSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return t.slice(0,r).concat(t.slice(r+1));return t}isInSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return!0;return!1}eq(t){return this==t||this.type==t.type&&wE(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(t,r){if(t==r)return!0;if(t.length!=r.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(r[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return I4.none;if(t instanceof I4)return[t];let r=t.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};qt.none=[];var bE=class extends Error{},he=class Lp{constructor(t,r,n){this.content=t,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,r){let n=t$(this.content,t+this.openStart,r);return n&&new Lp(n,this.openStart,this.openEnd)}removeBetween(t,r){return new Lp(e$(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,r){if(!r)return Lp.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Lp(X.fromJSON(t,r.content),n,i)}static maxOpen(t,r=!0){let n=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=t.lastChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.lastChild)i++;return new Lp(t,n,i)}};he.empty=new he(X.empty,0,0);function e$(e,t,r){let{index:n,offset:i}=e.findIndex(t),o=e.maybeChild(n),{index:a,offset:s}=e.findIndex(r);if(i==t||o.isText){if(s!=r&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(r))}if(n!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(n,o.copy(e$(o.content,t-i-1,r-i-1)))}function t$(e,t,r,n){let{index:i,offset:o}=e.findIndex(t),a=e.maybeChild(i);if(o==t||a.isText)return n&&!n.canReplace(i,i,r)?null:e.cut(0,t).append(r).append(e.cut(t));let s=t$(a.content,t-o-1,r);return s&&e.replaceChild(i,a.copy(s))}function dhe(e,t,r){if(r.openStart>e.depth)throw new bE("Inserted content deeper than insertion position");if(e.depth-r.openStart!=t.depth-r.openEnd)throw new bE("Inconsistent open depths");return r$(e,t,r,0)}function r$(e,t,r,n){let i=e.index(n),o=e.node(n);if(i==t.index(n)&&n<e.depth-r.openStart){let a=r$(e,t,r,n+1);return o.copy(o.content.replaceChild(i,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&e.depth==n&&t.depth==n){let a=e.parent,s=a.content;return nf(a,s.cut(0,e.parentOffset).append(r.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=fhe(r,e);return nf(o,i$(e,a,s,t,n))}else return nf(o,xE(e,t,n))}function n$(e,t){if(!t.type.compatibleContent(e.type))throw new bE("Cannot join "+t.type.name+" onto "+e.type.name)}function F4(e,t,r){let n=e.node(r);return n$(n,t.node(r)),n}function rf(e,t){let r=t.length-1;r>=0&&e.isText&&e.sameMarkup(t[r])?t[r]=e.withText(t[r].text+e.text):t.push(e)}function fv(e,t,r,n){let i=(t||e).node(r),o=0,a=t?t.index(r):i.childCount;e&&(o=e.index(r),e.depth>r?o++:e.textOffset&&(rf(e.nodeAfter,n),o++));for(let s=o;s<a;s++)rf(i.child(s),n);t&&t.depth==r&&t.textOffset&&rf(t.nodeBefore,n)}function nf(e,t){return e.type.checkContent(t),e.copy(t)}function i$(e,t,r,n,i){let o=e.depth>i&&F4(e,t,i+1),a=n.depth>i&&F4(r,n,i+1),s=[];return fv(null,e,i,s),o&&a&&t.index(i)==r.index(i)?(n$(o,a),rf(nf(o,i$(e,t,r,n,i+1)),s)):(o&&rf(nf(o,xE(e,t,i+1)),s),fv(t,r,i,s),a&&rf(nf(a,xE(r,n,i+1)),s)),fv(n,null,i,s),new X(s)}function xE(e,t,r){let n=[];if(fv(null,e,r,n),e.depth>r){let i=F4(e,t,r+1);rf(nf(i,xE(e,t,r+1)),n)}return fv(t,null,r,n),new X(n)}function fhe(e,t){let r=t.depth-e.openStart,i=t.node(r).copy(e.content);for(let o=r-1;o>=0;o--)i=t.node(o).copy(X.from(i));return{start:i.resolveNoCache(e.openStart+r),end:i.resolveNoCache(i.content.size-e.openEnd-r)}}var $H=class R4{constructor(t,r,n){this.pos=t,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,r=this.index(this.depth);if(r==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=t.child(r);return n?t.child(r).cut(n):i}get nodeBefore(){let t=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(t).cut(0,r):t==0?null:this.parent.child(t-1)}posAtIndex(t,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let o=0;o<t;o++)i+=n.child(o).nodeSize;return i}marks(){let t=this.parent,r=this.index();if(t.content.size==0)return qt.none;if(this.textOffset)return t.child(r).marks;let n=t.maybeChild(r-1),i=t.maybeChild(r);if(!n){let s=n;n=i,i=s}let o=n.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(t){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(t){for(let r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0}blockRange(t=this,r){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!r||r(this.node(n))))return new EE(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset}static resolve(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,o=r;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(o),u=o-l;if(n.push(a,s,i+l),!u||(a=a.child(s),a.isText))break;o=u-1,i+=l+1}return new R4(r,n,o)}static resolveCached(t,r){let n=UH.get(t);if(n)for(let o=0;o<n.elts.length;o++){let a=n.elts[o];if(a.pos==r)return a}else UH.set(t,n=new hhe);let i=n.elts[n.i]=R4.resolve(t,r);return n.i=(n.i+1)%phe,i}},hhe=class{constructor(){this.elts=[],this.i=0}},phe=12,UH=new WeakMap,EE=class{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},mhe=Object.create(null),Fc=class M4{constructor(t,r,n,i=qt.none){this.type=t,this.attrs=r,this.marks=i,this.content=n||X.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,r,n,i=0){this.content.nodesBetween(t,r,n,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,r,n,i){return this.content.textBetween(t,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,r,n){return this.type==t&&wE(this.attrs,r||t.defaultAttrs||mhe)&&qt.sameSet(this.marks,n||qt.none)}copy(t=null){return t==this.content?this:new M4(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new M4(this.type,this.attrs,this.content,t)}cut(t,r=this.content.size){return t==0&&r==this.content.size?this:this.copy(this.content.cut(t,r))}slice(t,r=this.content.size,n=!1){if(t==r)return he.empty;let i=this.resolve(t),o=this.resolve(r),a=n?0:i.sharedDepth(r),s=i.start(a),u=i.node(a).content.cut(i.pos-s,o.pos-s);return new he(u,i.depth-a,o.depth-a)}replace(t,r,n){return dhe(this.resolve(t),this.resolve(r),n)}nodeAt(t){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(t);if(r=r.maybeChild(n),!r)return null;if(i==t||r.isText)return r;t-=i+1}}childAfter(t){let{index:r,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(t){return $H.resolveCached(this,t)}resolveNoCache(t){return $H.resolve(this,t)}rangeHasMark(t,r,n){let i=!1;return r>t&&this.nodesBetween(t,r,o=>(n.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),o$(this.marks,t)}contentMatchAt(t){let r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(t,r,n=X.empty,i=0,o=n.childCount){let a=this.contentMatchAt(t).matchFragment(n,i,o),s=a&&a.matchFragment(this.content,r);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(t,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(n),a=o&&o.matchFragment(this.content,r);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=qt.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!qt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(r=>r.toJSON())),t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(t.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(r.text,n)}let i=X.fromJSON(t,r.content),o=t.nodeType(r.type).create(r.attrs,i,n);return o.type.checkAttrs(o.attrs),o}};Fc.prototype.text=void 0;var ghe=class _4 extends Fc{constructor(t,r,n,i){if(super(t,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):o$(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,r){return this.text.slice(t,r)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new _4(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new _4(this.type,this.attrs,t,this.marks)}cut(t=0,r=this.text.length){return t==0&&r==this.text.length?this:this.withText(this.text.slice(t,r))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}};function o$(e,t){for(let r=e.length-1;r>=0;r--)t=e[r].type.name+"("+t+")";return t}var yv=class a${constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,r){let n=new vhe(t,r);if(n.next==null)return a$.empty;let i=s$(n);n.next&&n.err("Unexpected trailing text");let o=Che(She(i));return khe(o,n),o}matchType(t){for(let r=0;r<this.next.length;r++)if(this.next[r].type==t)return this.next[r].next;return null}matchFragment(t,r=0,n=t.childCount){let i=this;for(let o=r;i&&o<n;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:r}=this.next[t];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(t){for(let r=0;r<this.next.length;r++)for(let n=0;n<t.next.length;n++)if(this.next[r].type==t.next[n].type)return!0;return!1}fillBefore(t,r=!1,n=0){let i=[this];function o(a,s){let l=a.matchFragment(t,n);if(l&&(!r||l.validEnd))return X.from(s.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:c,next:d}=a.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,s.concat(c));if(f)return f}}return null}return o(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),o=i.match;if(o.matchType(t)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in r)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),r[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function r(n){t.push(n);for(let i=0;i<n.next.length;i++)t.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),t.map((n,i)=>{let o=i+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)o+=(a?", ":"")+n.next[a].type.name+"->"+t.indexOf(n.next[a].next);return o}).join(`
`)}};yv.empty=new yv(!0);var vhe=class{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function s$(e){let t=[];do t.push(yhe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function yhe(e){let t=[];do t.push(whe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function whe(e){let t=Ehe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=bhe(e,t);else break;return t}function WH(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function bhe(e,t){let r=WH(e),n=r;return e.eat(",")&&(e.next!="}"?n=WH(e):n=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:t}}function xhe(e,t){let r=e.nodeTypes,n=r[t];if(n)return[n];let i=[];for(let o in r){let a=r[o];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function Ehe(e){if(e.eat("(")){let t=s$(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=xhe(e,e.next).map(r=>(e.inline==null?e.inline=r.isInline:e.inline!=r.isInline&&e.err("Mixing inline and block content"),{type:"name",value:r}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function She(e){let t=[[]];return i(o(e,0),r()),t;function r(){return t.push([])-1}function n(a,s,l){let u={term:l,to:s};return t[a].push(u),u}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(o(u,s)),[]);if(a.type=="seq")for(let l=0;;l++){let u=o(a.exprs[l],s);if(l==a.exprs.length-1)return u;i(u,s=r())}else if(a.type=="star"){let l=r();return n(s,l),i(o(a.expr,l),l),[n(l)]}else if(a.type=="plus"){let l=r();return i(o(a.expr,s),l),i(o(a.expr,l),l),[n(l)]}else{if(a.type=="opt")return[n(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let u=0;u<a.min;u++){let c=r();i(o(a.expr,l),c),l=c}if(a.max==-1)i(o(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let c=r();n(l,c),i(o(a.expr,l),c),l=c}return[n(l)]}else{if(a.type=="name")return[n(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function l$(e,t){return t-e}function qH(e,t){let r=[];return n(t),r.sort(l$);function n(i){let o=e[i];if(o.length==1&&!o[0].term)return n(o[0].to);r.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&r.indexOf(l)==-1&&n(l)}}}function Che(e){let t=Object.create(null);return r(qH(e,0));function r(n){let i=[];n.forEach(a=>{e[a].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);qH(e,l).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=t[n.join(",")]=new yv(n.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(l$);o.next.push({type:i[a][0],next:t[s.join(",")]||r(s)})}return o}}function khe(e,t){for(let r=0,n=[e];r<n.length;r++){let i=n[r],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(u)==-1&&n.push(u)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function u$(e){let t=Object.create(null);for(let r in e){let n=e[r];if(!n.hasDefault)return null;t[r]=n.default}return t}function c$(e,t){let r=Object.create(null);for(let n in e){let i=t&&t[n];if(i===void 0){let o=e[n];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function d$(e,t,r,n){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in e){let o=e[i];o.validate&&o.validate(t[i])}}function f$(e,t){let r=Object.create(null);if(t)for(let n in t)r[n]=new The(e,n,t[n]);return r}var KH=class h${constructor(t,r,n){this.name=t,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=f$(t,n.attrs),this.defaultAttrs=u$(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==yv.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:c$(this.attrs,t)}create(t=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Fc(this,this.computeAttrs(t),X.from(r),qt.setFrom(n))}createChecked(t=null,r,n){return r=X.from(r),this.checkContent(r),new Fc(this,this.computeAttrs(t),r,qt.setFrom(n))}createAndFill(t=null,r,n){if(t=this.computeAttrs(t),r=X.from(r),r.size){let a=this.contentMatch.fillBefore(r);if(!a)return null;r=a.append(r)}let i=this.contentMatch.matchFragment(r),o=i&&i.fillBefore(X.empty,!0);return o?new Fc(this,t,r.append(o),qt.setFrom(n)):null}validContent(t){let r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){d$(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let r;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?r&&r.push(t[n]):r||(r=t.slice(0,n));return r?r.length?r:qt.none:t}static compile(t,r){let n=Object.create(null);t.forEach((o,a)=>n[o]=new h$(o,r,a));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function Ahe(e,t,r){let n=r.split("|");return i=>{let o=i===null?"null":typeof i;if(n.indexOf(o)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${e}, got ${o}`)}}var The=class{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Ahe(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}},p$=class m${constructor(t,r,n,i){this.name=t,this.rank=r,this.schema=n,this.spec=i,this.attrs=f$(t,i.attrs),this.excluded=null;let o=u$(this.attrs);this.instance=o?new qt(this,o):null}create(t=null){return!t&&this.instance?this.instance:new qt(this,c$(this.attrs,t))}static compile(t,r){let n=Object.create(null),i=0;return t.forEach((o,a)=>n[o]=new m$(o,i++,r,a)),n}removeFromSet(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t}isInSet(t){for(let r=0;r<t.length;r++)if(t[r].type==this)return t[r]}checkAttrs(t){d$(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}},g$=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let n in e)t[n]=e[n];t.nodes=jH.from(e.nodes),t.marks=jH.from(e.marks||{}),this.nodes=KH.compile(this.spec.nodes,this),this.marks=p$.compile(this.spec.marks,this);let r=Object.create(null);for(let n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");let i=this.nodes[n],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=yv.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?YH(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let n in this.marks){let i=this.marks[n],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:YH(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,n){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof KH){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,n)}text(e,t){let r=this.nodes.text;return new ghe(r,r.defaultAttrs,e,qt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Fc.fromJSON(this,e)}markFromJSON(e){return qt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}};function YH(e,t){let r=[];for(let n=0;n<t.length;n++){let i=t[n],o=e.marks[i],a=o;if(o)r.push(o);else for(let s in e.marks){let l=e.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return r}function Dhe(e){return e.tag!=null}function Ihe(e){return e.style!=null}var hv=class O4{constructor(t,r){this.schema=t,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(Dhe(i))this.tags.push(i);else if(Ihe(i)){let o=/[^=]*/.exec(i.style)[0];n.indexOf(o)<0&&n.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,r={}){let n=new JH(this,r,!1);return n.addAll(t,qt.none,r.from,r.to),n.finish()}parseSlice(t,r={}){let n=new JH(this,r,!0);return n.addAll(t,qt.none,r.from,r.to),he.maxOpen(n.finish())}matchTag(t,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Mhe(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||r.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(t,r,n,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!n.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=r))){if(a.getAttrs){let l=a.getAttrs(r);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let r=[];function n(i){let o=i.priority==null?50:i.priority,a=0;for(;a<r.length;a++){let s=r[a];if((s.priority==null?50:s.priority)<o)break}r.splice(a,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(a=>{n(a=QH(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(a=>{n(a=QH(a)),a.node||a.ignore||a.mark||(a.node=i)})}return r}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new O4(t,O4.schemaRules(t)))}},v$={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Fhe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},y$={ol:!0,ul:!0},wv=1,B4=2,pv=4;function GH(e,t,r){return t!=null?(t?wv:0)|(t==="full"?B4:0):e&&e.whitespace=="pre"?wv|B4:r&~pv}var oE=class{constructor(e,t,r,n,i,o){this.type=e,this.attrs=t,this.marks=r,this.solid=n,this.options=o,this.content=[],this.activeMarks=qt.none,this.match=i||(o&pv?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(X.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,n;return(n=r.findWrapping(e.type))?(this.match=r,n):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&wv)){let r=this.content[this.content.length-1],n;if(r&&r.isText&&(n=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==n[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-n[0].length))}}let t=X.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(X.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!v$.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},JH=class{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let n=t.topNode,i,o=GH(null,t.preserveWhitespace,0)|(r?pv:0);n?i=new oE(n.type,n.attrs,qt.none,!0,t.topMatch||n.type.contentMatch,o):r?i=new oE(null,null,qt.none,!0,null,o):i=new oE(e.schema.topNodeType,null,qt.none,!0,null,o),this.nodes=[i],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,n=this.top,i=n.options&B4?"full":this.localPreserveWS||(n.options&wv)>0;if(i==="full"||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=n.content[n.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let n=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;y$.hasOwnProperty(o)&&this.parser.normalizeLists&&Rhe(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(s?s.ignore:Fhe.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let l,u=this.needsBlock;if(v$.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),l=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let c=s&&s.skip?t:this.readStyles(e,t);c&&this.addAll(e,c),l&&this.sync(i),this.needsBlock=u}else{let l=this.readStyles(e,t);l&&this.addElementByRule(e,s,l,s.consuming===!1?a:void 0)}this.localPreserveWS=n}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let n=0;n<this.parser.matchedStyles.length;n++){let i=this.parser.matchedStyles[n],o=r.getPropertyValue(i);if(o)for(let a=void 0;;){let s=this.parser.matchStyle(i,o,this,a);if(!s)break;if(s.ignore)return null;if(s.clearMark?t=t.filter(l=>!s.clearMark(l)):t=t.concat(this.parser.schema.marks[s.mark].create(s.attrs)),s.consuming===!1)a=s;else break}}return t}addElementByRule(e,t,r,n){let i,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r)||this.leafFallback(e,r);else{let s=this.enter(o,t.attrs||null,r,t.preserveWhitespace);s&&(i=!0,r=s)}else{let s=this.parser.schema.marks[t.mark];r=r.concat(s.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,r,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(s=>this.insertNode(s,r));else{let s=e;typeof t.contentElement=="string"?s=e.querySelector(t.contentElement):typeof t.contentElement=="function"?s=t.contentElement(e):t.contentElement&&(s=t.contentElement),this.findAround(e,s,!0),this.addAll(s,r),this.findAround(e,s,!1)}i&&this.sync(a)&&this.open--}addAll(e,t,r,n){let i=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=n==null?null:e.childNodes[n];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,t);this.findAtPoint(e,i)}findPlace(e,t){let r,n;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,n=o,!a.length)||o.solid)break}if(!r)return null;this.sync(n);for(let i=0;i<r.length;i++)t=this.enterInner(r[i],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&(t=this.enterInner(n,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let n=this.top;n.match&&(n.match=n.match.matchType(e.type));let i=qt.none;for(let o of r.concat(e.marks))(n.type?n.type.allowsMarkType(o.type):XH(o.type,e.type))&&(i=o.addToSet(i));return n.content.push(e.mark(i)),!0}return!1}enter(e,t,r,n){let i=this.findPlace(e.create(t),r);return i&&(i=this.enterInner(e,t,r,!0,n)),i}enterInner(e,t,r,n=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=GH(e,i,o.options);o.options&pv&&o.content.length==0&&(a|=pv);let s=qt.none;return r=r.filter(l=>(o.type?o.type.allowsMarkType(l.type):XH(l.type,e))?(s=l.addToSet(s),!1):!0),this.nodes.push(new oE(e,t,s,n,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=wv)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let n=r.length-1;n>=0;n--)e+=r[n].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&t.compareDocumentPosition(this.find[n].node)&(r?2:4)&&(this.find[n].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,n=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(n?0:1),o=(a,s)=>{for(;a>=0;a--){let l=t[a];if(l==""){if(a==t.length-1||a==0)continue;for(;s>=i;s--)if(o(a-1,s))return!0;return!1}else{let u=s>0||s==0&&n?this.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!u||u.name!=l&&!u.isInGroup(l))return!1;s--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}};function Rhe(e){for(let t=e.firstChild,r=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&y$.hasOwnProperty(n)&&r?(r.appendChild(t),t=r):n=="li"?r=t:n&&(r=null)}}function Mhe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function QH(e){let t={};for(let r in e)t[r]=e[r];return t}function XH(e,t){let r=t.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(e))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==t||o.indexOf(c)<0&&a(c))return!0}};if(a(i.contentMatch))return!0}}var Av=class w${constructor(t,r){this.nodes=t,this.marks=r}serializeFragment(t,r={},n){n||(n=f4(r).createDocumentFragment());let i=n,o=[];return t.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],c=this.serializeMark(u,a.isInline,r);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(a,r))}),n}serializeNodeInner(t,r){let{dom:n,contentDOM:i}=fE(f4(r),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,r,i)}return n}serializeNode(t,r={}){let n=this.serializeNodeInner(t,r);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,r);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(t,r,n={}){let i=this.marks[t.type.name];return i&&fE(f4(n),i(t,r),null,t.attrs)}static renderSpec(t,r,n=null,i){return fE(t,r,n,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new w$(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let r=ZH(t.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(t){return ZH(t.marks)}};function ZH(e){let t={};for(let r in e){let n=e[r].spec.toDOM;n&&(t[r]=n)}return t}function f4(e){return e.document||window.document}var ej=new WeakMap;function _he(e){let t=ej.get(e);return t===void 0&&ej.set(e,t=Ohe(e)),t}function Ohe(e){let t=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(e),t}function fE(e,t,r,n){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(o=_he(n))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(r=i.slice(0,a),i=i.slice(a+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),u=t[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),u[d]):l.setAttribute(d,u[d])}}for(let d=c;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=fE(e,f,r,n);if(l.appendChild(h),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:l,contentDOM:s}}var b$=65535,x$=Math.pow(2,16);function Bhe(e,t){return e+t*x$}function tj(e){return e&b$}function Nhe(e){return(e-(e&b$))/x$}var E$=1,S$=2,hE=4,C$=8,N4=class{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&C$)>0}get deletedBefore(){return(this.delInfo&(E$|hE))>0}get deletedAfter(){return(this.delInfo&(S$|hE))>0}get deletedAcross(){return(this.delInfo&hE)>0}},sf=class zp{constructor(t,r=!1){if(this.ranges=t,this.inverted=r,!t.length&&zp.empty)return zp.empty}recover(t){let r=0,n=tj(t);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+Nhe(t)}mapResult(t,r=1){return this._map(t,r,!1)}map(t,r=1){return this._map(t,r,!0)}_map(t,r,n){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;let u=this.ranges[s+o],c=this.ranges[s+a],d=l+u;if(t<=d){let f=u?t==l?-1:t==d?1:r:r,h=l+i+(f<0?0:c);if(n)return h;let p=t==(r<0?l:d)?null:Bhe(s/3,t-l),m=t==l?S$:t==d?E$:hE;return(r<0?t!=l:t!=d)&&(m|=C$),new N4(h,m,p)}i+=c-u}return n?t+i:new N4(t+i,0,null)}touches(t,r){let n=0,i=tj(r),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>t)break;let u=this.ranges[s+o],c=l+u;if(t<=c&&s==i*3)return!0;n+=this.ranges[s+a]-u}return!1}forEach(t){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),u=this.ranges[i+r],c=this.ranges[i+n];t(s,s+u,l,l+c),o+=c-u}}invert(){return new zp(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?zp.empty:new zp(t<0?[0,-t,0]:[0,0,t])}};sf.empty=new sf([]);var Phe=class pE{constructor(t=[],r,n=0,i=t.length){this.maps=t,this.mirror=r,this.from=n,this.to=i}slice(t=0,r=this.maps.length){return new pE(this.maps,this.mirror,t,r)}copy(){return new pE(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,r){this.to=this.maps.push(t),r!=null&&this.setMirror(this.maps.length-1,r)}appendMapping(t){for(let r=0,n=this.maps.length;r<t.maps.length;r++){let i=t.getMirror(r);this.appendMap(t.maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(t){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}}setMirror(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)}appendMappingInverted(t){for(let r=t.maps.length-1,n=this.maps.length+t.maps.length;r>=0;r--){let i=t.getMirror(r);this.appendMap(t.maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let t=new pE;return t.appendMappingInverted(this),t}map(t,r=1){if(this.mirror)return this._map(t,r,!0);for(let n=this.from;n<this.to;n++)t=this.maps[n].map(t,r);return t}mapResult(t,r=1){return this._map(t,r,!1)}_map(t,r,n){let i=0;for(let o=this.from;o<this.to;o++){let a=this.maps[o],s=a.mapResult(t,r);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this.maps[l].recover(s.recover);continue}}i|=s.delInfo,t=s.pos}return n?t:new N4(t,i,null)}},h4=Object.create(null),si=class{getMap(){return sf.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=h4[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in h4)throw new RangeError("Duplicate use of step JSON ID "+e);return h4[e]=t,t.prototype.jsonID=e,t}},Ii=class ev{constructor(t,r){this.doc=t,this.failed=r}static ok(t){return new ev(t,null)}static fail(t){return new ev(null,t)}static fromReplace(t,r,n,i){try{return ev.ok(t.replace(r,n,i))}catch(o){if(o instanceof bE)return ev.fail(o.message);throw o}}};function n6(e,t,r){let n=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(n6(o.content,t,o))),o.isInline&&(o=t(o,r,i)),n.push(o)}return X.fromArray(n)}var i6=class tv extends si{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=t.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new he(n6(r.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),r.openStart,r.openEnd);return Ii.fromReplace(t,this.from,this.to,o)}invert(){return new Tv(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new tv(r.pos,n.pos,this.mark)}merge(t){return t instanceof tv&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new tv(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new tv(r.from,r.to,t.markFromJSON(r.mark))}};si.jsonID("addMark",i6);var Tv=class rv extends si{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=new he(n6(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),r.openStart,r.openEnd);return Ii.fromReplace(t,this.from,this.to,n)}invert(){return new i6(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new rv(r.pos,n.pos,this.mark)}merge(t){return t instanceof rv&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new rv(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new rv(r.from,r.to,t.markFromJSON(r.mark))}};si.jsonID("removeMark",Tv);var o6=class nv extends si{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return Ii.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Ii.fromReplace(t,this.pos,this.pos+1,new he(X.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new nv(this.pos,r.marks[i]);return new nv(this.pos,this.mark)}}return new a6(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new nv(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new nv(r.pos,t.markFromJSON(r.mark))}};si.jsonID("addNodeMark",o6);var a6=class P4 extends si{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return Ii.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Ii.fromReplace(t,this.pos,this.pos+1,new he(X.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new o6(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new P4(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new P4(r.pos,t.markFromJSON(r.mark))}};si.jsonID("removeNodeMark",a6);var Xa=class Xd extends si{constructor(t,r,n,i=!1){super(),this.from=t,this.to=r,this.slice=n,this.structure=i}apply(t){return this.structure&&L4(t,this.from,this.to)?Ii.fail("Structure replace would overwrite content"):Ii.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new sf([this.from,this.to-this.from,this.slice.size])}invert(t){return new Xd(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Xd(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(t){if(!(t instanceof Xd)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let r=this.slice.size+t.slice.size==0?he.empty:new he(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Xd(this.from,this.to+(t.to-t.from),r,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let r=this.slice.size+t.slice.size==0?he.empty:new he(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Xd(t.from,this.to,r,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Xd(r.from,r.to,he.fromJSON(t,r.slice),!!r.structure)}};si.jsonID("replace",Xa);var no=class mE extends si{constructor(t,r,n,i,o,a,s=!1){super(),this.from=t,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(t){if(this.structure&&(L4(t,this.from,this.gapFrom)||L4(t,this.gapTo,this.to)))return Ii.fail("Structure gap-replace would overwrite content");let r=t.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Ii.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Ii.fromReplace(t,this.from,this.to,n):Ii.fail("Content does not fit in gap")}getMap(){return new sf([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let r=this.gapTo-this.gapFrom;return new mE(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||o>n.pos?null:new mE(r.pos,n.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new mE(r.from,r.to,r.gapFrom,r.gapTo,he.fromJSON(t,r.slice),r.insert,!!r.structure)}};si.jsonID("replaceAround",no);function L4(e,t,r){let n=e.resolve(t),i=r-t,o=n.depth;for(;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0){let a=n.node(o).maybeChild(n.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function Lhe(e,t,r,n){let i=[],o=[],a,s;e.doc.nodesBetween(t,r,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!n.isInSet(d)&&c.type.allowsMarkType(n.type)){let f=Math.max(u,t),h=Math.min(u+l.nodeSize,r),p=n.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(p)||(a&&a.to==f&&a.mark.eq(d[m])?a.to=h:i.push(a=new Tv(f,h,d[m])));s&&s.to==f?s.to=h:o.push(s=new i6(f,h,n))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function zhe(e,t,r,n){let i=[],o=0;e.doc.nodesBetween(t,r,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(n instanceof p$){let u=a.marks,c;for(;c=n.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length){let u=Math.min(s+a.nodeSize,r);for(let c=0;c<l.length;c++){let d=l[c],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=u,f.step=o):i.push({style:d,from:Math.max(s,t),to:u,step:o})}}}),i.forEach(a=>e.step(new Tv(a.from,a.to,a.style)))}function s6(e,t,r,n=r.contentMatch,i=!0){let o=e.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let u=o.child(l),c=s+u.nodeSize,d=n.matchType(u.type);if(!d)a.push(new Xa(s,c,he.empty));else{n=d;for(let f=0;f<u.marks.length;f++)r.allowsMarkType(u.marks[f].type)||e.step(new Tv(s,c,u.marks[f]));if(i&&u.isText&&r.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(u.text);)p||(p=new he(X.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),a.push(new Xa(s+f.index,s+f.index+f[0].length,p))}}s=c}if(!n.validEnd){let l=n.fillBefore(X.empty,!0);e.replace(s,s,new he(l,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function Vhe(e,t,r){return(t==0||e.canReplace(t,e.childCount))&&(r==e.childCount||e.canReplace(0,r))}function Gp(e){let r=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let i=e.$from.node(n),o=e.$from.index(n),a=e.$to.indexAfter(n);if(n<e.depth&&i.canReplace(o,a,r))return n;if(n==0||i.type.spec.isolating||!Vhe(i,o,a))break}return null}function Hhe(e,t,r){let{$from:n,$to:i,depth:o}=t,a=n.before(o+1),s=i.after(o+1),l=a,u=s,c=X.empty,d=0;for(let p=o,m=!1;p>r;p--)m||n.index(p)>0?(m=!0,c=X.from(n.node(p).copy(c)),d++):l--;let f=X.empty,h=0;for(let p=o,m=!1;p>r;p--)m||i.after(p+1)<i.end(p)?(m=!0,f=X.from(i.node(p).copy(f)),h++):u++;e.step(new no(l,u,a,s,new he(c.append(f),d,h),c.size-d,!0))}function l6(e,t,r=null,n=e){let i=jhe(e,t),o=i&&$he(n,t);return o?i.map(rj).concat({type:t,attrs:r}).concat(o.map(rj)):null}function rj(e){return{type:e,attrs:null}}function jhe(e,t){let{parent:r,startIndex:n,endIndex:i}=e,o=r.contentMatchAt(n).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return r.canReplaceWith(n,i,a)?o:null}function $he(e,t){let{parent:r,startIndex:n,endIndex:i}=e,o=r.child(n),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(r.child(u).type);return!l||!l.validEnd?null:a}function Uhe(e,t,r){let n=X.empty;for(let a=r.length-1;a>=0;a--){if(n.size){let s=r[a].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=X.from(r[a].type.create(r[a].attrs,n))}let i=t.start,o=t.end;e.step(new no(i,o,i,o,new he(n,0,0),r.length,!0))}function Whe(e,t,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,r,(a,s)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(n,l)&&qhe(e.doc,e.mapping.slice(o).map(s),n)){let u=null;if(n.schema.linebreakReplacement){let h=n.whitespace=="pre",p=!!n.contentMatch.matchType(n.schema.linebreakReplacement);h&&!p?u=!1:!h&&p&&(u=!0)}u===!1&&A$(e,a,s,o),s6(e,e.mapping.slice(o).map(s,1),n,void 0,u===null);let c=e.mapping.slice(o),d=c.map(s,1),f=c.map(s+a.nodeSize,1);return e.step(new no(d,f,d+1,f-1,new he(X.from(n.create(l,null,a.marks)),0,0),1,!0)),u===!0&&k$(e,a,s,o),!1}})}function k$(e,t,r,n){t.forEach((i,o)=>{if(i.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(i.text);){let l=e.mapping.slice(n).map(r+1+o+a.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function A$(e,t,r,n){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(n).map(r+1+o);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function qhe(e,t,r){let n=e.resolve(t),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function Khe(e,t,r,n,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");r||(r=o.type);let a=r.create(n,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,a);if(!r.validContent(o.content))throw new RangeError("Invalid content for node type "+r.name);e.step(new no(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new he(X.from(a),0,0),1,!0))}function Yl(e,t,r=1,n){let i=e.resolve(t),o=i.depth-r,a=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=r-2;u>o;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=n&&n[c+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let m=n&&n[c]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(h))return!1}let s=i.indexAfter(o),l=n&&n[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function Yhe(e,t,r=1,n){let i=e.doc.resolve(t),o=X.empty,a=X.empty;for(let s=i.depth,l=i.depth-r,u=r-1;s>l;s--,u--){o=X.from(i.node(s).copy(o));let c=n&&n[u];a=X.from(c?c.type.create(c.attrs,a):i.node(s).copy(a))}e.step(new Xa(t,t,new he(o.append(a),r,r),!0))}function _c(e,t){let r=e.resolve(t),n=r.index();return T$(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function Ghe(e,t){t.content.size||e.type.compatibleContent(t.type);let r=e.contentMatchAt(e.childCount),{linebreakReplacement:n}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),a=o.type==n?e.type.schema.nodes.text:o.type;if(r=r.matchType(a),!r||!e.type.allowsMarks(o.marks))return!1}return r.validEnd}function T$(e,t){return!!(e&&t&&!e.isLeaf&&Ghe(e,t))}function RE(e,t,r=-1){let n=e.resolve(t);for(let i=n.depth;;i--){let o,a,s=n.index(i);if(i==n.depth?(o=n.nodeBefore,a=n.nodeAfter):r>0?(o=n.node(i+1),s++,a=n.node(i).maybeChild(s)):(o=n.node(i).maybeChild(s-1),a=n.node(i+1)),o&&!o.isTextblock&&T$(o,a)&&n.node(i).canReplace(s,s+1))return t;if(i==0)break;t=r<0?n.before(i):n.after(i)}}function Jhe(e,t,r){let n=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-r),a=o.node().type;if(i&&a.inlineContent){let c=a.whitespace=="pre",d=!!a.contentMatch.matchType(i);c&&!d?n=!1:!c&&d&&(n=!0)}let s=e.steps.length;if(n===!1){let c=e.doc.resolve(t+r);A$(e,c.node(),c.before(),s)}a.inlineContent&&s6(e,t+r-1,a,o.node().contentMatchAt(o.index()),n==null);let l=e.mapping.slice(s),u=l.map(t-r);if(e.step(new Xa(u,l.map(t+r,-1),he.empty,!0)),n===!0){let c=e.doc.resolve(u);k$(e,c.node(),c.before(),e.steps.length)}return e}function Qhe(e,t,r){let n=e.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),r))return t;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let o=n.index(i);if(n.node(i).canReplaceWith(o,o,r))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let o=n.indexAfter(i);if(n.node(i).canReplaceWith(o,o,r))return n.after(i+1);if(o<n.node(i).childCount)return null}return null}function u6(e,t,r){let n=e.resolve(t);if(!r.content.size)return t;let i=r.content;for(let o=0;o<r.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(r.openStart==0&&r.size?2:1);o++)for(let a=n.depth;a>=0;a--){let s=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,l=n.index(a)+(s>0?1:0),u=n.node(a),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return s==0?n.pos:s<0?n.before(a+1):n.after(a+1)}return null}function ME(e,t,r=t,n=he.empty){if(t==r&&!n.size)return null;let i=e.resolve(t),o=e.resolve(r);return D$(i,o,n)?new Xa(t,r,n):new Xhe(i,o,n).fit()}function D$(e,t,r){return!r.openStart&&!r.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),r.content)}var Xhe=class{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=X.empty;for(let n=0;n<=e.depth;n++){let i=e.node(n);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(n))})}for(let n=e.depth;n>0;n--)this.placed=X.from(e.node(n).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let l=this.findFittable();l?this.placeNodes(l):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,n=this.close(e<0?this.$to:r.doc.resolve(e));if(!n)return null;let i=this.placed,o=r.depth,a=n.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let s=new he(i,o,a);return e>-1?new no(r.pos,e,this.$to.pos,this.$to.end(),s,t):s.size||r.pos!=this.$to.pos?new Xa(r.pos,n.pos,s):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,n=this.unplaced.openEnd;r<e;r++){let i=t.firstChild;if(t.childCount>1&&(n=0),i.type.spec.isolating&&n<=r){e=r;break}t=i.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let n,i=null;r?(i=p4(this.unplaced.content,r-1).firstChild,n=i.content):n=this.unplaced.content;let o=n.firstChild;for(let a=this.depth;a>=0;a--){let{type:s,match:l}=this.frontier[a],u,c=null;if(t==1&&(o?l.matchType(o.type)||(c=l.fillBefore(X.from(o),!1)):i&&s.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:c};if(t==2&&o&&(u=l.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&l.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,n=p4(e,t);return!n.childCount||n.firstChild.isLeaf?!1:(this.unplaced=new he(e,t+1,Math.max(r,n.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,n=p4(e,t);if(n.childCount<=1&&t>0){let i=e.size-t<=t+n.size;this.unplaced=new he(iv(e,t-1,1),t-1,i?t-1:r)}else this.unplaced=new he(iv(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:n,wrap:i}){for(;this.depth>t;)this.closeFrontierNode();if(i)for(let p=0;p<i.length;p++)this.openFrontierNode(i[p]);let o=this.unplaced,a=r?r.content:o.content,s=o.openStart-e,l=0,u=[],{match:c,type:d}=this.frontier[t];if(n){for(let p=0;p<n.childCount;p++)u.push(n.child(p));c=c.matchFragment(n)}let f=a.size+e-(o.content.size-o.openEnd);for(;l<a.childCount;){let p=a.child(l),m=c.matchType(p.type);if(!m)break;l++,(l>1||s==0||p.content.size)&&(c=m,u.push(I$(p.mark(d.allowedMarks(p.marks)),l==1?s:0,l==a.childCount?f:-1)))}let h=l==a.childCount;h||(f=-1),this.placed=ov(this.placed,t,X.from(u)),this.frontier[t].match=c,h&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let p=0,m=a;p<f;p++){let v=m.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),m=v.content}this.unplaced=h?e==0?he.empty:new he(iv(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new he(iv(o.content,e,l),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!m4(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,n=this.$to.after(r);for(;r>1&&n==this.$to.end(--r);)++n;return n}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:n}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=m4(e,t,n,r,i);if(o){for(let a=t-1;a>=0;a--){let{match:s,type:l}=this.frontier[a],u=m4(e,a,l,s,!0);if(!u||u.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ov(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let n=e.node(r),i=n.type.contentMatch.fillBefore(n.content,!0,e.index(r));this.openFrontierNode(n.type,n.attrs,i)}return e}openFrontierNode(e,t=null,r){let n=this.frontier[this.depth];n.match=n.match.matchType(e),this.placed=ov(this.placed,this.depth,X.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(X.empty,!0);t.childCount&&(this.placed=ov(this.placed,this.frontier.length,t))}};function iv(e,t,r){return t==0?e.cutByIndex(r,e.childCount):e.replaceChild(0,e.firstChild.copy(iv(e.firstChild.content,t-1,r)))}function ov(e,t,r){return t==0?e.append(r):e.replaceChild(e.childCount-1,e.lastChild.copy(ov(e.lastChild.content,t-1,r)))}function p4(e,t){for(let r=0;r<t;r++)e=e.firstChild.content;return e}function I$(e,t,r){if(t<=0)return e;let n=e.content;return t>1&&(n=n.replaceChild(0,I$(n.firstChild,t-1,n.childCount==1?r-1:0))),t>0&&(n=e.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(e.type.contentMatch.matchFragment(n).fillBefore(X.empty,!0)))),e.copy(n)}function m4(e,t,r,n,i){let o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!r.compatibleContent(o.type))return null;let s=n.fillBefore(o.content,!0,a);return s&&!Zhe(r,o.content,a)?s:null}function Zhe(e,t,r){for(let n=r;n<t.childCount;n++)if(!e.allowsMarks(t.child(n).marks))return!0;return!1}function epe(e){return e.spec.defining||e.spec.definingForContent}function tpe(e,t,r,n){if(!n.size)return e.deleteRange(t,r);let i=e.doc.resolve(t),o=e.doc.resolve(r);if(D$(i,o,n))return e.step(new Xa(t,r,n));let a=R$(i,e.doc.resolve(r));a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;a.indexOf(f)>-1?s=f:i.before(f)==h&&a.splice(1,0,-f)}let l=a.indexOf(s),u=[],c=n.openStart;for(let f=n.content,h=0;;h++){let p=f.firstChild;if(u.push(p),h==n.openStart)break;f=p.content}for(let f=c-1;f>=0;f--){let h=u[f],p=epe(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(s)-1)))c=f;else if(p||!h.type.isTextblock)break}for(let f=n.openStart;f>=0;f--){let h=(f+c+1)%(n.openStart+1),p=u[h];if(p)for(let m=0;m<a.length;m++){let v=a[(m+l)%a.length],g=!0;v<0&&(g=!1,v=-v);let y=i.node(v-1),b=i.index(v-1);if(y.canReplaceWith(b,b,p.type,p.marks))return e.replace(i.before(v),g?o.after(v):r,new he(F$(n.content,0,n.openStart,h),h,n.openEnd))}}let d=e.steps.length;for(let f=a.length-1;f>=0&&(e.replace(t,r,n),!(e.steps.length>d));f--){let h=a[f];h<0||(t=i.before(h),r=o.after(h))}}function F$(e,t,r,n,i){if(t<r){let o=e.firstChild;e=e.replaceChild(0,o.copy(F$(o.content,t+1,r,n,o)))}if(t>n){let o=i.contentMatchAt(0),a=o.fillBefore(e).append(e);e=a.append(o.matchFragment(a).fillBefore(X.empty,!0))}return e}function rpe(e,t,r,n){if(!n.isInline&&t==r&&e.doc.resolve(t).parent.content.size){let i=Qhe(e.doc,t,n.type);i!=null&&(t=r=i)}e.replaceRange(t,r,new he(X.from(n),0,0))}function npe(e,t,r){let n=e.doc.resolve(t),i=e.doc.resolve(r),o=R$(n,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return e.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return e.delete(n.before(s),i.after(s))}for(let a=1;a<=n.depth&&a<=i.depth;a++)if(t-n.start(a)==n.depth-a&&r>n.end(a)&&i.end(a)-r!=i.depth-a&&n.start(a-1)==i.start(a-1)&&n.node(a-1).canReplace(n.index(a-1),i.index(a-1)))return e.delete(n.before(a),r);e.delete(t,r)}function R$(e,t){let r=[],n=Math.min(e.depth,t.depth);for(let i=n;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&r.push(i)}return r}var M$=class gE extends si{constructor(t,r,n){super(),this.pos=t,this.attr=r,this.value=n}apply(t){let r=t.nodeAt(this.pos);if(!r)return Ii.fail("No node at attribute step's position");let n=Object.create(null);for(let o in r.attrs)n[o]=r.attrs[o];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return Ii.fromReplace(t,this.pos,this.pos+1,new he(X.from(i),0,r.isLeaf?0:1))}getMap(){return sf.empty}invert(t){return new gE(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new gE(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new gE(r.pos,r.attr,r.value)}};si.jsonID("attr",M$);var _$=class z4 extends si{constructor(t,r){super(),this.attr=t,this.value=r}apply(t){let r=Object.create(null);for(let i in t.attrs)r[i]=t.attrs[i];r[this.attr]=this.value;let n=t.type.create(r,t.content,t.marks);return Ii.ok(n)}getMap(){return sf.empty}invert(t){return new z4(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new z4(r.attr,r.value)}};si.jsonID("docAttr",_$);var qp=class extends Error{};qp=function e(t){let r=Error.call(this,t);return r.__proto__=e.prototype,r};qp.prototype=Object.create(Error.prototype);qp.prototype.constructor=qp;qp.prototype.name="TransformError";var c6=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Phe}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new qp(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=he.empty){let n=ME(this.doc,e,t,r);return n&&this.step(n),this}replaceWith(e,t,r){return this.replace(e,t,new he(X.from(r),0,0))}delete(e,t){return this.replace(e,t,he.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return tpe(this,e,t,r),this}replaceRangeWith(e,t,r){return rpe(this,e,t,r),this}deleteRange(e,t){return npe(this,e,t),this}lift(e,t){return Hhe(this,e,t),this}join(e,t=1){return Jhe(this,e,t),this}wrap(e,t){return Uhe(this,e,t),this}setBlockType(e,t=e,r,n=null){return Whe(this,e,t,r,n),this}setNodeMarkup(e,t,r=null,n){return Khe(this,e,t,r,n),this}setNodeAttribute(e,t,r){return this.step(new M$(e,t,r)),this}setDocAttribute(e,t){return this.step(new _$(e,t)),this}addNodeMark(e,t){return this.step(new o6(e,t)),this}removeNodeMark(e,t){if(!(t instanceof qt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new a6(e,t)),this}split(e,t=1,r){return Yhe(this,e,t,r),this}addMark(e,t,r){return Lhe(this,e,t,r),this}removeMark(e,t,r){return zhe(this,e,t,r),this}clearIncompatible(e,t,r){return s6(this,e,t,r),this}},g4=Object.create(null),Le=class{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new d6(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=he.empty){let r=t.content.lastChild,n=null;for(let a=0;a<t.openEnd;a++)n=r,r=r.lastChild;let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:s,$to:l}=o[a],u=e.mapping.slice(i);e.replaceRange(u.map(s.pos),u.map(l.pos),a?he.empty:t),a==0&&oj(e,i,(r?r.isInline:n&&n.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,n=this.ranges;for(let i=0;i<n.length;i++){let{$from:o,$to:a}=n[i],s=e.mapping.slice(r),l=s.map(o.pos),u=s.map(a.pos);i?e.deleteRange(l,u):(e.replaceRangeWith(l,u,t),oj(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let n=e.parent.inlineContent?new Ne(e):Vp(e.node(0),e.parent,e.pos,e.index(),t,r);if(n)return n;for(let i=e.depth-1;i>=0;i--){let o=t<0?Vp(e.node(0),e.node(i),e.before(i+1),e.index(i),t,r):Vp(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Us(e.node(0))}static atStart(e){return Vp(e,e,0,0,1)||new Us(e)}static atEnd(e){return Vp(e,e,e.content.size,e.childCount,-1)||new Us(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=g4[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in g4)throw new RangeError("Duplicate use of selection JSON ID "+e);return g4[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Ne.between(this.$anchor,this.$head).getBookmark()}};Le.prototype.visible=!0;var d6=class{constructor(e,t){this.$from=e,this.$to=t}},nj=!1;function ij(e){!nj&&!e.parent.inlineContent&&(nj=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}var Ne=class av extends Le{constructor(t,r=t){ij(t),ij(r),super(t,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,r){let n=t.resolve(r.map(this.head));if(!n.parent.inlineContent)return Le.near(n);let i=t.resolve(r.map(this.anchor));return new av(i.parent.inlineContent?i:n,n)}replace(t,r=he.empty){if(super.replace(t,r),r==he.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof av&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new O$(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new av(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,n=r){let i=t.resolve(r);return new this(i,n==r?i:t.resolve(n))}static between(t,r,n){let i=t.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let o=Le.findFrom(r,n,!0)||Le.findFrom(r,-n,!0);if(o)r=o.$head;else return Le.near(r,n)}return t.parent.inlineContent||(i==0?t=r:(t=(Le.findFrom(t,-n,!0)||Le.findFrom(t,n,!0)).$anchor,t.pos<r.pos!=i<0&&(t=r))),new av(t,r)}};Le.jsonID("text",Ne);var O$=class B${constructor(t,r){this.anchor=t,this.head=r}map(t){return new B$(t.map(this.anchor),t.map(this.head))}resolve(t){return Ne.between(t.resolve(this.anchor),t.resolve(this.head))}},Be=class sv extends Le{constructor(t){let r=t.nodeAfter,n=t.node(0).resolve(t.pos+r.nodeSize);super(t,n),this.node=r}map(t,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),o=t.resolve(i);return n?Le.near(o):new sv(o)}content(){return new he(X.from(this.node),0,0)}eq(t){return t instanceof sv&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ipe(this.anchor)}static fromJSON(t,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new sv(t.resolve(r.anchor))}static create(t,r){return new sv(t.resolve(r))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};Be.prototype.visible=!1;Le.jsonID("node",Be);var ipe=class N${constructor(t){this.anchor=t}map(t){let{deleted:r,pos:n}=t.mapResult(this.anchor);return r?new O$(n,n):new N$(n)}resolve(t){let r=t.resolve(this.anchor),n=r.nodeAfter;return n&&Be.isSelectable(n)?new Be(r):Le.near(r)}},Us=class vE extends Le{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,r=he.empty){if(r==he.empty){t.delete(0,t.doc.content.size);let n=Le.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,r)}toJSON(){return{type:"all"}}static fromJSON(t){return new vE(t)}map(t){return new vE(t)}eq(t){return t instanceof vE}getBookmark(){return ope}};Le.jsonID("all",Us);var ope={map(){return this},resolve(e){return new Us(e)}};function Vp(e,t,r,n,i,o=!1){if(t.inlineContent)return Ne.create(e,r);for(let a=n-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let s=t.child(a);if(s.isAtom){if(!o&&Be.isSelectable(s))return Be.create(e,r-(i<0?s.nodeSize:0))}else{let l=Vp(e,s,r+i,i<0?s.childCount:0,i,o);if(l)return l}r+=s.nodeSize*i}return null}function oj(e,t,r){let n=e.steps.length-1;if(n<t)return;let i=e.steps[n];if(!(i instanceof Xa||i instanceof no))return;let o=e.mapping.maps[n],a;o.forEach((s,l,u,c)=>{a==null&&(a=c)}),e.setSelection(Le.near(e.doc.resolve(a),r))}var aj=1,aE=2,sj=4,ape=class extends c6{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|aj)&~aE,this.storedMarks=null,this}get selectionSet(){return(this.updated&aj)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=aE,this}ensureMarks(e){return qt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&aE)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~aE,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||qt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let n=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(n.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(t);i=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,n.text(e,i)),this.selection.empty||this.setSelection(Le.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=sj,this}get scrolledIntoView(){return(this.updated&sj)>0}};function lj(e,t){return!t||!e?e:e.bind(t)}var lv=class{constructor(e,t,r){this.name=e,this.init=lj(t.init,r),this.apply=lj(t.apply,r)}},spe=[new lv("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new lv("selection",{init(e,t){return e.selection||Le.atStart(t.doc)},apply(e){return e.selection}}),new lv("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,r,n){return n.selection.$cursor?e.storedMarks:null}}),new lv("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})],v4=class{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=spe.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new lv(r.key,r.spec.state,r))})}},lpe=class uv{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let r=[t],n=this.applyInner(t),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,u=i?i[a].state:this,c=l<r.length&&s.spec.appendTransaction.call(s,l?r.slice(l):r,u,n);if(c&&n.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<a?{state:n,n:r.length}:{state:this,n:0})}r.push(c),n=n.applyInner(c),o=!0}i&&(i[a]={state:n,n:r.length})}}if(!o)return{state:n,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new uv(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let o=n[i];r[o.name]=o.apply(t,this[o.name],this,r)}return r}get tr(){return new ape(this)}static create(t){let r=new v4(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new uv(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(t,n);return n}reconfigure(t){let r=new v4(this.schema,t.plugins),n=r.fields,i=new uv(r);for(let o=0;o<n.length;o++){let a=n[o].name;i[a]=this.hasOwnProperty(a)?this[a]:n[o].init(t,i)}return i}toJSON(t){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[n],o=i.spec.state;o&&o.toJSON&&(r[n]=o.toJSON.call(i,this[i.key]))}return r}static fromJSON(t,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new v4(t.schema,t.plugins),o=new uv(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Fc.fromJSON(t.schema,r.doc);else if(a.name=="selection")o.selection=Le.fromJSON(o.doc,r.selection);else if(a.name=="storedMarks")r.storedMarks&&(o.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,s)){o[a.name]=u.fromJSON.call(l,t,r[s],o);return}}o[a.name]=a.init(t,o)}}),o}};function P$(e,t,r){for(let n in e){let i=e[n];i instanceof Function?i=i.bind(t):n=="handleDOMEvents"&&(i=P$(i,t,{})),r[n]=i}return r}var Ur=class{constructor(e){this.spec=e,this.props={},e.props&&P$(e.props,this,this.props),this.key=e.key?e.key.key:L$("plugin")}getState(e){return e[this.key]}},y4=Object.create(null);function L$(e){return e in y4?e+"$"+ ++y4[e]:(y4[e]=0,e+"$")}var xn=class{constructor(e="key"){this.key=L$(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}},Nn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},bv=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t},V4=null,Wl=function(e,t,r){let n=V4||(V4=document.createRange());return n.setEnd(e,r??e.nodeValue.length),n.setStart(e,t||0),n},upe=function(){V4=null},lf=function(e,t,r,n){return r&&(uj(e,t,r,n,-1)||uj(e,t,r,n,1))},cpe=/^(img|br|input|textarea|hr)$/i;function uj(e,t,r,n,i){for(;;){if(e==r&&t==n)return!0;if(t==(i<0?0:la(e))){let o=e.parentNode;if(!o||o.nodeType!=1||Dv(e)||cpe.test(e.nodeName)||e.contentEditable=="false")return!1;t=Nn(e)+(i<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?la(e):0}else return!1}}function la(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function dpe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=la(e)}else if(e.parentNode&&!Dv(e))t=Nn(e),e=e.parentNode;else return null}}function fpe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Dv(e))t=Nn(e)+1,e=e.parentNode;else return null}}function hpe(e,t,r){for(let n=t==0,i=t==la(e);n||i;){if(e==r)return!0;let o=Nn(e);if(e=e.parentNode,!e)return!1;n=n&&o==0,i=i&&o==la(e)}}function Dv(e){let t;for(let r=e;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var _E=function(e){return e.focusNode&&lf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Zd(e,t){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=e,r.key=r.code=t,r}function ppe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function mpe(e,t,r){if(e.caretPositionFromPoint)try{let n=e.caretPositionFromPoint(t,r);if(n)return{node:n.offsetNode,offset:Math.min(la(n.offsetNode),n.offset)}}catch{}if(e.caretRangeFromPoint){let n=e.caretRangeFromPoint(t,r);if(n)return{node:n.startContainer,offset:Math.min(la(n.startContainer),n.startOffset)}}}var Ws=typeof navigator<"u"?navigator:null,cj=typeof document<"u"?document:null,Oc=Ws&&Ws.userAgent||"",H4=/Edge\/(\d+)/.exec(Oc),z$=/MSIE \d/.exec(Oc),j4=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Oc),ro=!!(z$||j4||H4),Rc=z$?document.documentMode:j4?+j4[1]:H4?+H4[1]:0,Za=!ro&&/gecko\/(\d+)/i.test(Oc);Za&&+(/Firefox\/(\d+)/.exec(Oc)||[0,0])[1];var $4=!ro&&/Chrome\/(\d+)/.exec(Oc),ai=!!$4,V$=$4?+$4[1]:0,Ri=!ro&&!!Ws&&/Apple Computer/.test(Ws.vendor),Kp=Ri&&(/Mobile\/\w+/.test(Oc)||!!Ws&&Ws.maxTouchPoints>2),sa=Kp||(Ws?/Mac/.test(Ws.platform):!1),gpe=Ws?/Win/.test(Ws.platform):!1,ql=/Android \d/.test(Oc),Iv=!!cj&&"webkitFontSmoothing"in cj.documentElement.style,vpe=Iv?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ype(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Ul(e,t){return typeof e=="number"?e:e[t]}function wpe(e){let t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,n=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*r,top:t.top,bottom:t.top+e.clientHeight*n}}function dj(e,t,r){let n=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let a=r||e.dom;a;a=bv(a)){if(a.nodeType!=1)continue;let s=a,l=s==o.body,u=l?ype(o):wpe(s),c=0,d=0;if(t.top<u.top+Ul(n,"top")?d=-(u.top-t.top+Ul(i,"top")):t.bottom>u.bottom-Ul(n,"bottom")&&(d=t.bottom-t.top>u.bottom-u.top?t.top+Ul(i,"top")-u.top:t.bottom-u.bottom+Ul(i,"bottom")),t.left<u.left+Ul(n,"left")?c=-(u.left-t.left+Ul(i,"left")):t.right>u.right-Ul(n,"right")&&(c=t.right-u.right+Ul(i,"right")),c||d)if(l)o.defaultView.scrollBy(c,d);else{let f=s.scrollLeft,h=s.scrollTop;d&&(s.scrollTop+=d),c&&(s.scrollLeft+=c);let p=s.scrollLeft-f,m=s.scrollTop-h;t={left:t.left-p,top:t.top-m,right:t.right-p,bottom:t.bottom-m}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function bpe(e){let t=e.dom.getBoundingClientRect(),r=Math.max(0,t.top),n,i;for(let o=(t.left+t.right)/2,a=r+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=e.root.elementFromPoint(o,a);if(!s||s==e.dom||!e.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=r-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:H$(e.dom)}}function H$(e){let t=[],r=e.ownerDocument;for(let n=e;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),e!=r);n=bv(n));return t}function xpe({refDOM:e,refTop:t,stack:r}){let n=e?e.getBoundingClientRect().top:0;j$(r,n==0?0:n-t)}function j$(e,t){for(let r=0;r<e.length;r++){let{dom:n,top:i,left:o}=e[r];n.scrollTop!=i+t&&(n.scrollTop=i+t),n.scrollLeft!=o&&(n.scrollLeft=o)}}var Np=null;function Epe(e){if(e.setActive)return e.setActive();if(Np)return e.focus(Np);let t=H$(e);e.focus(Np==null?{get preventScroll(){return Np={preventScroll:!0},!0}}:void 0),Np||(Np=!1,j$(t,0))}function $$(e,t){let r,n=2e8,i,o=0,a=t.top,s=t.top,l,u;for(let c=e.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Wl(c).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);let m=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(m<n){r=c,n=m,i=m&&r.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,c.nodeType==1&&m&&(o=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!l&&p.left<=t.left&&p.right>=t.left&&(l=c,u={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!r&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(o=d+1)}}return!r&&l&&(r=l,i=u,n=0),r&&r.nodeType==3?Spe(r,i):!r||n&&r.nodeType==1?{node:e,offset:o}:$$(r,i)}function Spe(e,t){let r=e.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(e,i+1),n.setStart(e,i);let o=kc(n,1);if(o.top!=o.bottom&&f6(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function f6(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Cpe(e,t){let r=e.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<e.getBoundingClientRect().left?r:e}function kpe(e,t,r){let{node:n,offset:i}=$$(t,r),o=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();o=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(n,i,o)}function Ape(e,t,r,n){let i=-1;for(let o=t,a=!1;o!=e.dom;){let s=e.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&(!a&&l.left>n.left||l.top>n.top?i=s.posBefore:(!a&&l.right<n.left||l.bottom<n.top)&&(i=s.posAfter),a=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,r,-1)}function U$(e,t,r){let n=e.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-r.top)/(r.bottom-r.top))-2)),o=i;;){let a=e.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(f6(t,u))return U$(a,t,u)}}if((o=(o+1)%n)==i)break}return e}function Tpe(e,t){let r=e.dom.ownerDocument,n,i=0,o=mpe(r,t.left,t.top);o&&({node:n,offset:i}=o);let a=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top),s;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=e.dom.getBoundingClientRect();if(!f6(t,u)||(a=U$(e.dom,t,u),!a))return null}if(Ri)for(let u=a;n&&u;u=bv(u))u.draggable&&(n=void 0);if(a=Cpe(a,t),n){if(Za&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let c=n.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let u;Iv&&i&&n.nodeType==1&&(u=n.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&i--,n==e.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(s=Ape(e,n,i,t))}s==null&&(s=kpe(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function fj(e){return e.top<e.bottom||e.left<e.right}function kc(e,t){let r=e.getClientRects();if(r.length){let n=r[t<0?0:r.length-1];if(fj(n))return n}return Array.prototype.find.call(r,fj)||e.getBoundingClientRect()}var Dpe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function W$(e,t,r){let{node:n,offset:i,atom:o}=e.docView.domFromPos(t,r<0?-1:1),a=Iv||Za;if(n.nodeType==3)if(a&&(Dpe.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=kc(Wl(n,i,i),r);if(Za&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let u=kc(Wl(n,i-1,i-1),-1);if(u.top==l.top){let c=kc(Wl(n,i,i+1),-1);if(c.top!=l.top)return Zg(c,c.left<u.left)}}return l}else{let l=i,u=i,c=r<0?1:-1;return r<0&&!i?(u++,c=-1):r>=0&&i==n.nodeValue.length?(l--,c=1):r<0?l--:u++,Zg(kc(Wl(n,l,u),c),c<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(r<0||i==la(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return w4(l.getBoundingClientRect(),!1)}if(o==null&&i<la(n)){let l=n.childNodes[i];if(l.nodeType==1)return w4(l.getBoundingClientRect(),!0)}return w4(n.getBoundingClientRect(),r>=0)}if(o==null&&i&&(r<0||i==la(n))){let l=n.childNodes[i-1],u=l.nodeType==3?Wl(l,la(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Zg(kc(u,1),!1)}if(o==null&&i<la(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Wl(l,0,a?0:1):l.nodeType==1?l:null:null;if(u)return Zg(kc(u,-1),!0)}return Zg(kc(n.nodeType==3?Wl(n):n,-r),r>=0)}function Zg(e,t){if(e.width==0)return e;let r=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:r,right:r}}function w4(e,t){if(e.height==0)return e;let r=t?e.top:e.bottom;return{top:r,bottom:r,left:e.left,right:e.right}}function q$(e,t,r){let n=e.state,i=e.root.activeElement;n!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return r()}finally{n!=t&&e.updateState(n),i!=e.dom&&i&&i.focus()}}function Ipe(e,t,r){let n=t.selection,i=r=="up"?n.$from:n.$to;return q$(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let s=e.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=W$(e,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Wl(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(r=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}var Fpe=/[\u0590-\u08ac]/;function Rpe(e,t,r){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,o=!i,a=i==n.parent.content.size,s=e.domSelection();return s?!Fpe.test(n.parent.textContent)||!s.modify?r=="left"||r=="backward"?o:a:q$(e,t,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=e.domSelectionRange(),f=s.caretBidiLevel;s.modify("move",r,"character");let h=n.depth?e.docView.domAfterPos(n.before()):e.dom,{focusNode:p,focusOffset:m}=e.domSelectionRange(),v=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&u==m;try{s.collapse(c,d),l&&(l!=c||u!=d)&&s.extend&&s.extend(l,u)}catch{}return f!=null&&(s.caretBidiLevel=f),v}):n.pos==n.start()||n.pos==n.end()}var hj=null,pj=null,mj=!1;function Mpe(e,t,r){return hj==t&&pj==r?mj:(hj=t,pj=r,mj=r=="up"||r=="down"?Ipe(e,t,r):Rpe(e,t,r))}var ua=0,gj=1,ef=2,qs=3,Fv=class{constructor(e,t,r,n){this.parent=e,this.children=t,this.dom=r,this.contentDOM=n,this.dirty=ua,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let n=this.children[t];if(n==e)return r;r+=n.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,o;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let n;if(e==this.dom&&this.contentDOM)n=t>Nn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))n=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let i=e;;i=i.parentNode){if(i==this.dom){n=!1;break}if(i.previousSibling)break}if(n==null&&t==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){n=!0;break}if(i.nextSibling)break}}return n??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,n=e;n;n=n.parentNode){let i=this.getDesc(n),o;if(i&&(!t||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return i}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let n=e;n;n=n.parentNode){let i=this.getDesc(n);if(i)return i.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let n=this.children[t],i=r+n.size;if(r==e&&i!=r){for(;!n.border&&n.children.length;)n=n.children[0];return n}if(e<i)return n.descAt(e-r-n.border);r=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,n=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],a=i+o.size;if(a>e||o instanceof Q$){n=e-i;break}i=a}if(n)return this.children[r].domFromPos(n-this.children[r].border,t);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof K$&&i.side>=0;r--);if(t<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&t&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,t):{node:this.contentDOM,offset:i?Nn(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,t):{node:this.contentDOM,offset:i?Nn(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let n=-1,i=-1;for(let o=r,a=0;;a++){let s=this.children[a],l=o+s.size;if(n==-1&&e<=l){let u=o+s.border;if(e>=u&&t<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,u);e=o;for(let c=a;c>0;c--){let d=this.children[c-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){n=Nn(d.dom)+1;break}e-=d.size}n==-1&&(n=0)}if(n>-1&&(l>t||a==this.children.length-1)){t=l;for(let u=a+1;u<this.children.length;u++){let c=this.children[u];if(c.size&&c.dom.parentNode==this.contentDOM&&!c.emptyChildAt(-1)){i=Nn(c.dom);break}t+=c.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:e,to:t,fromOffset:n,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,n=!1){let i=Math.min(e,t),o=Math.max(e,t);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],m=h+p.size;if(i>h&&o<m)return p.setSelection(e-h-p.border,t-h-p.border,r,n);h=m}let a=this.domFromPos(e,e?-1:1),s=t==e?a:this.domFromPos(t,t?-1:1),l=r.root.getSelection(),u=r.domSelectionRange(),c=!1;if((Za||Ri)&&e==t){let{node:f,offset:h}=a;if(f.nodeType==3){if(c=!!(h&&f.nodeValue[h-1]==`
`),c&&h==f.nodeValue.length)for(let p=f,m;p;p=p.parentNode){if(m=p.nextSibling){m.nodeName=="BR"&&(a=s={node:m.parentNode,offset:Nn(m)+1});break}let v=p.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let p=f.childNodes[h-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Za&&u.focusNode&&u.focusNode!=s.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(n=!0)}if(!(n||c&&Ri)&&lf(a.node,a.offset,u.anchorNode,u.anchorOffset)&&lf(s.node,s.offset,u.focusNode,u.focusOffset))return;let d=!1;if((l.extend||e==t)&&!c){l.collapse(a.node,a.offset);try{e!=t&&l.extend(s.node,s.offset),d=!0}catch{}}if(!d){if(e>t){let h=a;a=s,s=h}let f=document.createRange();f.setEnd(s.node,s.offset),f.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,n=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let a=r+i.border,s=o-i.border;if(e>=a&&t<=s){this.dirty=e==r||t==o?ef:gj,e==a&&t==s&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=qs:i.markDirty(e-a,t-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?ef:qs}r=o}this.dirty=ef}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?ef:gj;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}},K$=class extends Fv{constructor(e,t,r,n){let i,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return n;if(i.parent)return i.parent.posBeforeChild(i)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return this.dirty==ua&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},_pe=class extends Fv{constructor(e,t,r,n){super(e,[],t,null),this.textDOM=r,this.text=n}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}},SE=class U4 extends Fv{constructor(t,r,n,i,o){super(t,[],n,i),this.mark=r,this.spec=o}static create(t,r,n,i){let o=i.nodeViews[r.type.name],a=o&&o(r,i,n);return(!a||!a.dom)&&(a=Av.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new U4(t,r,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&qs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=qs&&this.mark.eq(t)}markDirty(t,r){if(super.markDirty(t,r),this.dirty!=ua){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=ua}}slice(t,r,n){let i=U4.create(this.parent,this.mark,!0,n),o=this.children,a=this.size;r<a&&(o=q4(o,r,a,n)),t>0&&(o=q4(o,0,t,n));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},Up=class Y$ extends Fv{constructor(t,r,n,i,o,a,s,l,u){super(t,[],o,a),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s}static create(t,r,n,i,o,a){let s=o.nodeViews[r.type.name],l,u=s&&s(r,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},n,i),c=u&&u.dom,d=u&&u.contentDOM;if(r.isText){if(!c)c=document.createTextNode(r.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=Av.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!d&&!r.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),r.type.spec.draggable&&(c.draggable=!0));let f=c;return c=eU(c,n,r),u?l=new Ope(t,r,n,i,c,d||null,f,u,o,a+1):r.isText?new G$(t,r,n,i,c,f,o):new Y$(t,r,n,i,c,d||null,f,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>X.empty)}return t}matchesNode(t,r,n){return this.dirty==ua&&t.eq(this.node)&&CE(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,r){let n=this.node.inlineContent,i=r,o=t.composing?this.localCompositionInfo(t,r):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new Npe(this,a&&a.node,t);zpe(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,t):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?qt.none:this.node.child(c).marks,n,t),l.placeWidget(u,t,i)},(u,c,d,f)=>{l.syncToMarks(u.marks,n,t);let h;l.findNodeMatch(u,c,d,f)||s&&t.state.selection.from>i&&t.state.selection.to<i+u.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,d,h,t)||l.updateNextNode(u,c,d,t,f,i)||l.addNode(u,c,d,t,i),i+=u.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ef)&&(a&&this.protectLocalComposition(t,a),X$(this.contentDOM,this.children,t),Kp&&Vpe(this.dom))}localCompositionInfo(t,r){let{from:n,to:i}=t.state.selection;if(!(t.state.selection instanceof Ne)||n<r||i>r+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=Hpe(this.node.content,a,n-r,i-r);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let o=r;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new _pe(this,o,r,i);t.input.compositionNodes.push(a),this.children=q4(this.children,n,n+i.length,t,a)}update(t,r,n,i){return this.dirty==qs||!t.sameMarkup(this.node)?!1:(this.updateInner(t,r,n,i),!0)}updateInner(t,r,n,i){this.updateOuterDeco(r),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ua}updateOuterDeco(t){if(CE(t,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=Z$(this.dom,this.nodeDOM,W4(this.outerDeco,this.node,r),W4(t,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function vj(e,t,r,n,i){eU(n,t,e);let o=new Up(void 0,e,t,r,n,n,n,i,0);return o.contentDOM&&o.updateChildren(i,0),o}var G$=class J$ extends Up{constructor(t,r,n,i,o,a,s){super(t,r,n,i,o,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,r,n,i){return this.dirty==qs||this.dirty!=ua&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=ua||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=ua,!0)}inParent(){let t=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,r,n){return t==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(t,r,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,r,n){let i=this.node.cut(t,r),o=document.createTextNode(i.text);return new J$(this.parent,i,this.outerDeco,this.innerDeco,o,o,n)}markDirty(t,r){super.markDirty(t,r),this.dom!=this.nodeDOM&&(t==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=qs)}get domAtom(){return!1}isText(t){return this.node.text==t}},Q$=class extends Fv{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ua&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},Ope=class extends Up{constructor(e,t,r,n,i,o,a,s,l,u){super(e,t,r,n,i,o,a,l,u),this.spec=s}update(e,t,r,n){if(this.dirty==qs)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,t,r);return i&&this.updateInner(e,t,r,n),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,n)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,n){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,n)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};function X$(e,t,r){let n=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=n;)n=yj(n),i=!0;n=n.nextSibling}else i=!0,e.insertBefore(s,n);if(a instanceof SE){let l=n?n.previousSibling:e.lastChild;X$(a.contentDOM,a.children,r),n=l?l.nextSibling:e.firstChild}}for(;n;)n=yj(n),i=!0;i&&r.trackWrites==e&&(r.trackWrites=null)}var mv=function(e){e&&(this.nodeName=e)};mv.prototype=Object.create(null);var tf=[new mv];function W4(e,t,r){if(e.length==0)return tf;let n=r?tf[0]:new mv,i=[n];for(let o=0;o<e.length;o++){let a=e[o].type.attrs;if(a){a.nodeName&&i.push(n=new mv(a.nodeName));for(let s in a){let l=a[s];l!=null&&(r&&i.length==1&&i.push(n=new mv(t.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function Z$(e,t,r,n){if(r==tf&&n==tf)return t;let i=t;for(let o=0;o<n.length;o++){let a=n[o],s=r[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=tf[0]),i=l}Bpe(i,s||tf[0],a)}return i}function Bpe(e,t,r){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&e.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=t[n]&&e.setAttribute(n,r[n]);if(t.class!=r.class){let n=t.class?t.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)i.indexOf(n[o])==-1&&e.classList.remove(n[o]);for(let o=0;o<i.length;o++)n.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=r.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(t.style);)e.style.removeProperty(i[1])}r.style&&(e.style.cssText+=r.style)}}function eU(e,t,r){return Z$(e,e,tf,W4(t,r,e.nodeType!=1))}function CE(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].type.eq(t[r].type))return!1;return!0}function yj(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}var Npe=class{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Ppe(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let n=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;n<o&&(n==i-1?this.top:this.stack[n+1<<1]).matchesMark(e[n])&&e[n].type.spec.spanning!==!1;)n++;for(;n<i;)this.destroyRest(),this.top.dirty=ua,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let s=this.index;s<Math.min(this.index+3,this.top.children.length);s++){let l=this.top.children[s];if(l.matchesMark(e[i])&&!this.isLocked(l.dom)){a=s;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let s=SE.create(this.top,e[i],t,r);this.top.children.splice(this.index,0,s),this.top=s,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,r,n){let i=-1,o;if(n>=this.preMatch.index&&(o=this.preMatch.matches[n-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,s=Math.min(this.top.children.length,a+5);a<s;a++){let l=this.top.children[a];if(l.matchesNode(e,t,r)&&!this.preMatch.matched.has(l)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,r,n,i){let o=this.top.children[n];return o.dirty==qs&&o.dom==o.contentDOM&&(o.dirty=ef),o.update(e,t,r,i)?(this.destroyBetween(this.index,n),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let n=this.index;n<this.top.children.length;n++)if(this.top.children[n]==r)return n}return-1}e=t}}updateNextNode(e,t,r,n,i,o){for(let a=this.index;a<this.top.children.length;a++){let s=this.top.children[a];if(s instanceof Up){let l=this.preMatch.matched.get(s);if(l!=null&&l!=i)return!1;let u=s.dom,c,d=this.isLocked(u)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=qs&&CE(t,s.outerDeco));if(!d&&s.update(e,t,r,n))return this.destroyBetween(this.index,a),s.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(c=this.recreateWrapper(s,e,t,r,n,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=ef,c.updateChildren(n,o+1),c.dirty=ua),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,n,i,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!CE(r,e.outerDeco)||!n.eq(e.innerDeco))return null;let a=Up.create(this.top,t,r,n,i,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let s of a.children)s.parent=a}return e.destroy(),a}addNode(e,t,r,n,i){let o=Up.create(this.top,e,t,r,n,i);o.contentDOM&&o.updateChildren(n,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let n=this.index<this.top.children.length?this.top.children[this.index]:null;if(n&&n.matchesWidget(e)&&(e==n.widget||!n.widget.type.toDOM.parentNode))this.index++;else{let i=new K$(this.top,e,t,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof SE;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof G$)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ri||ai)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let n=new Q$(this.top,[],r,null);t!=this.top?t.children.push(n):t.children.splice(this.index++,0,n),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}};function Ppe(e,t){let r=t,n=r.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(n){let u=r.children[n-1];if(u instanceof SE)r=u,n=u.children.length;else{s=u,n--;break}}else{if(r==t)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=s.node;if(l){if(l!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function Lpe(e,t){return e.type.side-t.type.side}function zpe(e,t,r,n){let i=t.locals(e),o=0;if(i.length==0){for(let u=0;u<e.childCount;u++){let c=e.child(u);n(c,i,t.forChild(o,c),u),o+=c.nodeSize}return}let a=0,s=[],l=null;for(let u=0;;){let c,d;for(;a<i.length&&i[a].to==o;){let v=i[a++];v.widget&&(c?(d||(d=[c])).push(v):c=v)}if(c)if(d){d.sort(Lpe);for(let v=0;v<d.length;v++)r(d[v],u,!!l)}else r(c,u,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(u<e.childCount)h=u,f=e.child(u++);else break;for(let v=0;v<s.length;v++)s[v].to<=o&&s.splice(v--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let p=o+f.nodeSize;if(f.isText){let v=p;a<i.length&&i[a].from<v&&(v=i[a].from);for(let g=0;g<s.length;g++)s[g].to<v&&(v=s[g].to);v<p&&(l=f.cut(v-o),f=f.cut(0,v-o),p=v,h=-1)}else for(;a<i.length&&i[a].to<p;)a++;let m=f.isInline&&!f.isLeaf?s.filter(v=>!v.inline):s.slice();n(f,m,t.forChild(o,f),h),o=p}}function Vpe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Hpe(e,t,r,n){for(let i=0,o=0;i<e.childCount&&o<=n;){let a=e.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<e.childCount;){let u=e.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=r){if(o>=n&&l.slice(n-t.length-s,n-s)==t)return n-t.length;let u=s<n?l.lastIndexOf(t,n-s-1):-1;if(u>=0&&u+t.length+s>=r)return s+u;if(r==n&&l.length>=n+t.length-s&&l.slice(n-s,n-s+t.length)==t)return n}}return-1}function q4(e,t,r,n,i){let o=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],u=s,c=s+=l.size;u>=r||c<=t?o.push(l):(u<t&&o.push(l.slice(0,t-u,n)),i&&(o.push(i),i=void 0),c>r&&o.push(l.slice(r-u,l.size,n)))}return o}function h6(e,t=null){let r=e.domSelectionRange(),n=e.state.doc;if(!r.focusNode)return null;let i=e.docView.nearestDesc(r.focusNode),o=i&&i.size==0,a=e.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(a<0)return null;let s=n.resolve(a),l,u;if(_E(r)){for(l=a;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Be.isSelectable(d)&&i.parent&&!(d.isInline&&hpe(r.focusNode,r.focusOffset,i.dom))){let f=i.posBefore;u=new Be(a==f?s:n.resolve(f))}}else{if(r instanceof e.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let d=a,f=a;for(let h=0;h<r.rangeCount;h++){let p=r.getRangeAt(h);d=Math.min(d,e.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,e.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,a]=f==e.state.selection.anchor?[f,d]:[d,f],s=n.resolve(a)}else l=e.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let c=n.resolve(l);if(!u){let d=t=="pointer"||e.state.selection.head<s.pos&&!o?1:-1;u=p6(e,c,s,d)}return u}function tU(e){return e.editable?e.hasFocus():nU(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Gl(e,t=!1){let r=e.state.selection;if(rU(e,r),!!tU(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&ai){let n=e.domSelectionRange(),i=e.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&lf(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)$pe(e);else{let{anchor:n,head:i}=r,o,a;wj&&!(r instanceof Ne)&&(r.$from.parent.inlineContent||(o=bj(e,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(a=bj(e,r.to))),e.docView.setSelection(n,i,e,t),wj&&(o&&xj(o),a&&xj(a)),r.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&jpe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}var wj=Ri||ai&&V$<63;function bj(e,t){let{node:r,offset:n}=e.docView.domFromPos(t,0),i=n<r.childNodes.length?r.childNodes[n]:null,o=n?r.childNodes[n-1]:null;if(Ri&&i&&i.contentEditable=="false")return b4(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return b4(i);if(o)return b4(o)}}function b4(e){return e.contentEditable="true",Ri&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function xj(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function jpe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let r=e.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!tU(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function $pe(e){let t=e.domSelection(),r=document.createRange();if(!t)return;let n=e.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setStart(n.parentNode,Nn(n)+1):r.setStart(n,0),r.collapse(!0),t.removeAllRanges(),t.addRange(r),!i&&!e.state.selection.visible&&ro&&Rc<=11&&(n.disabled=!0,n.disabled=!1)}function rU(e,t){if(t instanceof Be){let r=e.docView.descAt(t.from);r!=e.lastSelectedViewDesc&&(Ej(e),r&&r.selectNode(),e.lastSelectedViewDesc=r)}else Ej(e)}function Ej(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function p6(e,t,r,n){return e.someProp("createSelectionBetween",i=>i(e,t,r))||Ne.between(t,r,n)}function Sj(e){return e.editable&&!e.hasFocus()?!1:nU(e)}function nU(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Upe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),r=e.domSelectionRange();return lf(t.node,t.offset,r.anchorNode,r.anchorOffset)}function K4(e,t){let{$anchor:r,$head:n}=e.selection,i=t>0?r.max(n):r.min(n),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Le.findFrom(o,t)}function Tc(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Cj(e,t,r){let n=e.state.selection;if(n instanceof Ne)if(r.indexOf("s")>-1){let{$head:i}=n,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return Tc(e,new Ne(n.$anchor,a))}else if(n.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=K4(e.state,t);return i&&i instanceof Be?Tc(e,i):!1}else if(!(sa&&r.indexOf("m")>-1)){let i=n.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=e.docView.descAt(s))&&!a.contentDOM?Be.isSelectable(o)?Tc(e,new Be(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):Iv?Tc(e,new Ne(e.state.doc.resolve(t<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Be&&n.node.isInline)return Tc(e,new Ne(t>0?n.$to:n.$from));{let i=K4(e.state,t);return i?Tc(e,i):!1}}}function kE(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function gv(e,t){let r=e.pmViewDesc;return r&&r.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Pp(e,t){return t<0?Wpe(e):qpe(e)}function Wpe(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let i,o,a=!1;for(Za&&r.nodeType==1&&n<kE(r)&&gv(r.childNodes[n],-1)&&(a=!0);;)if(n>0){if(r.nodeType!=1)break;{let s=r.childNodes[n-1];if(gv(s,-1))i=r,o=--n;else if(s.nodeType==3)r=s,n=r.nodeValue.length;else break}}else{if(iU(r))break;{let s=r.previousSibling;for(;s&&gv(s,-1);)i=r.parentNode,o=Nn(s),s=s.previousSibling;if(s)r=s,n=kE(r);else{if(r=r.parentNode,r==e.dom)break;n=0}}}a?Y4(e,r,n):i&&Y4(e,i,o)}function qpe(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let i=kE(r),o,a;for(;;)if(n<i){if(r.nodeType!=1)break;let s=r.childNodes[n];if(gv(s,1))o=r,a=++n;else break}else{if(iU(r))break;{let s=r.nextSibling;for(;s&&gv(s,1);)o=s.parentNode,a=Nn(s)+1,s=s.nextSibling;if(s)r=s,n=0,i=kE(r);else{if(r=r.parentNode,r==e.dom)break;n=i=0}}}o&&Y4(e,o,a)}function iU(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Kpe(e,t){for(;e&&t==e.childNodes.length&&!Dv(e);)t=Nn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let r=e.childNodes[t];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=0}}function Ype(e,t){for(;e&&!t&&!Dv(e);)t=Nn(e),e=e.parentNode;for(;e&&t;){let r=e.childNodes[t-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=e.childNodes.length}}function Y4(e,t,r){if(t.nodeType!=3){let o,a;(a=Kpe(t,r))?(t=a,r=0):(o=Ype(t,r))&&(t=o,r=o.nodeValue.length)}let n=e.domSelection();if(!n)return;if(_E(n)){let o=document.createRange();o.setEnd(t,r),o.setStart(t,r),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(t,r);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Gl(e)},50)}function kj(e,t){let r=e.state.doc.resolve(t);if(!(ai||gpe)&&r.parent.inlineContent){let i=e.coordsAtPos(t);if(t>r.start()){let o=e.coordsAtPos(t-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<r.end()){let o=e.coordsAtPos(t+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function Aj(e,t,r){let n=e.state.selection;if(n instanceof Ne&&!n.empty||r.indexOf("s")>-1||sa&&r.indexOf("m")>-1)return!1;let{$from:i,$to:o}=n;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=K4(e.state,t);if(a&&a instanceof Be)return Tc(e,a)}if(!i.parent.inlineContent){let a=t<0?i:o,s=n instanceof Us?Le.near(a,t):Le.findFrom(a,t);return s?Tc(e,s):!1}return!1}function Tj(e,t){if(!(e.state.selection instanceof Ne))return!0;let{$head:r,$anchor:n,empty:i}=e.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(o&&!o.isText){let a=e.state.tr;return t<0?a.delete(r.pos-o.nodeSize,r.pos):a.delete(r.pos,r.pos+o.nodeSize),e.dispatch(a),!0}return!1}function Dj(e,t,r){e.domObserver.stop(),t.contentEditable=r,e.domObserver.start()}function Gpe(e){if(!Ri||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(t&&t.nodeType==1&&r==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;Dj(e,n,"true"),setTimeout(()=>Dj(e,n,"false"),20)}return!1}function Jpe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Qpe(e,t){let r=t.keyCode,n=Jpe(t);if(r==8||sa&&r==72&&n=="c")return Tj(e,-1)||Pp(e,-1);if(r==46&&!t.shiftKey||sa&&r==68&&n=="c")return Tj(e,1)||Pp(e,1);if(r==13||r==27)return!0;if(r==37||sa&&r==66&&n=="c"){let i=r==37?kj(e,e.state.selection.from)=="ltr"?-1:1:-1;return Cj(e,i,n)||Pp(e,i)}else if(r==39||sa&&r==70&&n=="c"){let i=r==39?kj(e,e.state.selection.from)=="ltr"?1:-1:1;return Cj(e,i,n)||Pp(e,i)}else{if(r==38||sa&&r==80&&n=="c")return Aj(e,-1,n)||Pp(e,-1);if(r==40||sa&&r==78&&n=="c")return Gpe(e)||Aj(e,1,n)||Pp(e,1);if(n==(sa?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function oU(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let r=[],{content:n,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,o--;let h=n.firstChild;r.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),n=h.content}let a=e.someProp("clipboardSerializer")||Av.fromSchema(e.state.schema),s=dU(),l=s.createElement("div");l.appendChild(a.serializeFragment(n,{document:s}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=cU[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=s.createElement(c[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(r)}`);let f=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function aU(e,t,r,n,i){let o=i.parent.type.spec.code,a,s;if(!r&&!t)return null;let l=t&&(n||o||!r);if(l){if(e.someProp("transformPastedText",f=>{t=f(t,o||n,e)}),o)return t?new he(X.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):he.empty;let d=e.someProp("clipboardTextParser",f=>f(t,i,n,e));if(d)s=d;else{let f=i.marks(),{schema:h}=e.state,p=Av.fromSchema(h);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(m=>{let v=a.appendChild(document.createElement("p"));m&&v.appendChild(p.serializeNode(h.text(m,f)))})}}else e.someProp("transformPastedHTML",d=>{r=d(r,e)}),a=tme(r),Iv&&rme(a);let u=a&&a.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=a.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;a=f}if(s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||hv.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Xpe.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)s=nme(Ij(s,+c[1],+c[2]),c[4]);else if(s=he.maxOpen(Zpe(s.content,i),!0),s.openStart||s.openEnd){let d=0,f=0;for(let h=s.content.firstChild;d<s.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=s.content.lastChild;f<s.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);s=Ij(s,d,f)}return e.someProp("transformPasted",d=>{s=d(s,e)}),s}var Xpe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Zpe(e,t){if(e.childCount<2)return e;for(let r=t.depth;r>=0;r--){let i=t.node(r).contentMatchAt(t.index(r)),o,a=[];if(e.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),u;if(!l)return a=null;if(u=a.length&&o.length&&lU(l,o,s,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=uU(a[a.length-1],o.length));let c=sU(s,l);a.push(c),i=i.matchType(c.type),o=l}}),a)return X.from(a)}return e}function sU(e,t,r=0){for(let n=t.length-1;n>=r;n--)e=t[n].create(null,X.from(e));return e}function lU(e,t,r,n,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=lU(e,t,r,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(i==e.length-1?r.type:e[i+1]))return n.copy(n.content.append(X.from(sU(r,e,i+1))))}}function uU(e,t){if(t==0)return e;let r=e.content.replaceChild(e.childCount-1,uU(e.lastChild,t-1)),n=e.contentMatchAt(e.childCount).fillBefore(X.empty,!0);return e.copy(r.append(n))}function G4(e,t,r,n,i,o){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(o=0),i<n-1&&(s=G4(s,t,r,n,i+1,o)),i>=r&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(X.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function Ij(e,t,r){return t<e.openStart&&(e=new he(G4(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),r<e.openEnd&&(e=new he(G4(e.content,1,r,e.openEnd,0,0),e.openStart,r)),e}var cU={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Fj=null;function dU(){return Fj||(Fj=document.implementation.createHTMLDocument("title"))}var x4=null;function eme(e){let t=window.trustedTypes;return t?(x4||(x4=t.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),x4.createHTML(e)):e}function tme(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let r=dU().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(e),i;if((i=n&&cU[n[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),r.innerHTML=eme(e),i)for(let o=0;o<i.length;o++)r=r.querySelector(i[o])||r;return r}function rme(e){let t=e.querySelectorAll(ai?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<t.length;r++){let n=t[r];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),n)}}function nme(e,t){if(!e.size)return e;let r=e.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:a}=e;for(let s=n.length-2;s>=0;s-=2){let l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=X.from(l.create(n[s+1],i)),o++,a++}return new he(i,o,a)}var Mi={},_i={},ime={touchstart:!0,touchmove:!0},ome=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function ame(e){for(let t in Mi){let r=Mi[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=n=>{lme(e,n)&&!m6(e,n)&&(e.editable||!(n.type in _i))&&r(e,n)},ime[t]?{passive:!0}:void 0)}Ri&&e.dom.addEventListener("input",()=>null),J4(e)}function Ic(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function sme(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function J4(e){e.someProp("handleDOMEvents",t=>{for(let r in t)e.input.eventHandlers[r]||e.dom.addEventListener(r,e.input.eventHandlers[r]=n=>m6(e,n))})}function m6(e,t){return e.someProp("handleDOMEvents",r=>{let n=r[t.type];return n?n(e,t)||t.defaultPrevented:!1})}function lme(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r=t.target;r!=e.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function ume(e,t){!m6(e,t)&&Mi[t.type]&&(e.editable||!(t.type in _i))&&Mi[t.type](e,t)}_i.keydown=(e,t)=>{let r=t;if(e.input.shiftKey=r.keyCode==16||r.shiftKey,!hU(e,r)&&(e.input.lastKeyCode=r.keyCode,e.input.lastKeyCodeTime=Date.now(),!(ql&&ai&&r.keyCode==13)))if(r.keyCode!=229&&e.domObserver.forceFlush(),Kp&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();e.input.lastIOSEnter=n,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==n&&(e.someProp("handleKeyDown",i=>i(e,Zd(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",n=>n(e,r))||Qpe(e,r)?r.preventDefault():Ic(e,"key")};_i.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};_i.keypress=(e,t)=>{let r=t;if(hU(e,r)||!r.charCode||r.ctrlKey&&!r.altKey||sa&&r.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,r))){r.preventDefault();return}let n=e.state.selection;if(!(n instanceof Ne)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",o=>o(e,n.$from.pos,n.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),r.preventDefault()}};function OE(e){return{left:e.clientX,top:e.clientY}}function cme(e,t){let r=t.x-e.clientX,n=t.y-e.clientY;return r*r+n*n<100}function g6(e,t,r,n,i){if(n==-1)return!1;let o=e.state.doc.resolve(n);for(let a=o.depth+1;a>0;a--)if(e.someProp(t,s=>a>o.depth?s(e,r,o.nodeAfter,o.before(a),i,!0):s(e,r,o.node(a),o.before(a),i,!1)))return!0;return!1}function Wp(e,t,r){if(e.focused||e.focus(),e.state.selection.eq(t))return;let n=e.state.tr.setSelection(t);r=="pointer"&&n.setMeta("pointer",!0),e.dispatch(n)}function dme(e,t){if(t==-1)return!1;let r=e.state.doc.resolve(t),n=r.nodeAfter;return n&&n.isAtom&&Be.isSelectable(n)?(Wp(e,new Be(r),"pointer"),!0):!1}function fme(e,t){if(t==-1)return!1;let r=e.state.selection,n,i;r instanceof Be&&(n=r.node);let o=e.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(Be.isSelectable(s)){n&&r.$from.depth>0&&a>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?i=o.before(r.$from.depth):i=o.before(a);break}}return i!=null?(Wp(e,Be.create(e.state.doc,i),"pointer"),!0):!1}function hme(e,t,r,n,i){return g6(e,"handleClickOn",t,r,n)||e.someProp("handleClick",o=>o(e,t,n))||(i?fme(e,r):dme(e,r))}function pme(e,t,r,n){return g6(e,"handleDoubleClickOn",t,r,n)||e.someProp("handleDoubleClick",i=>i(e,t,n))}function mme(e,t,r,n){return g6(e,"handleTripleClickOn",t,r,n)||e.someProp("handleTripleClick",i=>i(e,t,n))||gme(e,r,n)}function gme(e,t,r){if(r.button!=0)return!1;let n=e.state.doc;if(t==-1)return n.inlineContent?(Wp(e,Ne.create(n,0,n.content.size),"pointer"),!0):!1;let i=n.resolve(t);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)Wp(e,Ne.create(n,s+1,s+1+a.content.size),"pointer");else if(Be.isSelectable(a))Wp(e,Be.create(n,s),"pointer");else continue;return!0}}function v6(e){return AE(e)}var fU=sa?"metaKey":"ctrlKey";Mi.mousedown=(e,t)=>{let r=t;e.input.shiftKey=r.shiftKey;let n=v6(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&cme(r,e.input.lastClick)&&!r[fU]&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:o};let a=e.posAtCoords(OE(r));a&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new vme(e,a,r,!!n)):(o=="doubleClick"?pme:mme)(e,a.pos,a.inside,r)?r.preventDefault():Ic(e,"pointer"))};var vme=class{constructor(e,t,r,n){this.view=e,this.pos=t,this.event=r,this.flushed=n,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[fU],this.allowDefault=r.shiftKey;let i,o;if(t.inside>-1)i=e.state.doc.nodeAt(t.inside),o=t.inside;else{let u=e.state.doc.resolve(t.pos);i=u.parent,o=u.depth?u.before():0}let a=n?null:r.target,s=a?e.docView.nearestDesc(a,!0):null;this.target=s&&s.dom.nodeType==1?s.dom:null;let{selection:l}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||l instanceof Be&&l.from<=o&&l.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Za&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ic(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Gl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(OE(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ic(this.view,"pointer"):hme(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ri&&this.mightDrag&&!this.mightDrag.node.isAtom||ai&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Wp(this.view,Le.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Ic(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ic(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};Mi.touchstart=e=>{e.input.lastTouch=Date.now(),v6(e),Ic(e,"pointer")};Mi.touchmove=e=>{e.input.lastTouch=Date.now(),Ic(e,"pointer")};Mi.contextmenu=e=>v6(e);function hU(e,t){return e.composing?!0:Ri&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}var yme=ql?5e3:-1;_i.compositionstart=_i.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,r=t.selection.$to;if(t.selection instanceof Ne&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||r.marks(),AE(e,!0),e.markCursor=null;else if(AE(e,!t.selection.empty),Za&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=e.domSelectionRange();for(let i=n.focusNode,o=n.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=e.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}e.input.composing=!0}pU(e,yme)};_i.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,pU(e,20))};function pU(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>AE(e),t))}function mU(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=bme());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function wme(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let r=dpe(t.focusNode,t.focusOffset),n=fpe(t.focusNode,t.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(r==o||n==o)return o;if(!i||!i.isText(n.nodeValue))return n;if(e.input.compositionNode==n){let a=r.pmViewDesc;if(!(!a||!a.isText(r.nodeValue)))return n}}return r||n}function bme(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function AE(e,t=!1){if(!(ql&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),mU(e),t||e.docView&&e.docView.dirty){let r=h6(e);return r&&!r.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(r)):(e.markCursor||t)&&!e.state.selection.empty?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function xme(e,t){if(!e.dom.parentNode)return;let r=e.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),e.focus()},50)}var xv=ro&&Rc<15||Kp&&vpe<604;Mi.copy=_i.cut=(e,t)=>{let r=t,n=e.state.selection,i=r.type=="cut";if(n.empty)return;let o=xv?null:r.clipboardData,a=n.content(),{dom:s,text:l}=oU(e,a);o?(r.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):xme(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Eme(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Sme(e,t){if(!e.dom.parentNode)return;let r=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,n=e.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Ev(e,n.value,null,i,t):Ev(e,n.textContent,n.innerHTML,i,t)},50)}function Ev(e,t,r,n,i){let o=aU(e,t,r,n,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||he.empty)))return!0;if(!o)return!1;let a=Eme(o),s=a?e.state.tr.replaceSelectionWith(a,n):e.state.tr.replaceSelection(o);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function gU(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let r=e.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}_i.paste=(e,t)=>{let r=t;if(e.composing&&!ql)return;let n=xv?null:r.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;n&&Ev(e,gU(n),n.getData("text/html"),i,r)?r.preventDefault():Sme(e,r)};var vU=class{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}},yU=sa?"altKey":"ctrlKey";Mi.dragstart=(e,t)=>{let r=t,n=e.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(OE(r)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Be?i.to-1:i.to))){if(n&&n.mightDrag)a=Be.create(e.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let d=e.docView.nearestDesc(r.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(a=Be.create(e.state.doc,d.posBefore))}}let s=(a||e.state.selection).content(),{dom:l,text:u,slice:c}=oU(e,s);(!r.dataTransfer.files.length||!ai||V$>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(xv?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",xv||r.dataTransfer.setData("text/plain",u),e.dragging=new vU(c,!r[yU],a)};Mi.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};_i.dragover=_i.dragenter=(e,t)=>t.preventDefault();_i.drop=(e,t)=>{let r=t,n=e.dragging;if(e.dragging=null,!r.dataTransfer)return;let i=e.posAtCoords(OE(r));if(!i)return;let o=e.state.doc.resolve(i.pos),a=n&&n.slice;a?e.someProp("transformPasted",p=>{a=p(a,e)}):a=aU(e,gU(r.dataTransfer),xv?null:r.dataTransfer.getData("text/html"),!1,o);let s=!!(n&&!r[yU]);if(e.someProp("handleDrop",p=>p(e,r,a||he.empty,s))){r.preventDefault();return}if(!a)return;r.preventDefault();let l=a?u6(e.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let u=e.state.tr;if(s){let{node:p}=n;p?p.replace(u):u.deleteSelection()}let c=u.mapping.map(l),d=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,a.content.firstChild):u.replaceRange(c,c,a),u.doc.eq(f))return;let h=u.doc.resolve(c);if(d&&Be.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new Be(h));else{let p=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((m,v,g,y)=>p=y),u.setSelection(p6(e,h,u.doc.resolve(p)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))};Mi.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Gl(e)},20))};Mi.blur=(e,t)=>{let r=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),r.relatedTarget&&e.dom.contains(r.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Mi.beforeinput=(e,t)=>{if(ai&&ql&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Zd(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in _i)Mi[e]=_i[e];function Sv(e,t){if(e==t)return!0;for(let r in e)if(e[r]!==t[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}var Rj=class wU{constructor(t,r){this.toDOM=t,this.spec=r||of,this.side=this.spec.side||0}map(t,r,n,i){let{pos:o,deleted:a}=t.mapResult(r.from+i,this.side<0?-1:1);return a?null:new es(o-n,o-n,this)}valid(){return!0}eq(t){return this==t||t instanceof wU&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Sv(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}},vv=class Q4{constructor(t,r){this.attrs=t,this.spec=r||of}map(t,r,n,i){let o=t.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,a=t.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=a?null:new es(o,a,this)}valid(t,r){return r.from<r.to}eq(t){return this==t||t instanceof Q4&&Sv(this.attrs,t.attrs)&&Sv(this.spec,t.spec)}static is(t){return t.type instanceof Q4}destroy(){}},Cme=class bU{constructor(t,r){this.attrs=t,this.spec=r||of}map(t,r,n,i){let o=t.mapResult(r.from+i,1);if(o.deleted)return null;let a=t.mapResult(r.to+i,-1);return a.deleted||a.pos<=o.pos?null:new es(o.pos-n,a.pos-n,this)}valid(t,r){let{index:n,offset:i}=t.content.findIndex(r.from),o;return i==r.from&&!(o=t.child(n)).isText&&i+o.nodeSize==r.to}eq(t){return this==t||t instanceof bU&&Sv(this.attrs,t.attrs)&&Sv(this.spec,t.spec)}destroy(){}},es=class cv{constructor(t,r,n){this.from=t,this.to=r,this.type=n}copy(t,r){return new cv(t,r,this.type)}eq(t,r=0){return this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to}map(t,r,n){return this.type.map(t,this,r,n)}static widget(t,r,n){return new cv(t,t,new Rj(r,n))}static inline(t,r,n,i){return new cv(t,r,new vv(n,i))}static node(t,r,n,i){return new cv(t,r,new Cme(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof vv}get widget(){return this.type instanceof Rj}},Hp=[],of={},Fi=class Ac{constructor(t,r){this.local=t.length?t:Hp,this.children=r.length?r:Hp}static create(t,r){return r.length?TE(r,t,0,of):oi}find(t,r,n){let i=[];return this.findInner(t??0,r??1e9,i,0,n),i}findInner(t,r,n,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=r&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<r&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,r-s,n,i+s,o)}}map(t,r,n){return this==oi||t.maps.length==0?this:this.mapInner(t,r,0,0,n||of)}mapInner(t,r,n,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,n,i);l&&l.type.valid(r,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?kme(this.children,a||[],t,r,n,i,o):a?new Ac(a.sort(af),Hp):oi}add(t,r){return r.length?this==oi?Ac.create(t,r):this.addInner(t,r,0):this}addInner(t,r,n){let i,o=0;t.forEach((s,l)=>{let u=l+n,c;if(c=SU(r,s,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,c,u+1):i.splice(o,0,l,l+s.nodeSize,TE(c,s,u+1,of)),o+=3}});let a=EU(o?CU(r):r,-n);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new Ac(a.length?this.local.concat(a).sort(af):this.local,i||this.children)}remove(t){return t.length==0||this==oi?this:this.removeInner(t,0)}removeInner(t,r){let n=this.children,i=this.local;for(let o=0;o<n.length;o+=3){let a,s=n[o]+r,l=n[o+1]+r;for(let c=0,d;c<t.length;c++)(d=t[c])&&d.from>s&&d.to<l&&(t[c]=null,(a||(a=[])).push(d));if(!a)continue;n==this.children&&(n=this.children.slice());let u=n[o+2].removeInner(a,s+1);u!=oi?n[o+2]=u:(n.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<t.length;o++)if(a=t[o])for(let s=0;s<i.length;s++)i[s].eq(a,r)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new Ac(i,n):oi}forChild(t,r){if(this==oi)return this;if(r.isLeaf)return Ac.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(n=this.children[s+2]);break}let o=t+1,a=o+r.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof vv){let u=Math.max(o,l.from)-o,c=Math.min(a,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let s=new Ac(i.sort(af),Hp);return n?new xU([s,n]):s}return n||oi}eq(t){if(this==t)return!0;if(!(t instanceof Ac)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return y6(this.localsInner(t))}localsInner(t){if(this==oi)return Hp;if(t.inlineContent||!this.local.some(vv.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof vv||r.push(this.local[n]);return r}forEachSet(t){t(this)}};Fi.empty=new Fi([],[]);Fi.removeOverlap=y6;var oi=Fi.empty,xU=class jp{constructor(t){this.members=t}map(t,r){let n=this.members.map(i=>i.map(t,r,of));return jp.from(n)}forChild(t,r){if(r.isLeaf)return Fi.empty;let n=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,r);o!=oi&&(o instanceof jp?n=n.concat(o.members):n.push(o))}return jp.from(n)}eq(t){if(!(t instanceof jp)||t.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0}locals(t){let r,n=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!r)r=o;else{n&&(r=r.slice(),n=!1);for(let a=0;a<o.length;a++)r.push(o[a])}}return r?y6(n?r:r.sort(af)):Hp}static from(t){switch(t.length){case 0:return oi;case 1:return t[0];default:return new jp(t.every(r=>r instanceof Fi)?t:t.reduce((r,n)=>r.concat(n instanceof Fi?n:n.members),[]))}}forEachSet(t){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(t)}};function kme(e,t,r,n,i,o,a){let s=e.slice();for(let u=0,c=o;u<r.maps.length;u++){let d=0;r.maps[u].forEach((f,h,p,m)=>{let v=m-p-(h-f);for(let g=0;g<s.length;g+=3){let y=s[g+1];if(y<0||f>y+c-d)continue;let b=s[g]+c-d;h>=b?s[g+1]=f<=b?-2:-1:f>=c&&v&&(s[g]+=v,s[g+1]+=v)}d+=v}),c=r.maps[u].map(c,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let c=r.map(e[u]+o),d=c-i;if(d<0||d>=n.content.size){l=!0;continue}let f=r.map(e[u+1]+o,-1),h=f-i,{index:p,offset:m}=n.content.findIndex(d),v=n.maybeChild(p);if(v&&m==d&&m+v.nodeSize==h){let g=s[u+2].mapInner(r,v,c+1,e[u]+o+1,a);g!=oi?(s[u]=d,s[u+1]=h,s[u+2]=g):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=Ame(s,e,t,r,i,o,a),c=TE(u,n,0,a);t=c.local;for(let d=0;d<s.length;d+=3)s[d+1]<0&&(s.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let h=c.children[d];for(;f<s.length&&s[f]<h;)f+=3;s.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Fi(t.sort(af),s)}function EU(e,t){if(!t||!e.length)return e;let r=[];for(let n=0;n<e.length;n++){let i=e[n];r.push(new es(i.from+t,i.to+t,i.type))}return r}function Ame(e,t,r,n,i,o,a){function s(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(n,i,u);d?r.push(d):a.onRemove&&a.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&s(e[l+2],t[l]+o+1);return r}function SU(e,t,r){if(t.isLeaf)return null;let n=r+t.nodeSize,i=null;for(let o=0,a;o<e.length;o++)(a=e[o])&&a.from>r&&a.to<n&&((i||(i=[])).push(a),e[o]=null);return i}function CU(e){let t=[];for(let r=0;r<e.length;r++)e[r]!=null&&t.push(e[r]);return t}function TE(e,t,r,n){let i=[],o=!1;t.forEach((s,l)=>{let u=SU(e,s,l+r);if(u){o=!0;let c=TE(u,s,r+l+1,n);c!=oi&&i.push(l,l+s.nodeSize,c)}});let a=EU(o?CU(e):e,-r).sort(af);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(n.onRemove&&n.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Fi(a,i):oi}function af(e,t){return e.from-t.from||e.to-t.to}function y6(e){let t=e;for(let r=0;r<t.length-1;r++){let n=t[r];if(n.from!=n.to)for(let i=r+1;i<t.length;i++){let o=t[i];if(o.from==n.from){o.to!=n.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,n.to),Mj(t,i+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(t==e&&(t=e.slice()),t[r]=n.copy(n.from,o.from),Mj(t,i,n.copy(o.from,n.to)));break}}}return t}function Mj(e,t,r){for(;t<e.length&&af(r,e[t])>0;)t++;e.splice(t,0,r)}function E4(e){let t=[];return e.someProp("decorations",r=>{let n=r(e.state);n&&n!=oi&&t.push(n)}),e.cursorWrapper&&t.push(Fi.create(e.state.doc,[e.cursorWrapper.deco])),xU.from(t)}var Tme={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Dme=ro&&Rc<=11,Ime=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}},Fme=class{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ime,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let n=0;n<r.length;n++)this.queue.push(r[n]);ro&&Rc<=11&&r.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),Dme&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Tme)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Sj(this.view)){if(this.suppressingSelectionUpdates)return Gl(this.view);if(ro&&Rc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&lf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let i=e.focusNode;i;i=bv(i))t.add(i);for(let i=e.anchorNode;i;i=bv(i))if(t.has(i)){r=i;break}let n=r&&this.view.docView.nearestDesc(r);if(n&&n.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Sj(e)&&!this.ignoreSelectionChange(r),i=-1,o=-1,a=!1,s=[];if(e.editable)for(let u=0;u<t.length;u++){let c=this.registerMutation(t[u],s);c&&(i=i<0?c.from:Math.min(c.from,i),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(a=!0))}if(Za&&s.length){let u=s.filter(c=>c.nodeName=="BR");if(u.length==2){let[c,d]=u;c.parentNode&&c.parentNode.parentNode==d.parentNode?d.remove():c.remove()}else{let{focusNode:c}=this.currentSelection;for(let d of u){let f=d.parentNode;f&&f.nodeName=="LI"&&(!c||_me(e,c)!=f)&&d.remove()}}}let l=null;i<0&&n&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&_E(r)&&(l=h6(e))&&l.eq(Le.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Gl(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||n)&&(i>-1&&(e.docView.markDirty(i,o),Rme(e)),this.handleDOMChange(i,o,a,s),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Gl(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let c=e.addedNodes[u];t.push(c),c.nodeType==3&&(this.lastChangedTextNode=c)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let n=e.previousSibling,i=e.nextSibling;if(ro&&Rc<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:c,nextSibling:d}=e.addedNodes[u];(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(n=c),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d)}let o=n&&n.parentNode==e.target?Nn(n)+1:0,a=r.localPosFromDOM(e.target,o,-1),s=i&&i.parentNode==e.target?Nn(i):e.target.childNodes.length,l=r.localPosFromDOM(e.target,s,1);return{from:a,to:l}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}},_j=new WeakMap,Oj=!1;function Rme(e){if(!_j.has(e)&&(_j.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Za,Oj)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Oj=!0}}function Bj(e,t){let r=t.startContainer,n=t.startOffset,i=t.endContainer,o=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return lf(a.node,a.offset,i,o)&&([r,n,i,o]=[i,o,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:o}}function Mme(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return Bj(e,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0),r?Bj(e,r):null}function _me(e,t){for(let r=t.parentNode;r&&r!=e.dom;r=r.parentNode){let n=e.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function Ome(e,t,r){let{node:n,fromOffset:i,toOffset:o,from:a,to:s}=e.docView.parseRange(t,r),l=e.domSelectionRange(),u,c=l.anchorNode;if(c&&e.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],_E(l)||u.push({node:l.focusNode,offset:l.focusOffset})),ai&&e.input.lastKeyCode===8)for(let v=o;v>i;v--){let g=n.childNodes[v-1],y=g.pmViewDesc;if(g.nodeName=="BR"&&!y){o=v;break}if(!y||y.size)break}let d=e.state.doc,f=e.someProp("domParser")||hv.fromSchema(e.state.schema),h=d.resolve(a),p=null,m=f.parse(n,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Bme,context:h});if(u&&u[0].pos!=null){let v=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=v),p={anchor:v+a,head:g+a}}return{doc:m,sel:p,from:a,to:s}}function Bme(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Ri&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(e.parentNode.lastChild==e||Ri&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}var Nme=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Pme(e,t,r,n,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let D=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,F=h6(e,D);if(F&&!e.state.selection.eq(F)){if(ai&&ql&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",R=>R(e,Zd(13,"Enter"))))return;let T=e.state.tr.setSelection(F);D=="pointer"?T.setMeta("pointer",!0):D=="key"&&T.scrollIntoView(),o&&T.setMeta("composition",o),e.dispatch(T)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(r);t=a.before(s+1),r=e.state.doc.resolve(r).after(s+1);let l=e.state.selection,u=Ome(e,t,r),c=e.state.doc,d=c.slice(u.from,u.to),f,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let p=Vme(d.content,u.doc.content,u.from,f,h);if(p&&e.input.domChangeCount++,(Kp&&e.input.lastIOSEnter>Date.now()-225||ql)&&i.some(D=>D.nodeType==1&&!Nme.test(D.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",D=>D(e,Zd(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(n&&l instanceof Ne&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let D=Nj(e,e.state.doc,u.sel);if(D&&!D.eq(e.state.selection)){let F=e.state.tr.setSelection(D);o&&F.setMeta("composition",o),e.dispatch(F)}}return}e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof Ne&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),ro&&Rc<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)==" \xA0"&&(p.start--,p.endA--,p.endB--);let m=u.doc.resolveNoCache(p.start-u.from),v=u.doc.resolveNoCache(p.endB-u.from),g=c.resolve(p.start),y=m.sameParent(v)&&m.parent.inlineContent&&g.end()>=p.endA,b;if((Kp&&e.input.lastIOSEnter>Date.now()-225&&(!y||i.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!y&&m.pos<u.doc.content.size&&!m.sameParent(v)&&(b=Le.findFrom(u.doc.resolve(m.pos+1),1,!0))&&b.head==v.pos)&&e.someProp("handleKeyDown",D=>D(e,Zd(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&zme(c,p.start,p.endA,m,v)&&e.someProp("handleKeyDown",D=>D(e,Zd(8,"Backspace")))){ql&&ai&&e.domObserver.suppressSelectionUpdates();return}ai&&p.endB==p.start&&(e.input.lastChromeDelete=Date.now()),ql&&!y&&m.start()!=v.start()&&v.parentOffset==0&&m.depth==v.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,v=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(D){return D(e,Zd(13,"Enter"))})},20));let x=p.start,S=p.endA,E,I,k;if(y){if(m.pos==v.pos)ro&&Rc<=11&&m.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Gl(e),20)),E=e.state.tr.delete(x,S),I=c.resolve(p.start).marksAcross(c.resolve(p.endA));else if(p.endA==p.endB&&(k=Lme(m.parent.content.cut(m.parentOffset,v.parentOffset),g.parent.content.cut(g.parentOffset,p.endA-g.start()))))E=e.state.tr,k.type=="add"?E.addMark(x,S,k.mark):E.removeMark(x,S,k.mark);else if(m.parent.child(m.index()).isText&&m.index()==v.index()-(v.textOffset?0:1)){let D=m.parent.textBetween(m.parentOffset,v.parentOffset);if(e.someProp("handleTextInput",F=>F(e,x,S,D)))return;E=e.state.tr.insertText(D,x,S)}}if(E||(E=e.state.tr.replace(x,S,u.doc.slice(p.start-u.from,p.endB-u.from))),u.sel){let D=Nj(e,E.doc,u.sel);D&&!(ai&&e.composing&&D.empty&&(p.start!=p.endB||e.input.lastChromeDelete<Date.now()-100)&&(D.head==x||D.head==E.mapping.map(S)-1)||ro&&D.empty&&D.head==x)&&E.setSelection(D)}I&&E.ensureMarks(I),o&&E.setMeta("composition",o),e.dispatch(E.scrollIntoView())}function Nj(e,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:p6(e,t.resolve(r.anchor),t.resolve(r.head))}function Lme(e,t){let r=e.firstChild.marks,n=t.firstChild.marks,i=r,o=n,a,s,l;for(let c=0;c<n.length;c++)i=n[c].removeFromSet(i);for(let c=0;c<r.length;c++)o=r[c].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<t.childCount;c++)u.push(l(t.child(c)));if(X.from(u).eq(e))return{mark:s,type:a}}function zme(e,t,r,n,i){if(r-t<=i.pos-n.pos||S4(n,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!n.parent.isTextblock){let s=o.nodeAfter;return s!=null&&r==t+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=e.resolve(S4(o,!0,!0));return!a.parent.isTextblock||a.pos>r||S4(a,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function S4(e,t,r){let n=e.depth,i=t?e.end():e.pos;for(;n>0&&(t||e.indexAfter(n)==e.node(n).childCount);)n--,i++,t=!1;if(r){let o=e.node(n).maybeChild(e.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Vme(e,t,r,n,i){let o=e.findDiffStart(t,r);if(o==null)return null;let{a,b:s}=e.findDiffEnd(t,r+e.size,r+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}if(a<o&&e.size<t.size){let l=n<=o&&n>=a?o-n:0;o-=l,o&&o<t.size&&Pj(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=n<=o&&n>=s?o-n:0;o-=l,o&&o<e.size&&Pj(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function Pj(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),r=e.charCodeAt(1);return t>=56320&&t<=57343&&r>=55296&&r<=56319}var Hme=class{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ome,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(jj),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Vj(this),zj(this),this.nodeViews=Hj(this),this.docView=vj(this.state.doc,Lj(this),E4(this),this.dom,this),this.domObserver=new Fme(this,(r,n,i,o)=>Pme(this,r,n,i,o)),this.domObserver.start(),ame(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&J4(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(jj),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let n=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(mU(this),o=!0),this.state=e;let a=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let f=Hj(this);$me(f,this.nodeViews)&&(this.nodeViews=f,i=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&J4(this),this.editable=Vj(this),zj(this);let s=E4(this),l=Lj(this),u=n.plugins!=e.plugins&&!n.doc.eq(e.doc)?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,l,s);(c||!e.selection.eq(n.selection))&&(o=!0);let d=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&bpe(this);if(o){this.domObserver.stop();let f=c&&(ro||ai)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&jme(n.selection,e.selection);if(c){let h=ai?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=wme(this)),(i||!this.docView.update(e.doc,l,s,this))&&(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=vj(e.doc,l,s,this.dom,this)),h&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Upe(this))?Gl(this,f):(rU(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),!((r=this.dragging)===null||r===void 0)&&r.node&&!n.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,n),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&xpe(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Be){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&dj(this,t.getBoundingClientRect(),e)}else dj(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,n=-1;if(this.state.doc.nodeAt(r.from)==r.node)n=r.from;else{let i=r.from+(this.state.doc.content.size-t.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(n=i)}this.dragging=new vU(e.slice,e.move,n<0?void 0:Be.create(this.state.doc,n))}someProp(e,t){let r=this._props&&this._props[e],n;if(r!=null&&(n=t?t(r):r))return n;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(n=t?t(a):a))return n}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[e];if(a!=null&&(n=t?t(a):a))return n}}hasFocus(){if(ro){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Epe(this.dom),Gl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Tpe(this,e)}coordsAtPos(e,t=1){return W$(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let n=this.docView.posFromDOM(e,t,r);if(n==null)throw new RangeError("DOM position not inside the editor");return n}endOfTextblock(e,t){return Mpe(this,t||this.state,e)}pasteHTML(e,t){return Ev(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Ev(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(sme(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],E4(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,upe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ume(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Ri&&this.root.nodeType===11&&ppe(this.dom.ownerDocument)==this.dom&&Mme(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};function Lj(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(e.state)),r)for(let n in r)n=="class"?t.class+=" "+r[n]:n=="style"?t.style=(t.style?t.style+";":"")+r[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(r[n]))}),t.translate||(t.translate="no"),[es.node(0,e.state.doc.content.size,t)]}function zj(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:es.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Vj(e){return!e.someProp("editable",t=>t(e.state)===!1)}function jme(e,t){let r=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(r)!=t.$anchor.start(r)}function Hj(e){let t=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=n[i])}return e.someProp("nodeViews",r),e.someProp("markViews",r),t}function $me(e,t){let r=0,n=0;for(let i in e){if(e[i]!=t[i])return!0;r++}for(let i in t)n++;return r!=n}function jj(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Mc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},DE={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ume=typeof navigator<"u"&&/Mac/.test(navigator.platform),Wme=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(Gr=0;Gr<10;Gr++)Mc[48+Gr]=Mc[96+Gr]=String(Gr);var Gr;for(Gr=1;Gr<=24;Gr++)Mc[Gr+111]="F"+Gr;var Gr;for(Gr=65;Gr<=90;Gr++)Mc[Gr]=String.fromCharCode(Gr+32),DE[Gr]=String.fromCharCode(Gr);var Gr;for(sE in Mc)DE.hasOwnProperty(sE)||(DE[sE]=Mc[sE]);var sE;function qme(e){var t=Ume&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Wme&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",r=!t&&e.key||(e.shiftKey?DE:Mc)[e.keyCode]||e.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}var Kme=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Yme(e){let t=e.split(/-(?!$)/),r=t[t.length-1];r=="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Kme?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Gme(e){let t=Object.create(null);for(let r in e)t[Yme(r)]=e[r];return t}function C4(e,t,r=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),r&&t.shiftKey&&(e="Shift-"+e),e}function Jme(e){return new Ur({props:{handleKeyDown:BE(e)}})}function BE(e){let t=Gme(e);return function(r,n){let i=qme(n),o,a=t[C4(i,n)];if(a&&a(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let s=t[C4(i,n,!1)];if(s&&s(r.state,r.dispatch,r))return!0}if((n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(o=Mc[n.keyCode])&&o!=i){let s=t[C4(o,n)];if(s&&s(r.state,r.dispatch,r))return!0}}return!1}}var w6=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function kU(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("backward",e):r.parentOffset>0)?null:r}var AU=(e,t,r)=>{let n=kU(e,r);if(!n)return!1;let i=b6(n);if(!i){let a=n.blockRange(),s=a&&Gp(a);return s==null?!1:(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(NU(e,i,t,-1))return!0;if(n.parent.content.size==0&&(Yp(o,"end")||Be.isSelectable(o)))for(let a=n.depth;;a--){let s=ME(e.doc,n.before(a),n.after(a),he.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(Yp(o,"end")?Le.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Be.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||n.node(a-1).childCount>1)break}return o.isAtom&&i.depth==n.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},Qme=(e,t,r)=>{let n=kU(e,r);if(!n)return!1;let i=b6(n);return i?TU(e,i,t):!1},Xme=(e,t,r)=>{let n=IU(e,r);if(!n)return!1;let i=x6(n);return i?TU(e,i,t):!1};function TU(e,t,r){let n=t.nodeBefore,i=n,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let a=t.nodeAfter,s=a,l=t.pos+1;for(;!s.isTextblock;l++){if(s.type.spec.isolating)return!1;let c=s.firstChild;if(!c)return!1;s=c}let u=ME(e.doc,o,l,he.empty);if(!u||u.from!=o||u instanceof Xa&&u.slice.size>=l-o)return!1;if(r){let c=e.tr.step(u);c.setSelection(Ne.create(c.doc,o)),r(c.scrollIntoView())}return!0}function Yp(e,t,r=!1){for(let n=e;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}var DU=(e,t,r)=>{let{$head:n,empty:i}=e.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",e):n.parentOffset>0)return!1;o=b6(n)}let a=o&&o.nodeBefore;return!a||!Be.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Be.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function b6(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function IU(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)?null:r}var FU=(e,t,r)=>{let n=IU(e,r);if(!n)return!1;let i=x6(n);if(!i)return!1;let o=i.nodeAfter;if(NU(e,i,t,1))return!0;if(n.parent.content.size==0&&(Yp(o,"start")||Be.isSelectable(o))){let a=ME(e.doc,n.before(),n.after(),he.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=e.tr.step(a);s.setSelection(Yp(o,"start")?Le.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):Be.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==n.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},RU=(e,t,r)=>{let{$head:n,empty:i}=e.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)return!1;o=x6(n)}let a=o&&o.nodeAfter;return!a||!Be.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Be.create(e.doc,o.pos)).scrollIntoView()),!0)};function x6(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let r=e.node(t);if(e.index(t)+1<r.childCount)return e.doc.resolve(e.after(t+1));if(r.type.spec.isolating)break}return null}var Zme=(e,t)=>{let r=e.selection,n=r instanceof Be,i;if(n){if(r.node.isTextblock||!_c(e.doc,r.from))return!1;i=r.from}else if(i=RE(e.doc,r.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);n&&o.setSelection(Be.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},e0e=(e,t)=>{let r=e.selection,n;if(r instanceof Be){if(r.node.isTextblock||!_c(e.doc,r.to))return!1;n=r.to}else if(n=RE(e.doc,r.to,1),n==null)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},t0e=(e,t)=>{let{$from:r,$to:n}=e.selection,i=r.blockRange(n),o=i&&Gp(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},MU=(e,t)=>{let{$head:r,$anchor:n}=e.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function E6(e){for(let t=0;t<e.edgeCount;t++){let{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}var _U=(e,t)=>{let{$head:r,$anchor:n}=e.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),o=r.indexAfter(-1),a=E6(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(t){let s=r.after(),l=e.tr.replaceWith(s,s,a.createAndFill());l.setSelection(Le.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},OU=(e,t)=>{let r=e.selection,{$from:n,$to:i}=r;if(r instanceof Us||n.parent.inlineContent||i.parent.inlineContent)return!1;let o=E6(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let a=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=e.tr.insert(a,o.createAndFill());s.setSelection(Ne.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},BU=(e,t)=>{let{$cursor:r}=e.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let o=r.before();if(Yl(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let n=r.blockRange(),i=n&&Gp(n);return i==null?!1:(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)};function r0e(e){return(t,r)=>{let{$from:n,$to:i}=t.selection;if(t.selection instanceof Be&&t.selection.node.isBlock)return!n.parentOffset||!Yl(t.doc,n.pos)?!1:(r&&r(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],a,s,l=!1,u=!1;for(let h=n.depth;;h--)if(n.node(h).isBlock){l=n.end(h)==n.pos+(n.depth-h),u=n.start(h)==n.pos-(n.depth-h),s=E6(n.node(h-1).contentMatchAt(n.indexAfter(h-1)));let m=e&&e(i.parent,l,n);o.unshift(m||(l&&s?{type:s}:null)),a=h;break}else{if(h==1)return!1;o.unshift(null)}let c=t.tr;(t.selection instanceof Ne||t.selection instanceof Us)&&c.deleteSelection();let d=c.mapping.map(n.pos),f=Yl(c.doc,d,o.length,o);if(f||(o[0]=s?{type:s}:null,f=Yl(c.doc,d,o.length,o)),c.split(d,o.length,o),!l&&u&&n.node(a).type!=s){let h=c.mapping.map(n.before(a)),p=c.doc.resolve(h);s&&n.node(a-1).canReplaceWith(p.index(),p.index()+1,s)&&c.setNodeMarkup(c.mapping.map(n.before(a)),s)}return r&&r(c.scrollIntoView()),!0}}var n0e=r0e(),i0e=(e,t)=>{let{$from:r,to:n}=e.selection,i,o=r.sharedDepth(n);return o==0?!1:(i=r.before(o),t&&t(e.tr.setSelection(Be.create(e.doc,i))),!0)},o0e=(e,t)=>(t&&t(e.tr.setSelection(new Us(e.doc))),!0);function a0e(e,t,r){let n=t.nodeBefore,i=t.nodeAfter,o=t.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&t.parent.canReplace(o-1,o)?(r&&r(e.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||_c(e.doc,t.pos))?!1:(r&&r(e.tr.join(t.pos).scrollIntoView()),!0)}function NU(e,t,r,n){let i=t.nodeBefore,o=t.nodeAfter,a,s,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&a0e(e,t,r))return!0;let u=!l&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(a=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(r){let h=t.pos+o.nodeSize,p=X.empty;for(let g=a.length-1;g>=0;g--)p=X.from(a[g].create(null,p));p=X.from(i.copy(p));let m=e.tr.step(new no(t.pos-1,h,t.pos,h,new he(p,1,0),a.length,!0)),v=m.doc.resolve(h+2*a.length);v.nodeAfter&&v.nodeAfter.type==i.type&&_c(m.doc,v.pos)&&m.join(v.pos),r(m.scrollIntoView())}return!0}let c=o.type.spec.isolating||n>0&&l?null:Le.findFrom(t,1),d=c&&c.$from.blockRange(c.$to),f=d&&Gp(d);if(f!=null&&f>=t.depth)return r&&r(e.tr.lift(d,f).scrollIntoView()),!0;if(u&&Yp(o,"start",!0)&&Yp(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let m=o,v=1;for(;!m.isTextblock;m=m.firstChild)v++;if(h.canReplace(h.childCount,h.childCount,m.content)){if(r){let g=X.empty;for(let b=p.length-1;b>=0;b--)g=X.from(p[b].copy(g));let y=e.tr.step(new no(t.pos-p.length,t.pos+o.nodeSize,t.pos+v,t.pos+o.nodeSize-v,new he(g,p.length,0),0,!0));r(y.scrollIntoView())}return!0}}return!1}function PU(e){return function(t,r){let n=t.selection,i=e<0?n.$from:n.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(r&&r(t.tr.setSelection(Ne.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}var LU=PU(-1),zU=PU(1);function s0e(e,t=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o),s=a&&l6(a,e,t);return s?(n&&n(r.tr.wrap(a,s).scrollIntoView()),!0):!1}}function $j(e,t=null){return function(r,n){let i=!1;for(let o=0;o<r.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=r.selection.ranges[o];r.doc.nodesBetween(a,s,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let c=r.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(n){let o=r.tr;for(let a=0;a<r.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=r.selection.ranges[a];o.setBlockType(s,l,e,t)}n(o.scrollIntoView())}return!0}}function S6(...e){return function(t,r,n){for(let i=0;i<e.length;i++)if(e[i](t,r,n))return!0;return!1}}var k4=S6(w6,AU,DU),Uj=S6(w6,FU,RU),Dc={Enter:S6(MU,OU,BU,n0e),"Mod-Enter":_U,Backspace:k4,"Mod-Backspace":k4,"Shift-Backspace":k4,Delete:Uj,"Mod-Delete":Uj,"Mod-a":o0e},l0e={"Ctrl-h":Dc.Backspace,"Alt-Backspace":Dc["Mod-Backspace"],"Ctrl-d":Dc.Delete,"Ctrl-Alt-Backspace":Dc["Mod-Delete"],"Alt-Delete":Dc["Mod-Delete"],"Alt-d":Dc["Mod-Delete"],"Ctrl-a":LU,"Ctrl-e":zU};for(let e in Dc)l0e[e]=Dc[e];var fet=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1;function u0e(e,t=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o);if(!a)return!1;let s=n?r.tr:null;return c0e(s,a,e,t)?(n&&n(s.scrollIntoView()),!0):!1}}function c0e(e,t,r,n=null){let i=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(r)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);o=new EE(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new EE(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let s=l6(o,r,n,t);return s?(e&&d0e(e,t,s,i,r),!0):!1}function d0e(e,t,r,n,i){let o=X.empty;for(let c=r.length-1;c>=0;c--)o=X.from(r[c].type.create(r[c].attrs,o));e.step(new no(t.start-(n?2:0),t.end,t.start,t.end,new he(o,0,0),r.length,!0));let a=0;for(let c=0;c<r.length;c++)r[c].type==i&&(a=c+1);let s=r.length-a,l=t.start+r.length-(n?2:0),u=t.parent;for(let c=t.startIndex,d=t.endIndex,f=!0;c<d;c++,f=!1)!f&&Yl(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=u.child(c).nodeSize;return e}function f0e(e){return function(t,r){let{$from:n,$to:i}=t.selection,o=n.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return o?r?n.node(o.depth-1).type==e?h0e(t,r,e,o):p0e(t,r,o):!0:!1}}function h0e(e,t,r,n){let i=e.tr,o=n.end,a=n.$to.end(n.depth);o<a&&(i.step(new no(o-1,a,o,a,new he(X.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new EE(i.doc.resolve(n.$from.pos),i.doc.resolve(a),n.depth));let s=Gp(n);if(s==null)return!1;i.lift(n,s);let l=i.mapping.map(o,-1)-1;return _c(i.doc,l)&&i.join(l),t(i.scrollIntoView()),!0}function p0e(e,t,r){let n=e.tr,i=r.parent;for(let h=r.end,p=r.endIndex-1,m=r.startIndex;p>m;p--)h-=i.child(p).nodeSize,n.delete(h-1,h+1);let o=n.doc.resolve(r.start),a=o.nodeAfter;if(n.mapping.map(r.end)!=r.start+o.nodeAfter.nodeSize)return!1;let s=r.startIndex==0,l=r.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(s?0:1),c+1,a.content.append(l?X.empty:X.from(i))))return!1;let d=o.pos,f=d+a.nodeSize;return n.step(new no(d-(s?1:0),f+(l?1:0),d+1,f-1,new he((s?X.empty:X.from(i.copy(X.empty))).append(l?X.empty:X.from(i.copy(X.empty))),s?0:1,l?0:1),s?0:1)),t(n.scrollIntoView()),!0}function m0e(e){return function(t,r){let{$from:n,$to:i}=t.selection,o=n.blockRange(i,u=>u.childCount>0&&u.firstChild.type==e);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=e)return!1;if(r){let u=l.lastChild&&l.lastChild.type==s.type,c=X.from(u?e.create():null),d=new he(X.from(e.create(null,X.from(s.type.create(null,c)))),u?3:1,0),f=o.start,h=o.end;r(t.tr.step(new no(f-(u?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function NE(e){let{state:t,transaction:r}=e,{selection:n}=r,{doc:i}=r,{storedMarks:o}=r;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,o=r.storedMarks,r}}}var PE=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:e,editor:t,state:r}=this,{view:n}=t,{tr:i}=r,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,s])=>[a,(...u)=>{let c=s(...u)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(i),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){let{rawCommands:r,editor:n,state:i}=this,{view:o}=n,a=[],s=!!e,l=e||i.tr,u=()=>(!s&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),a.every(d=>d===!0)),c={...Object.fromEntries(Object.entries(r).map(([d,f])=>[d,(...p)=>{let m=this.buildProps(l,t),v=f(...p)(m);return a.push(v),c}])),run:u};return c}createCan(e){let{rawCommands:t,state:r}=this,n=!1,i=e||r.tr,o=this.buildProps(i,n);return{...Object.fromEntries(Object.entries(t).map(([s,l])=>[s,(...u)=>l(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,n)}}buildProps(e,t=!0){let{rawCommands:r,editor:n,state:i}=this,{view:o}=n,a={tr:e,editor:n,view:o,state:NE({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([s,l])=>[s,(...u)=>l(...u)(a)]))}};return a}},g0e=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){let r=this.callbacks[e];return r&&r.forEach(n=>n.apply(this,t)),this}off(e,t){let r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(n=>n!==t):delete this.callbacks[e]),this}once(e,t){let r=(...n)=>{this.off(e,r),t.apply(this,n)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}};function Ee(e,t,r){return e.config[t]===void 0&&e.parent?Ee(e.parent,t,r):typeof e.config[t]=="function"?e.config[t].bind({...r,parent:e.parent?Ee(e.parent,t,r):null}):e.config[t]}function LE(e){let t=e.filter(i=>i.type==="extension"),r=e.filter(i=>i.type==="node"),n=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:r,markExtensions:n}}function VU(e){let t=[],{nodeExtensions:r,markExtensions:n}=LE(e),i=[...r,...n],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{let s={name:a.name,options:a.options,storage:a.storage,extensions:i},l=Ee(a,"addGlobalAttributes",s);if(!l)return;l().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,h])=>{t.push({type:d,name:f,attribute:{...o,...h}})})})})}),i.forEach(a=>{let s={name:a.name,options:a.options,storage:a.storage},l=Ee(a,"addAttributes",s);if(!l)return;let u=l();Object.entries(u).forEach(([c,d])=>{let f={...o,...d};typeof f?.default=="function"&&(f.default=f.default()),f?.isRequired&&f?.default===void 0&&delete f.default,t.push({type:a.name,name:c,attribute:f})})}),t}function bn(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function er(...e){return e.filter(t=>!!t).reduce((t,r)=>{let n={...t};return Object.entries(r).forEach(([i,o])=>{if(!n[i]){n[i]=o;return}if(i==="class"){let s=o?String(o).split(" "):[],l=n[i]?n[i].split(" "):[],u=s.filter(c=>!l.includes(c));n[i]=[...l,...u].join(" ")}else if(i==="style"){let s=o?o.split(";").map(c=>c.trim()).filter(Boolean):[],l=n[i]?n[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;l.forEach(c=>{let[d,f]=c.split(":").map(h=>h.trim());u.set(d,f)}),s.forEach(c=>{let[d,f]=c.split(":").map(h=>h.trim());u.set(d,f)}),n[i]=Array.from(u.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else n[i]=o}),n},{})}function Cv(e,t){return t.filter(r=>r.type===e.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(e.attrs)||{}:{[r.name]:e.attrs[r.name]}).reduce((r,n)=>er(r,n),{})}function HU(e){return typeof e=="function"}function Je(e,t=void 0,...r){return HU(e)?t?e.bind(t)(...r):e(...r):e}function v0e(e={}){return Object.keys(e).length===0&&e.constructor===Object}function y0e(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Wj(e,t){return"style"in e?e:{...e,getAttrs:r=>{let n=e.getAttrs?e.getAttrs(r):e.attrs;if(n===!1)return!1;let i=t.reduce((o,a)=>{let s=a.attribute.parseHTML?a.attribute.parseHTML(r):y0e(r.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...n,...i}}}}function qj(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>t==="attrs"&&v0e(r)?!1:r!=null))}function w0e(e,t){var r;let n=VU(e),{nodeExtensions:i,markExtensions:o}=LE(e),a=(r=i.find(u=>Ee(u,"topNode")))===null||r===void 0?void 0:r.name,s=Object.fromEntries(i.map(u=>{let c=n.filter(g=>g.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:t},f=e.reduce((g,y)=>{let b=Ee(y,"extendNodeSchema",d);return{...g,...b?b(u):{}}},{}),h=qj({...f,content:Je(Ee(u,"content",d)),marks:Je(Ee(u,"marks",d)),group:Je(Ee(u,"group",d)),inline:Je(Ee(u,"inline",d)),atom:Je(Ee(u,"atom",d)),selectable:Je(Ee(u,"selectable",d)),draggable:Je(Ee(u,"draggable",d)),code:Je(Ee(u,"code",d)),whitespace:Je(Ee(u,"whitespace",d)),linebreakReplacement:Je(Ee(u,"linebreakReplacement",d)),defining:Je(Ee(u,"defining",d)),isolating:Je(Ee(u,"isolating",d)),attrs:Object.fromEntries(c.map(g=>{var y;return[g.name,{default:(y=g?.attribute)===null||y===void 0?void 0:y.default}]}))}),p=Je(Ee(u,"parseHTML",d));p&&(h.parseDOM=p.map(g=>Wj(g,c)));let m=Ee(u,"renderHTML",d);m&&(h.toDOM=g=>m({node:g,HTMLAttributes:Cv(g,c)}));let v=Ee(u,"renderText",d);return v&&(h.toText=v),[u.name,h]})),l=Object.fromEntries(o.map(u=>{let c=n.filter(v=>v.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:t},f=e.reduce((v,g)=>{let y=Ee(g,"extendMarkSchema",d);return{...v,...y?y(u):{}}},{}),h=qj({...f,inclusive:Je(Ee(u,"inclusive",d)),excludes:Je(Ee(u,"excludes",d)),group:Je(Ee(u,"group",d)),spanning:Je(Ee(u,"spanning",d)),code:Je(Ee(u,"code",d)),attrs:Object.fromEntries(c.map(v=>{var g;return[v.name,{default:(g=v?.attribute)===null||g===void 0?void 0:g.default}]}))}),p=Je(Ee(u,"parseHTML",d));p&&(h.parseDOM=p.map(v=>Wj(v,c)));let m=Ee(u,"renderHTML",d);return m&&(h.toDOM=v=>m({mark:v,HTMLAttributes:Cv(v,c)})),[u.name,h]}));return new g$({topNode:a,nodes:s,marks:l})}function A4(e,t){return t.nodes[e]||t.marks[e]||null}function Kj(e,t){return Array.isArray(t)?t.some(r=>(typeof r=="string"?r:r.name)===e.name):t}function C6(e,t){let r=Av.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}var b0e=(e,t=500)=>{let r="",n=e.parentOffset;return e.parent.nodesBetween(Math.max(0,n-t),n,(i,o,a,s)=>{var l,u;let c=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:o,parent:a,index:s}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,n-o))}),r};function k6(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var zE=class{constructor(e){this.find=e.find,this.handler=e.handler}},x0e=(e,t)=>{if(k6(t))return t.exec(e);let r=t(e);if(!r)return null;let n=[r.text];return n.index=r.index,n.input=e,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function lE(e){var t;let{editor:r,from:n,to:i,text:o,rules:a,plugin:s}=e,{view:l}=r;if(l.composing)return!1;let u=l.state.doc.resolve(n);if(u.parent.type.spec.code||!((t=u.nodeBefore||u.nodeAfter)===null||t===void 0)&&t.marks.find(f=>f.type.spec.code))return!1;let c=!1,d=b0e(u)+o;return a.forEach(f=>{if(c)return;let h=x0e(d,f.find);if(!h)return;let p=l.state.tr,m=NE({state:l.state,transaction:p}),v={from:n-(h[0].length-o.length),to:i},{commands:g,chain:y,can:b}=new PE({editor:r,state:m});f.handler({state:m,range:v,match:h,commands:g,chain:y,can:b})===null||!p.steps.length||(p.setMeta(s,{transform:p,from:n,to:i,text:o}),l.dispatch(p),c=!0)}),c}function E0e(e){let{editor:t,rules:r}=e,n=new Ur({state:{init(){return null},apply(i,o,a){let s=i.getMeta(n);if(s)return s;let l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:c}=l;typeof c=="string"?c=c:c=C6(X.from(c),a.schema);let{from:d}=l,f=d+c.length;lE({editor:t,from:d,to:f,text:c,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,a,s){return lE({editor:t,from:o,to:a,text:s,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{let{$cursor:o}=i.state.selection;o&&lE({editor:t,from:o.pos,to:o.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;let{$cursor:a}=i.state.selection;return a?lE({editor:t,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function S0e(e){return Object.prototype.toString.call(e).slice(8,-1)}function uE(e){return S0e(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function VE(e,t){let r={...e};return uE(e)&&uE(t)&&Object.keys(t).forEach(n=>{uE(t[n])&&uE(e[n])?r[n]=VE(e[n],t[n]):r[n]=t[n]}),r}var ts=class X4{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Je(Ee(this,"addOptions",{name:this.name}))),this.storage=Je(Ee(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new X4(t)}configure(t={}){let r=this.extend({...this.config,addOptions:()=>VE(this.options,t)});return r.name=this.name,r.parent=this.parent,r}extend(t={}){let r=new X4(t);return r.parent=this,this.child=r,r.name=t.name?t.name:r.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Je(Ee(r,"addOptions",{name:r.name})),r.storage=Je(Ee(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:t,mark:r}){let{tr:n}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){let a=i.marks();if(!!!a.find(u=>u?.type.name===r.name))return!1;let l=a.find(u=>u?.type.name===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),t.view.dispatch(n),!0}return!1}};function C0e(e){return typeof e=="number"}var k0e=class{constructor(e){this.find=e.find,this.handler=e.handler}},A0e=(e,t,r)=>{if(k6(t))return[...e.matchAll(t)];let n=t(e,r);return n?n.map(i=>{let o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function T0e(e){let{editor:t,state:r,from:n,to:i,rule:o,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:u,can:c}=new PE({editor:t,state:r}),d=[];return r.doc.nodesBetween(n,i,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;let m=Math.max(n,p),v=Math.min(i,p+h.content.size),g=h.textBetween(m-p,v-p,void 0,"\uFFFC");A0e(g,o.find,a).forEach(b=>{if(b.index===void 0)return;let x=m+b.index+1,S=x+b[0].length,E={from:r.tr.mapping.map(x),to:r.tr.mapping.map(S)},I=o.handler({state:r,range:E,match:b,commands:l,chain:u,can:c,pasteEvent:a,dropEvent:s});d.push(I)})}),d.every(h=>h!==null)}var cE=null,D0e=e=>{var t;let r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=r.clipboardData)===null||t===void 0||t.setData("text/html",e),r};function I0e(e){let{editor:t,rules:r}=e,n=null,i=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,s;try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}let l=({state:c,from:d,to:f,rule:h,pasteEvt:p})=>{let m=c.tr,v=NE({state:c,transaction:m});if(!(!T0e({editor:t,state:v,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:s})||!m.steps.length)){try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return r.map(c=>new Ur({view(d){let f=p=>{var m;n=!((m=d.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?d.dom.parentElement:null,n&&(cE=t)},h=()=>{cE&&(cE=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(o=n===d.dom.parentElement,s=f,!o){let h=cE;h&&setTimeout(()=>{let p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(d,f)=>{var h;let p=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return a=f,i=!!p?.includes("data-pm-slice"),!1}}},appendTransaction:(d,f,h)=>{let p=d[0],m=p.getMeta("uiEvent")==="paste"&&!i,v=p.getMeta("uiEvent")==="drop"&&!o,g=p.getMeta("applyPasteRules"),y=!!g;if(!m&&!v&&!y)return;if(y){let{text:S}=g;typeof S=="string"?S=S:S=C6(X.from(S),h.schema);let{from:E}=g,I=E+S.length,k=D0e(S);return l({rule:c,state:h,from:E,to:{b:I},pasteEvt:k})}let b=f.doc.content.findDiffStart(h.doc.content),x=f.doc.content.findDiffEnd(h.doc.content);if(!(!C0e(b)||!x||b===x.b))return l({rule:c,state:h,from:b,to:x,pasteEvt:a})}}))}function F0e(e){let t=e.filter((r,n)=>e.indexOf(r)!==n);return Array.from(new Set(t))}var R0e=class dv{constructor(t,r){this.splittableMarks=[],this.editor=r,this.extensions=dv.resolve(t),this.schema=w0e(this.extensions,r),this.setupExtensions()}static resolve(t){let r=dv.sort(dv.flatten(t)),n=F0e(r.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),r}static flatten(t){return t.map(r=>{let n={name:r.name,options:r.options,storage:r.storage},i=Ee(r,"addExtensions",n);return i?[r,...this.flatten(i())]:r}).flat(10)}static sort(t){return t.sort((n,i)=>{let o=Ee(n,"priority")||100,a=Ee(i,"priority")||100;return o>a?-1:o<a?1:0})}get commands(){return this.extensions.reduce((t,r)=>{let n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:A4(r.name,this.schema)},i=Ee(r,"addCommands",n);return i?{...t,...i()}:t},{})}get plugins(){let{editor:t}=this,r=dv.sort([...this.extensions].reverse()),n=[],i=[],o=r.map(a=>{let s={name:a.name,options:a.options,storage:a.storage,editor:t,type:A4(a.name,this.schema)},l=[],u=Ee(a,"addKeyboardShortcuts",s),c={};if(a.type==="mark"&&Ee(a,"exitable",s)&&(c.ArrowRight=()=>ts.handleExit({editor:t,mark:a})),u){let m=Object.fromEntries(Object.entries(u()).map(([v,g])=>[v,()=>g({editor:t})]));c={...c,...m}}let d=Jme(c);l.push(d);let f=Ee(a,"addInputRules",s);Kj(a,t.options.enableInputRules)&&f&&n.push(...f());let h=Ee(a,"addPasteRules",s);Kj(a,t.options.enablePasteRules)&&h&&i.push(...h());let p=Ee(a,"addProseMirrorPlugins",s);if(p){let m=p();l.push(...m)}return l}).flat();return[E0e({editor:t,rules:n}),...I0e({editor:t,rules:i}),...o]}get attributes(){return VU(this.extensions)}get nodeViews(){let{editor:t}=this,{nodeExtensions:r}=LE(this.extensions);return Object.fromEntries(r.filter(n=>!!Ee(n,"addNodeView")).map(n=>{let i=this.attributes.filter(l=>l.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:t,type:bn(n.name,this.schema)},a=Ee(n,"addNodeView",o);if(!a)return[];let s=(l,u,c,d,f)=>{let h=Cv(l,i);return a()({node:l,view:u,getPos:c,decorations:d,innerDecorations:f,editor:t,extension:n,HTMLAttributes:h})};return[n.name,s]}))}setupExtensions(){this.extensions.forEach(t=>{var r;this.editor.extensionStorage[t.name]=t.storage;let n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:A4(t.name,this.schema)};t.type==="mark"&&(!((r=Je(Ee(t,"keepOnSplit",n)))!==null&&r!==void 0)||r)&&this.splittableMarks.push(t.name);let i=Ee(t,"onBeforeCreate",n),o=Ee(t,"onCreate",n),a=Ee(t,"onUpdate",n),s=Ee(t,"onSelectionUpdate",n),l=Ee(t,"onTransaction",n),u=Ee(t,"onFocus",n),c=Ee(t,"onBlur",n),d=Ee(t,"onDestroy",n);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),a&&this.editor.on("update",a),s&&this.editor.on("selectionUpdate",s),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}},Pn=class Z4{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Je(Ee(this,"addOptions",{name:this.name}))),this.storage=Je(Ee(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Z4(t)}configure(t={}){let r=this.extend({...this.config,addOptions:()=>VE(this.options,t)});return r.name=this.name,r.parent=this.parent,r}extend(t={}){let r=new Z4({...this.config,...t});return r.parent=this,this.child=r,r.name=t.name?t.name:r.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Je(Ee(r,"addOptions",{name:r.name})),r.storage=Je(Ee(r,"addStorage",{name:r.name,options:r.options})),r}};function jU(e,t,r){let{from:n,to:i}=t,{blockSeparator:o=`

`,textSerializers:a={}}=r||{},s="";return e.nodesBetween(n,i,(l,u,c,d)=>{var f;l.isBlock&&u>n&&(s+=o);let h=a?.[l.type.name];if(h)return c&&(s+=h({node:l,pos:u,parent:c,index:d,range:t})),!1;l.isText&&(s+=(f=l?.text)===null||f===void 0?void 0:f.slice(Math.max(n,u)-u,i-u))}),s}function HE(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,r])=>[t,r.spec.toText]))}var M0e=Pn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ur({key:new xn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:e}=this,{state:t,schema:r}=e,{doc:n,selection:i}=t,{ranges:o}=i,a=Math.min(...o.map(c=>c.$from.pos)),s=Math.max(...o.map(c=>c.$to.pos)),l=HE(r);return jU(n,{from:a,to:s},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),_0e=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var r;e.isDestroyed||(t.dom.blur(),(r=window?.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),O0e=(e=!1)=>({commands:t})=>t.setContent("",e),B0e=()=>({state:e,tr:t,dispatch:r})=>{let{selection:n}=t,{ranges:i}=n;return r&&i.forEach(({$from:o,$to:a})=>{e.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;let{doc:u,mapping:c}=t,d=u.resolve(c.map(l)),f=u.resolve(c.map(l+s.nodeSize)),h=d.blockRange(f);if(!h)return;let p=Gp(h);if(s.type.isTextblock){let{defaultType:m}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(h.start,m)}(p||p===0)&&t.lift(h,p)})}),!0},N0e=e=>t=>e(t),P0e=()=>({state:e,dispatch:t})=>OU(e,t),L0e=(e,t)=>({editor:r,tr:n})=>{let{state:i}=r,o=i.doc.slice(e.from,e.to);n.deleteRange(e.from,e.to);let a=n.mapping.map(t);return n.insert(a,o.content),n.setSelection(new Ne(n.doc.resolve(a-1))),!0},z0e=()=>({tr:e,dispatch:t})=>{let{selection:r}=e,n=r.$anchor.node();if(n.content.size>0)return!1;let i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===n.type){if(t){let s=i.before(o),l=i.after(o);e.delete(s,l).scrollIntoView()}return!0}return!1},V0e=e=>({tr:t,state:r,dispatch:n})=>{let i=bn(e,r.schema),o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(n){let l=o.before(a),u=o.after(a);t.delete(l,u).scrollIntoView()}return!0}return!1},H0e=e=>({tr:t,dispatch:r})=>{let{from:n,to:i}=e;return r&&t.delete(n,i),!0},j0e=()=>({state:e,dispatch:t})=>w6(e,t),$0e=()=>({commands:e})=>e.keyboardShortcut("Enter"),U0e=()=>({state:e,dispatch:t})=>_U(e,t);function IE(e,t,r={strict:!0}){let n=Object.keys(t);return n.length?n.every(i=>r.strict?t[i]===e[i]:k6(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function $U(e,t,r={}){return e.find(n=>n.type===t&&IE(Object.fromEntries(Object.keys(r).map(i=>[i,n.attrs[i]])),r))}function Yj(e,t,r={}){return!!$U(e,t,r)}function A6(e,t,r){var n;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(c=>c.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(c=>c.type===t)||(r=r||((n=i.node.marks[0])===null||n===void 0?void 0:n.attrs),!$U([...i.node.marks],t,r)))return;let a=i.index,s=e.start()+i.offset,l=a+1,u=s+i.node.nodeSize;for(;a>0&&Yj([...e.parent.child(a-1).marks],t,r);)a-=1,s-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&Yj([...e.parent.child(l).marks],t,r);)u+=e.parent.child(l).nodeSize,l+=1;return{from:s,to:u}}function Bc(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var W0e=(e,t={})=>({tr:r,state:n,dispatch:i})=>{let o=Bc(e,n.schema),{doc:a,selection:s}=r,{$from:l,from:u,to:c}=s;if(i){let d=A6(l,o,t);if(d&&d.from<=u&&d.to>=c){let f=Ne.create(a,d.from,d.to);r.setSelection(f)}}return!0},q0e=e=>t=>{let r=typeof e=="function"?e(t):e;for(let n=0;n<r.length;n+=1)if(r[n](t))return!0;return!1};function UU(e){return e instanceof Ne}function Kl(e=0,t=0,r=0){return Math.min(Math.max(e,t),r)}function WU(e,t=null){if(!t)return null;let r=Le.atStart(e),n=Le.atEnd(e);if(t==="start"||t===!0)return r;if(t==="end")return n;let i=r.from,o=n.to;return t==="all"?Ne.create(e,Kl(0,i,o),Kl(e.content.size,i,o)):Ne.create(e,Kl(t,i,o),Kl(t,i,o))}var K0e=(e=null,t={})=>({editor:r,view:n,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};let a=()=>{n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),t?.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!UU(r.state.selection))return a(),!0;let s=WU(i.doc,e)||r.state.selection,l=r.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},Y0e=(e,t)=>r=>e.every((n,i)=>t(n,{...r,index:i})),G0e=(e,t)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},e,t),qU=e=>{let t=e.childNodes;for(let r=t.length-1;r>=0;r-=1){let n=t[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?e.removeChild(n):n.nodeType===1&&qU(n)}return e};function dE(e){let t=`<body>${e}</body>`,r=new window.DOMParser().parseFromString(t,"text/html").body;return qU(r)}function FE(e,t,r){if(e instanceof Fc||e instanceof X)return e;r={slice:!0,parseOptions:{},...r};let n=typeof e=="object"&&e!==null,i=typeof e=="string";if(n)try{if(Array.isArray(e)&&e.length>0)return X.fromArray(e.map(s=>t.nodeFromJSON(s)));let a=t.nodeFromJSON(e);return r.errorOnInvalidContent&&a.check(),a}catch(o){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),FE("",t,r)}if(i){if(r.errorOnInvalidContent){let a=!1,s="",l=new g$({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,s=typeof u=="string"?u:u.outerHTML,null)}]}})});if(r.slice?hv.fromSchema(l).parseSlice(dE(e),r.parseOptions):hv.fromSchema(l).parse(dE(e),r.parseOptions),r.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}let o=hv.fromSchema(t);return r.slice?o.parseSlice(dE(e),r.parseOptions).content:o.parse(dE(e),r.parseOptions)}return FE("",t,r)}function J0e(e,t,r){let n=e.steps.length-1;if(n<t)return;let i=e.steps[n];if(!(i instanceof Xa||i instanceof no))return;let o=e.mapping.maps[n],a=0;o.forEach((s,l,u,c)=>{a===0&&(a=c)}),e.setSelection(Le.near(e.doc.resolve(a),r))}var Q0e=e=>!("type"in e),X0e=(e,t,r)=>({tr:n,dispatch:i,editor:o})=>{var a;if(i){r={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let s;try{s=FE(t,o.schema,{parseOptions:{preserveWhitespace:"full",...r.parseOptions},errorOnInvalidContent:(a=r.errorOnInvalidContent)!==null&&a!==void 0?a:o.options.enableContentCheck})}catch(p){return o.emit("contentError",{editor:o,error:p,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:u}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},c=!0,d=!0;if((Q0e(s)?s:[s]).forEach(p=>{p.check(),c=c?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),l===u&&d){let{parent:p}=n.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,u+=1)}let h;if(c){if(Array.isArray(t))h=t.map(p=>p.text||"").join("");else if(t instanceof X){let p="";t.forEach(m=>{m.text&&(p+=m.text)}),h=p}else typeof t=="object"&&t&&t.text?h=t.text:h=t;n.insertText(h,l,u)}else h=s,n.replaceWith(l,u,h);r.updateSelection&&J0e(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:l,text:h}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:l,text:h})}return!0},Z0e=()=>({state:e,dispatch:t})=>Zme(e,t),ege=()=>({state:e,dispatch:t})=>e0e(e,t),tge=()=>({state:e,dispatch:t})=>AU(e,t),rge=()=>({state:e,dispatch:t})=>FU(e,t),nge=()=>({state:e,dispatch:t,tr:r})=>{try{let n=RE(e.doc,e.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},ige=()=>({state:e,dispatch:t,tr:r})=>{try{let n=RE(e.doc,e.selection.$from.pos,1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},oge=()=>({state:e,dispatch:t})=>Qme(e,t),age=()=>({state:e,dispatch:t})=>Xme(e,t);function T6(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function KU(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function sge(e){let t=e.split(/-(?!$)/),r=t[t.length-1];r==="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<t.length-1;s+=1){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))T6()||KU()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),a&&(r=`Meta-${r}`),o&&(r=`Shift-${r}`),r}var lge=e=>({editor:t,view:r,tr:n,dispatch:i})=>{let o=sge(e).split(/-(?!$)/),a=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,s))});return l?.steps.forEach(u=>{let c=u.map(n.mapping);c&&i&&n.maybeStep(c)}),!0};function kv(e,t,r={}){let{from:n,to:i,empty:o}=e.selection,a=t?bn(t,e.schema):null,s=[];e.doc.nodesBetween(n,i,(d,f)=>{if(d.isText)return;let h=Math.max(n,f),p=Math.min(i,f+d.nodeSize);s.push({node:d,from:h,to:p})});let l=i-n,u=s.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>IE(d.node.attrs,r,{strict:!1}));return o?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=l}var uge=(e,t={})=>({state:r,dispatch:n})=>{let i=bn(e,r.schema);return kv(r,i,t)?t0e(r,n):!1},cge=()=>({state:e,dispatch:t})=>BU(e,t),dge=e=>({state:t,dispatch:r})=>{let n=bn(e,t.schema);return f0e(n)(t,r)},fge=()=>({state:e,dispatch:t})=>MU(e,t);function jE(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Gj(e,t){let r=typeof t=="string"?[t]:t;return Object.keys(e).reduce((n,i)=>(r.includes(i)||(n[i]=e[i]),n),{})}var hge=(e,t)=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null,s=jE(typeof e=="string"?e:e.name,n.schema);return s?(s==="node"&&(o=bn(e,n.schema)),s==="mark"&&(a=Bc(e,n.schema)),i&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{o&&o===u.type&&r.setNodeMarkup(c,void 0,Gj(u.attrs,t)),a&&u.marks.length&&u.marks.forEach(d=>{a===d.type&&r.addMark(c,c+u.nodeSize,a.create(Gj(d.attrs,t)))})})}),!0):!1},pge=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),mge=()=>({tr:e,dispatch:t})=>{if(t){let r=new Us(e.doc);e.setSelection(r)}return!0},gge=()=>({state:e,dispatch:t})=>DU(e,t),vge=()=>({state:e,dispatch:t})=>RU(e,t),yge=()=>({state:e,dispatch:t})=>i0e(e,t),wge=()=>({state:e,dispatch:t})=>zU(e,t),bge=()=>({state:e,dispatch:t})=>LU(e,t);function e6(e,t,r={},n={}){return FE(e,t,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var xge=(e,t=!1,r={},n={})=>({editor:i,tr:o,dispatch:a,commands:s})=>{var l,u;let{doc:c}=o;if(r.preserveWhitespace!=="full"){let d=e6(e,i.schema,r,{errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return a&&o.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!t),!0}return a&&o.setMeta("preventUpdate",!t),s.insertContentAt({from:0,to:c.content.size},e,{parseOptions:r,errorOnInvalidContent:(u=n.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function YU(e,t){let r=Bc(t,e.schema),{from:n,to:i,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(n,i,l=>{a.push(...l.marks)});let s=a.find(l=>l.type.name===r.name);return s?{...s.attrs}:{}}function Ege(e){for(let t=0;t<e.edgeCount;t+=1){let{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function D6(e,t){for(let r=e.depth;r>0;r-=1){let n=e.node(r);if(t(n))return{pos:r>0?e.before(r):0,start:e.start(r),depth:r,node:n}}}function I6(e){return t=>D6(t.$from,e)}function F6(e,t){let r={from:0,to:e.content.size};return jU(e,r,t)}function Sge(e,t){let r=bn(t,e.schema),{from:n,to:i}=e.selection,o=[];e.doc.nodesBetween(n,i,s=>{o.push(s)});let a=o.reverse().find(s=>s.type.name===r.name);return a?{...a.attrs}:{}}function Cge(e,t){let r=jE(typeof t=="string"?t:t.name,e.schema);return r==="node"?Sge(e,t):r==="mark"?YU(e,t):{}}function GU(e,t,r){let n=[];return e===t?r.resolve(e).marks().forEach(i=>{let o=r.resolve(e),a=A6(o,i.type);a&&n.push({mark:i,...a})}):r.nodesBetween(e,t,(i,o)=>{!i||i?.nodeSize===void 0||n.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),n}function yE(e,t,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{let i=e.find(o=>o.type===t&&o.name===n);return i?i.attribute.keepOnSplit:!1}))}function t6(e,t,r={}){let{empty:n,ranges:i}=e.selection,o=t?Bc(t,e.schema):null;if(n)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>IE(d.attrs,r,{strict:!1}));let a=0,s=[];if(i.forEach(({$from:d,$to:f})=>{let h=d.pos,p=f.pos;e.doc.nodesBetween(h,p,(m,v)=>{if(!m.isText&&!m.marks.length)return;let g=Math.max(h,v),y=Math.min(p,v+m.nodeSize),b=y-g;a+=b,s.push(...m.marks.map(x=>({mark:x,from:g,to:y})))})}),a===0)return!1;let l=s.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>IE(d.mark.attrs,r,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=s.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+u:l)>=a}function kge(e,t,r={}){if(!t)return kv(e,null,r)||t6(e,null,r);let n=jE(t,e.schema);return n==="node"?kv(e,t,r):n==="mark"?t6(e,t,r):!1}function Jj(e,t){let{nodeExtensions:r}=LE(t),n=r.find(a=>a.name===e);if(!n)return!1;let i={name:n.name,options:n.options,storage:n.storage},o=Je(Ee(n,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function R6(e,{checkChildren:t=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((n=e.text)!==null&&n!==void 0?n:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(R6(o,{ignoreWhitespace:r,checkChildren:t})||(i=!1))}),i}return!1}function JU(e){return e instanceof Be}function QU(e,t,r){let i=e.state.doc.content.size,o=Kl(t,0,i),a=Kl(r,0,i),s=e.coordsAtPos(o),l=e.coordsAtPos(a,-1),u=Math.min(s.top,l.top),c=Math.max(s.bottom,l.bottom),d=Math.min(s.left,l.left),f=Math.max(s.right,l.right),h=f-d,p=c-u,g={top:u,bottom:c,left:d,right:f,width:h,height:p,x:d,y:u};return{...g,toJSON:()=>g}}function Age(e,t,r){var n;let{selection:i}=t,o=null;if(UU(i)&&(o=i.$cursor),o){let s=(n=e.storedMarks)!==null&&n!==void 0?n:o.marks();return!!r.isInSet(s)||!s.some(l=>l.type.excludes(r))}let{ranges:a}=i;return a.some(({$from:s,$to:l})=>{let u=s.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(r):!1;return e.doc.nodesBetween(s.pos,l.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){let h=!f||f.type.allowsMarkType(r),p=!!r.isInSet(c.marks)||!c.marks.some(m=>m.type.excludes(r));u=h&&p}return!u}),u})}var Tge=(e,t={})=>({tr:r,state:n,dispatch:i})=>{let{selection:o}=r,{empty:a,ranges:s}=o,l=Bc(e,n.schema);if(i)if(a){let u=YU(n,l);r.addStoredMark(l.create({...u,...t}))}else s.forEach(u=>{let c=u.$from.pos,d=u.$to.pos;n.doc.nodesBetween(c,d,(f,h)=>{let p=Math.max(h,c),m=Math.min(h+f.nodeSize,d);f.marks.find(g=>g.type===l)?f.marks.forEach(g=>{l===g.type&&r.addMark(p,m,l.create({...g.attrs,...t}))}):r.addMark(p,m,l.create(t))})});return Age(n,r,l)},Dge=(e,t)=>({tr:r})=>(r.setMeta(e,t),!0),Ige=(e,t={})=>({state:r,dispatch:n,chain:i})=>{let o=bn(e,r.schema),a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:s})=>$j(o,{...a,...t})(r)?!0:s.clearNodes()).command(({state:s})=>$j(o,{...a,...t})(s,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Fge=e=>({tr:t,dispatch:r})=>{if(r){let{doc:n}=t,i=Kl(e,0,n.content.size),o=Be.create(n,i);t.setSelection(o)}return!0},Rge=e=>({tr:t,dispatch:r})=>{if(r){let{doc:n}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,a=Ne.atStart(n).from,s=Ne.atEnd(n).to,l=Kl(i,a,s),u=Kl(o,a,s),c=Ne.create(n,l,u);t.setSelection(c)}return!0},Mge=e=>({state:t,dispatch:r})=>{let n=bn(e,t.schema);return m0e(n)(t,r)};function Qj(e,t){let r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(r){let n=r.filter(i=>t?.includes(i.type.name));e.tr.ensureMarks(n)}}var _ge=({keepMarks:e=!0}={})=>({tr:t,state:r,dispatch:n,editor:i})=>{let{selection:o,doc:a}=t,{$from:s,$to:l}=o,u=i.extensionManager.attributes,c=yE(u,s.node().type.name,s.node().attrs);if(o instanceof Be&&o.node.isBlock)return!s.parentOffset||!Yl(a,s.pos)?!1:(n&&(e&&Qj(r,i.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;let d=l.parentOffset===l.parent.content.size,f=s.depth===0?void 0:Ege(s.node(-1).contentMatchAt(s.indexAfter(-1))),h=d&&f?[{type:f,attrs:c}]:void 0,p=Yl(t.doc,t.mapping.map(s.pos),1,h);if(!h&&!p&&Yl(t.doc,t.mapping.map(s.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:c}]:void 0),n){if(p&&(o instanceof Ne&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,h),f&&!d&&!s.parentOffset&&s.parent.type!==f)){let m=t.mapping.map(s.before()),v=t.doc.resolve(m);s.node(-1).canReplaceWith(v.index(),v.index()+1,f)&&t.setNodeMarkup(t.mapping.map(s.before()),f)}e&&Qj(r,i.extensionManager.splittableMarks),t.scrollIntoView()}return p},Oge=(e,t={})=>({tr:r,state:n,dispatch:i,editor:o})=>{var a;let s=bn(e,n.schema),{$from:l,$to:u}=n.selection,c=n.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(u))return!1;let d=l.node(-1);if(d.type!==s)return!1;let f=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let g=X.empty,y=l.index(-1)?1:l.index(-2)?2:3;for(let k=l.depth-y;k>=l.depth-3;k-=1)g=X.from(l.node(k).copy(g));let b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,x={...yE(f,l.node().type.name,l.node().attrs),...t},S=((a=s.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(x))||void 0;g=g.append(X.from(s.createAndFill(null,S)||void 0));let E=l.before(l.depth-(y-1));r.replace(E,l.after(-b),new he(g,4-y,0));let I=-1;r.doc.nodesBetween(E,r.doc.content.size,(k,D)=>{if(I>-1)return!1;k.isTextblock&&k.content.size===0&&(I=D+1)}),I>-1&&r.setSelection(Ne.near(r.doc.resolve(I))),r.scrollIntoView()}return!0}let h=u.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...yE(f,d.type.name,d.attrs),...t},m={...yE(f,l.node().type.name,l.node().attrs),...t};r.delete(l.pos,u.pos);let v=h?[{type:s,attrs:p},{type:h,attrs:m}]:[{type:s,attrs:p}];if(!Yl(r.doc,l.pos,2))return!1;if(i){let{selection:g,storedMarks:y}=n,{splittableMarks:b}=o.extensionManager,x=y||g.$to.parentOffset&&g.$from.marks();if(r.split(l.pos,2,v).scrollIntoView(),!x||!i)return!0;let S=x.filter(E=>b.includes(E.type.name));r.ensureMarks(S)}return!0},T4=(e,t)=>{let r=I6(a=>a.type===t)(e.selection);if(!r)return!0;let n=e.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;let i=e.doc.nodeAt(n);return r.node.type===i?.type&&_c(e.doc,r.pos)&&e.join(r.pos),!0},D4=(e,t)=>{let r=I6(a=>a.type===t)(e.selection);if(!r)return!0;let n=e.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;let i=e.doc.nodeAt(n);return r.node.type===i?.type&&_c(e.doc,n)&&e.join(n),!0},Bge=(e,t,r,n={})=>({editor:i,tr:o,state:a,dispatch:s,chain:l,commands:u,can:c})=>{let{extensions:d,splittableMarks:f}=i.extensionManager,h=bn(e,a.schema),p=bn(t,a.schema),{selection:m,storedMarks:v}=a,{$from:g,$to:y}=m,b=g.blockRange(y),x=v||m.$to.parentOffset&&m.$from.marks();if(!b)return!1;let S=I6(E=>Jj(E.type.name,d))(m);if(b.depth>=1&&S&&b.depth-S.depth<=1){if(S.node.type===h)return u.liftListItem(p);if(Jj(S.node.type.name,d)&&h.validContent(S.node.content)&&s)return l().command(()=>(o.setNodeMarkup(S.pos,h),!0)).command(()=>T4(o,h)).command(()=>D4(o,h)).run()}return!r||!x||!s?l().command(()=>c().wrapInList(h,n)?!0:u.clearNodes()).wrapInList(h,n).command(()=>T4(o,h)).command(()=>D4(o,h)).run():l().command(()=>{let E=c().wrapInList(h,n),I=x.filter(k=>f.includes(k.type.name));return o.ensureMarks(I),E?!0:u.clearNodes()}).wrapInList(h,n).command(()=>T4(o,h)).command(()=>D4(o,h)).run()},Nge=(e,t={},r={})=>({state:n,commands:i})=>{let{extendEmptyMarkRange:o=!1}=r,a=Bc(e,n.schema);return t6(n,a,t)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,t)},Pge=(e,t,r={})=>({state:n,commands:i})=>{let o=bn(e,n.schema),a=bn(t,n.schema),s=kv(n,o,r),l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),s?i.setNode(a,l):i.setNode(o,{...l,...r})},Lge=(e,t={})=>({state:r,commands:n})=>{let i=bn(e,r.schema);return kv(r,i,t)?n.lift(i):n.wrapIn(i,t)},zge=()=>({state:e,dispatch:t})=>{let r=e.plugins;for(let n=0;n<r.length;n+=1){let i=r[n],o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){let a=e.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){let l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1},Vge=()=>({tr:e,dispatch:t})=>{let{selection:r}=e,{empty:n,ranges:i}=r;return n||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},Hge=(e,t={})=>({tr:r,state:n,dispatch:i})=>{var o;let{extendEmptyMarkRange:a=!1}=t,{selection:s}=r,l=Bc(e,n.schema),{$from:u,empty:c,ranges:d}=s;if(!i)return!0;if(c&&a){let{from:f,to:h}=s,p=(o=u.marks().find(v=>v.type===l))===null||o===void 0?void 0:o.attrs,m=A6(u,l,p);m&&(f=m.from,h=m.to),r.removeMark(f,h,l)}else d.forEach(f=>{r.removeMark(f.$from.pos,f.$to.pos,l)});return r.removeStoredMark(l),!0},jge=(e,t={})=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null,s=jE(typeof e=="string"?e:e.name,n.schema);return s?(s==="node"&&(o=bn(e,n.schema)),s==="mark"&&(a=Bc(e,n.schema)),i&&r.selection.ranges.forEach(l=>{let u=l.$from.pos,c=l.$to.pos,d,f,h,p;r.selection.empty?n.doc.nodesBetween(u,c,(m,v)=>{o&&o===m.type&&(h=Math.max(v,u),p=Math.min(v+m.nodeSize,c),d=v,f=m)}):n.doc.nodesBetween(u,c,(m,v)=>{v<u&&o&&o===m.type&&(h=Math.max(v,u),p=Math.min(v+m.nodeSize,c),d=v,f=m),v>=u&&v<=c&&(o&&o===m.type&&r.setNodeMarkup(v,void 0,{...m.attrs,...t}),a&&m.marks.length&&m.marks.forEach(g=>{if(a===g.type){let y=Math.max(v,u),b=Math.min(v+m.nodeSize,c);r.addMark(y,b,a.create({...g.attrs,...t}))}}))}),f&&(d!==void 0&&r.setNodeMarkup(d,void 0,{...f.attrs,...t}),a&&f.marks.length&&f.marks.forEach(m=>{a===m.type&&r.addMark(h,p,a.create({...m.attrs,...t}))}))}),!0):!1},$ge=(e,t={})=>({state:r,dispatch:n})=>{let i=bn(e,r.schema);return s0e(i,t)(r,n)},Uge=(e,t={})=>({state:r,dispatch:n})=>{let i=bn(e,r.schema);return u0e(i,t)(r,n)},Wge=Object.freeze({__proto__:null,blur:_0e,clearContent:O0e,clearNodes:B0e,command:N0e,createParagraphNear:P0e,cut:L0e,deleteCurrentNode:z0e,deleteNode:V0e,deleteRange:H0e,deleteSelection:j0e,enter:$0e,exitCode:U0e,extendMarkRange:W0e,first:q0e,focus:K0e,forEach:Y0e,insertContent:G0e,insertContentAt:X0e,joinBackward:tge,joinDown:ege,joinForward:rge,joinItemBackward:nge,joinItemForward:ige,joinTextblockBackward:oge,joinTextblockForward:age,joinUp:Z0e,keyboardShortcut:lge,lift:uge,liftEmptyBlock:cge,liftListItem:dge,newlineInCode:fge,resetAttributes:hge,scrollIntoView:pge,selectAll:mge,selectNodeBackward:gge,selectNodeForward:vge,selectParentNode:yge,selectTextblockEnd:wge,selectTextblockStart:bge,setContent:xge,setMark:Tge,setMeta:Dge,setNode:Ige,setNodeSelection:Fge,setTextSelection:Rge,sinkListItem:Mge,splitBlock:_ge,splitListItem:Oge,toggleList:Bge,toggleMark:Nge,toggleNode:Pge,toggleWrap:Lge,undoInputRule:zge,unsetAllMarks:Vge,unsetMark:Hge,updateAttributes:jge,wrapIn:$ge,wrapInList:Uge}),qge=Pn.create({name:"commands",addCommands(){return{...Wge}}}),Kge=Pn.create({name:"drop",addProseMirrorPlugins(){return[new Ur({key:new xn("tiptapDrop"),props:{handleDrop:(e,t,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:r,moved:n})}}})]}}),Yge=Pn.create({name:"editable",addProseMirrorPlugins(){return[new Ur({key:new xn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Gge=Pn.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:e}=this;return[new Ur({key:new xn("focusEvents"),props:{handleDOMEvents:{focus:(t,r)=>{e.isFocused=!0;let n=e.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1},blur:(t,r)=>{e.isFocused=!1;let n=e.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1}}}})]}}),Jge=Pn.create({name:"keymap",addKeyboardShortcuts(){let e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{let{selection:l,doc:u}=s,{empty:c,$anchor:d}=l,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?s.doc.resolve(f-1):d,m=p.parent.type.spec.isolating,v=d.pos-d.parentOffset,g=m&&p.parent.childCount===1?v===d.pos:Le.atStart(u).from===f;return!c||!h.type.isTextblock||h.textContent.length||!g||g&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return T6()||KU()?o:i},addProseMirrorPlugins(){return[new Ur({key:new xn("clearDocument"),appendTransaction:(e,t,r)=>{let n=e.some(m=>m.docChanged)&&!t.doc.eq(r.doc),i=e.some(m=>m.getMeta("preventClearDocument"));if(!n||i)return;let{empty:o,from:a,to:s}=t.selection,l=Le.atStart(t.doc).from,u=Le.atEnd(t.doc).to;if(o||!(a===l&&s===u)||!R6(r.doc))return;let f=r.tr,h=NE({state:r,transaction:f}),{commands:p}=new PE({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),Qge=Pn.create({name:"paste",addProseMirrorPlugins(){return[new Ur({key:new xn("tiptapPaste"),props:{handlePaste:(e,t,r)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:r})}}})]}}),Xge=Pn.create({name:"tabindex",addProseMirrorPlugins(){return[new Ur({key:new xn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Zge=class $p{get name(){return this.node.type.name}constructor(t,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=r,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can\u2019t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;let t=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(t);return new $p(r,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new $p(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new $p(t,this.editor)}get children(){let t=[];return this.node.content.forEach((r,n)=>{let i=r.isBlock&&!r.isTextblock,o=r.isAtom&&!r.isText,a=this.pos+n+(o?0:1),s=this.resolvedPos.doc.resolve(a);if(!i&&s.depth<=this.depth)return;let l=new $p(s,this.editor,i,i?r:null);i&&(l.actualDepth=this.depth+1),t.push(new $p(s,this.editor,i,i?r:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){let t=this.children;return t[t.length-1]||null}closest(t,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===t)if(Object.keys(r).length>0){let o=i.node.attrs,a=Object.keys(r);for(let s=0;s<a.length;s+=1){let l=a[s];if(o[l]!==r[l])break}}else n=i;i=i.parent}return n}querySelector(t,r={}){return this.querySelectorAll(t,r,!0)[0]||null}querySelectorAll(t,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;let o=Object.keys(r);return this.children.forEach(a=>{n&&i.length>0||(a.node.type.name===t&&o.every(l=>r[l]===a.node.attrs[l])&&i.push(a),!(n&&i.length>0)&&(i=i.concat(a.querySelectorAll(t,r,n))))}),i}setAttribute(t){let{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(r)}},eve=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function tve(e,t,r){let n=document.querySelector(`style[data-tiptap-style${r?`-${r}`:""}]`);if(n!==null)return n;let i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute(`data-tiptap-style${r?`-${r}`:""}`,""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var XU=class extends g0e{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:n})=>this.options.onDrop(t,r,n)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=tve(eve,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){let r=HU(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(e){if(this.isDestroyed)return;let t=this.state.plugins,r=t;if([].concat(e).forEach(i=>{let o=typeof i=="string"?`${i}$`:i.key;r=t.filter(a=>!a.key.startsWith(o))}),t.length===r.length)return;let n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var e,t;let n=[...this.options.enableCoreExtensions?[Yge,M0e.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),qge,Gge,Jge,Xge,Kge,Qge].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new R0e(n,this)}createCommandManager(){this.commandManager=new PE({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=e6(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=e6(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}let r=WU(t,this.options.autofocus);this.view=new Hme(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:lpe.create({doc:t,selection:r||void 0})});let n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();let i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;let t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}let t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});let n=e.getMeta("focus"),i=e.getMeta("blur");n&&this.emit("focus",{editor:this,event:n.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Cge(this.state,e)}isActive(e,t){let r=typeof e=="string"?e:null,n=typeof e=="string"?t:e;return kge(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return C6(this.state.doc.content,this.schema)}getText(e){let{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return F6(this.state.doc,{blockSeparator:t,textSerializers:{...HE(this.schema),...r}})}get isEmpty(){return R6(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){let e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){let t=this.state.doc.resolve(e);return new Zge(t,this)}get $doc(){return this.$pos(0)}};function Jp(e){return new zE({find:e.find,handler:({state:t,range:r,match:n})=>{let i=Je(e.getAttributes,void 0,n);if(i===!1||i===null)return null;let{tr:o}=t,a=n[n.length-1],s=n[0];if(a){let l=s.search(/\S/),u=r.from+s.indexOf(a),c=u+a.length;if(GU(r.from,r.to,t.doc).filter(h=>h.mark.type.excluded.find(m=>m===e.type&&m!==h.mark.type)).filter(h=>h.to>u).length)return null;c<r.to&&o.delete(c,r.to),u>r.from&&o.delete(r.from+l,u);let f=r.from+l+a.length;o.addMark(r.from+l,f,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function ZU(e){return new zE({find:e.find,handler:({state:t,range:r,match:n})=>{let i=Je(e.getAttributes,void 0,n)||{},{tr:o}=t,a=r.from,s=r.to,l=e.type.create(i);if(n[1]){let u=n[0].lastIndexOf(n[1]),c=a+u;c>s?c=s:s=c+n[1].length;let d=n[0][n[0].length-1];o.insertText(d,a+n[0].length-1),o.replaceWith(c,s,l)}else if(n[0]){let u=e.type.isInline?a:a-1;o.insert(u,e.type.create(i)).delete(o.mapping.map(a),o.mapping.map(s))}o.scrollIntoView()}})}function eW(e){return new zE({find:e.find,handler:({state:t,range:r,match:n})=>{let i=t.doc.resolve(r.from),o=Je(e.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(r.from,r.to).setBlockType(r.from,r.from,e.type,o)}})}function Qp(e){return new zE({find:e.find,handler:({state:t,range:r,match:n,chain:i})=>{let o=Je(e.getAttributes,void 0,n)||{},a=t.tr.delete(r.from,r.to),l=a.doc.resolve(r.from).blockRange(),u=l&&l6(l,e.type,o);if(!u)return null;if(a.wrap(l,u),e.keepMarks&&e.editor){let{selection:d,storedMarks:f}=t,{splittableMarks:h}=e.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){let m=p.filter(v=>h.includes(v.type.name));a.ensureMarks(m)}}if(e.keepAttributes){let d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}let c=a.doc.resolve(r.from-1).nodeBefore;c&&c.type===e.type&&_c(a.doc,r.from-1)&&(!e.joinPredicate||e.joinPredicate(n,c))&&a.join(r.from-1)}})}var Ln=class r6{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Je(Ee(this,"addOptions",{name:this.name}))),this.storage=Je(Ee(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new r6(t)}configure(t={}){let r=this.extend({...this.config,addOptions:()=>VE(this.options,t)});return r.name=this.name,r.parent=this.parent,r}extend(t={}){let r=new r6(t);return r.parent=this,this.child=r,r.name=t.name?t.name:r.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Je(Ee(r,"addOptions",{name:r.name})),r.storage=Je(Ee(r,"addStorage",{name:r.name,options:r.options})),r}};function rve(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}var tW=class{constructor(e,t,r){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,r,n,i,o,a,s;let{view:l}=this.editor,u=e.target,c=u.nodeType===3?(t=u.parentElement)===null||t===void 0?void 0:t.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(u)||!c)return;let d=0,f=0;if(this.dom!==c){let v=this.dom.getBoundingClientRect(),g=c.getBoundingClientRect(),y=(n=e.offsetX)!==null&&n!==void 0?n:(i=e.nativeEvent)===null||i===void 0?void 0:i.offsetX,b=(o=e.offsetY)!==null&&o!==void 0?o:(a=e.nativeEvent)===null||a===void 0?void 0:a.offsetY;d=g.x-v.x+y,f=g.y-v.y+b}(s=e.dataTransfer)===null||s===void 0||s.setDragImage(this.dom,d,f);let h=this.getPos();if(typeof h!="number")return;let p=Be.create(l.state.doc,h),m=l.state.tr.setSelection(p);l.dispatch(m)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});let r=e.target;if(!(this.dom.contains(r)&&!(!((t=this.contentDOM)===null||t===void 0)&&t.contains(r))))return!1;let i=e.type.startsWith("drag"),o=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o&&!i)return!0;let{isEditable:s}=this.editor,{isDragging:l}=this,u=!!this.node.type.spec.draggable,c=Be.isSelectable(this.node),d=e.type==="copy",f=e.type==="paste",h=e.type==="cut",p=e.type==="mousedown";if(!u&&c&&i&&e.target===this.dom&&e.preventDefault(),u&&i&&!l&&e.target===this.dom)return e.preventDefault(),!1;if(u&&s&&!l&&p){let m=r.closest("[data-drag-handle]");m&&(this.dom===m||this.dom.contains(m))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(l||o||d||f||h||p&&c)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(T6()||rve())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{let r=this.getPos();return typeof r!="number"?!1:(t.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){let e=this.getPos();if(typeof e!="number")return;let t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}};function Xp(e){return new k0e({find:e.find,handler:({state:t,range:r,match:n,pasteEvent:i})=>{let o=Je(e.getAttributes,void 0,n,i);if(o===!1||o===null)return null;let{tr:a}=t,s=n[n.length-1],l=n[0],u=r.to;if(s){let c=l.search(/\S/),d=r.from+l.indexOf(s),f=d+s.length;if(GU(r.from,r.to,t.doc).filter(p=>p.mark.type.excluded.find(v=>v===e.type&&v!==p.mark.type)).filter(p=>p.to>d).length)return null;f<r.to&&a.delete(f,r.to),d>r.from&&a.delete(r.from+c,d),u=r.from+c+s.length,a.addMark(r.from+c,u,e.type.create(o||{})),a.removeStoredMark(e.type)}}})}var io="top",da="bottom",fa="right",oo="left",V6="auto",Pv=[io,da,fa,oo],em="start",Bv="end",nve="clippingParents",bW="viewport",Rv="popper",ive="reference",rW=Pv.reduce(function(e,t){return e.concat([t+"-"+em,t+"-"+Bv])},[]),xW=[].concat(Pv,[V6]).reduce(function(e,t){return e.concat([t,t+"-"+em,t+"-"+Bv])},[]),ove="beforeRead",ave="read",sve="afterRead",lve="beforeMain",uve="main",cve="afterMain",dve="beforeWrite",fve="write",hve="afterWrite",pve=[ove,ave,sve,lve,uve,cve,dve,fve,hve];function Gs(e){return e?(e.nodeName||"").toLowerCase():null}function Bo(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function df(e){var t=Bo(e).Element;return e instanceof t||e instanceof Element}function ca(e){var t=Bo(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function H6(e){if(typeof ShadowRoot>"u")return!1;var t=Bo(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function mve(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!ca(o)||!Gs(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function gve(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},a=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=a.reduce(function(l,u){return l[u]="",l},{});!ca(i)||!Gs(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var EW={name:"applyStyles",enabled:!0,phase:"write",fn:mve,effect:gve,requires:["computeStyles"]};function Ys(e){return e.split("-")[0]}var cf=Math.max,qE=Math.min,tm=Math.round;function N6(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function SW(){return!/^((?!chrome|android).)*safari/i.test(N6())}function rm(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&ca(e)&&(i=e.offsetWidth>0&&tm(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&tm(n.height)/e.offsetHeight||1);var a=df(e)?Bo(e):window,s=a.visualViewport,l=!SW()&&r,u=(n.left+(l&&s?s.offsetLeft:0))/i,c=(n.top+(l&&s?s.offsetTop:0))/o,d=n.width/i,f=n.height/o;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function j6(e){var t=rm(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function CW(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&H6(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Jl(e){return Bo(e).getComputedStyle(e)}function vve(e){return["table","td","th"].indexOf(Gs(e))>=0}function Nc(e){return((df(e)?e.ownerDocument:e.document)||window.document).documentElement}function YE(e){return Gs(e)==="html"?e:e.assignedSlot||e.parentNode||(H6(e)?e.host:null)||Nc(e)}function nW(e){return!ca(e)||Jl(e).position==="fixed"?null:e.offsetParent}function yve(e){var t=/firefox/i.test(N6()),r=/Trident/i.test(N6());if(r&&ca(e)){var n=Jl(e);if(n.position==="fixed")return null}var i=YE(e);for(H6(i)&&(i=i.host);ca(i)&&["html","body"].indexOf(Gs(i))<0;){var o=Jl(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Lv(e){for(var t=Bo(e),r=nW(e);r&&vve(r)&&Jl(r).position==="static";)r=nW(r);return r&&(Gs(r)==="html"||Gs(r)==="body"&&Jl(r).position==="static")?t:r||yve(e)||t}function $6(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Mv(e,t,r){return cf(e,qE(t,r))}function wve(e,t,r){var n=Mv(e,t,r);return n>r?r:n}function kW(){return{top:0,right:0,bottom:0,left:0}}function AW(e){return Object.assign({},kW(),e)}function TW(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var bve=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,AW(typeof t!="number"?t:TW(t,Pv))};function xve(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=Ys(r.placement),l=$6(s),u=[oo,fa].indexOf(s)>=0,c=u?"height":"width";if(!(!o||!a)){var d=bve(i.padding,r),f=j6(o),h=l==="y"?io:oo,p=l==="y"?da:fa,m=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],v=a[l]-r.rects.reference[l],g=Lv(o),y=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,b=m/2-v/2,x=d[h],S=y-f[c]-d[p],E=y/2-f[c]/2+b,I=Mv(x,E,S),k=l;r.modifiersData[n]=(t={},t[k]=I,t.centerOffset=I-E,t)}}function Eve(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||CW(t.elements.popper,i)&&(t.elements.arrow=i))}var Sve={name:"arrow",enabled:!0,phase:"main",fn:xve,effect:Eve,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function nm(e){return e.split("-")[1]}var Cve={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kve(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:tm(r*i)/i||0,y:tm(n*i)/i||0}}function iW(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,f=a.x,h=f===void 0?0:f,p=a.y,m=p===void 0?0:p,v=typeof c=="function"?c({x:h,y:m}):{x:h,y:m};h=v.x,m=v.y;var g=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=oo,x=io,S=window;if(u){var E=Lv(r),I="clientHeight",k="clientWidth";if(E===Bo(r)&&(E=Nc(r),Jl(E).position!=="static"&&s==="absolute"&&(I="scrollHeight",k="scrollWidth")),E=E,i===io||(i===oo||i===fa)&&o===Bv){x=da;var D=d&&E===S&&S.visualViewport?S.visualViewport.height:E[I];m-=D-n.height,m*=l?1:-1}if(i===oo||(i===io||i===da)&&o===Bv){b=fa;var F=d&&E===S&&S.visualViewport?S.visualViewport.width:E[k];h-=F-n.width,h*=l?1:-1}}var T=Object.assign({position:s},u&&Cve),R=c===!0?kve({x:h,y:m},Bo(r)):{x:h,y:m};if(h=R.x,m=R.y,l){var _;return Object.assign({},T,(_={},_[x]=y?"0":"",_[b]=g?"0":"",_.transform=(S.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",_))}return Object.assign({},T,(t={},t[x]=y?m+"px":"",t[b]=g?h+"px":"",t.transform="",t))}function Ave(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,a=o===void 0?!0:o,s=r.roundOffsets,l=s===void 0?!0:s,u={placement:Ys(t.placement),variation:nm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,iW(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,iW(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Tve={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ave,data:{}},$E={passive:!0};function Dve(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,a=n.resize,s=a===void 0?!0:a,l=Bo(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",r.update,$E)}),s&&l.addEventListener("resize",r.update,$E),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",r.update,$E)}),s&&l.removeEventListener("resize",r.update,$E)}}var Ive={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Dve,data:{}},Fve={left:"right",right:"left",bottom:"top",top:"bottom"};function WE(e){return e.replace(/left|right|bottom|top/g,function(t){return Fve[t]})}var Rve={start:"end",end:"start"};function oW(e){return e.replace(/start|end/g,function(t){return Rve[t]})}function U6(e){var t=Bo(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function W6(e){return rm(Nc(e)).left+U6(e).scrollLeft}function Mve(e,t){var r=Bo(e),n=Nc(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var u=SW();(u||!u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+W6(e),y:l}}function _ve(e){var t,r=Nc(e),n=U6(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=cf(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=cf(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+W6(e),l=-n.scrollTop;return Jl(i||r).direction==="rtl"&&(s+=cf(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function q6(e){var t=Jl(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function DW(e){return["html","body","#document"].indexOf(Gs(e))>=0?e.ownerDocument.body:ca(e)&&q6(e)?e:DW(YE(e))}function _v(e,t){var r;t===void 0&&(t=[]);var n=DW(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=Bo(n),a=i?[o].concat(o.visualViewport||[],q6(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(_v(YE(a)))}function P6(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ove(e,t){var r=rm(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function aW(e,t,r){return t===bW?P6(Mve(e,r)):df(t)?Ove(t,r):P6(_ve(Nc(e)))}function Bve(e){var t=_v(YE(e)),r=["absolute","fixed"].indexOf(Jl(e).position)>=0,n=r&&ca(e)?Lv(e):e;return df(n)?t.filter(function(i){return df(i)&&CW(i,n)&&Gs(i)!=="body"}):[]}function Nve(e,t,r,n){var i=t==="clippingParents"?Bve(e):[].concat(t),o=[].concat(i,[r]),a=o[0],s=o.reduce(function(l,u){var c=aW(e,u,n);return l.top=cf(c.top,l.top),l.right=qE(c.right,l.right),l.bottom=qE(c.bottom,l.bottom),l.left=cf(c.left,l.left),l},aW(e,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function IW(e){var t=e.reference,r=e.element,n=e.placement,i=n?Ys(n):null,o=n?nm(n):null,a=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,l;switch(i){case io:l={x:a,y:t.y-r.height};break;case da:l={x:a,y:t.y+t.height};break;case fa:l={x:t.x+t.width,y:s};break;case oo:l={x:t.x-r.width,y:s};break;default:l={x:t.x,y:t.y}}var u=i?$6(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case em:l[u]=l[u]-(t[c]/2-r[c]/2);break;case Bv:l[u]=l[u]+(t[c]/2-r[c]/2);break;default:}}return l}function Nv(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,a=o===void 0?e.strategy:o,s=r.boundary,l=s===void 0?nve:s,u=r.rootBoundary,c=u===void 0?bW:u,d=r.elementContext,f=d===void 0?Rv:d,h=r.altBoundary,p=h===void 0?!1:h,m=r.padding,v=m===void 0?0:m,g=AW(typeof v!="number"?v:TW(v,Pv)),y=f===Rv?ive:Rv,b=e.rects.popper,x=e.elements[p?y:f],S=Nve(df(x)?x:x.contextElement||Nc(e.elements.popper),l,c,a),E=rm(e.elements.reference),I=IW({reference:E,element:b,strategy:"absolute",placement:i}),k=P6(Object.assign({},b,I)),D=f===Rv?k:E,F={top:S.top-D.top+g.top,bottom:D.bottom-S.bottom+g.bottom,left:S.left-D.left+g.left,right:D.right-S.right+g.right},T=e.modifiersData.offset;if(f===Rv&&T){var R=T[i];Object.keys(F).forEach(function(_){var M=[fa,da].indexOf(_)>=0?1:-1,L=[io,da].indexOf(_)>=0?"y":"x";F[_]+=R[L]*M})}return F}function Pve(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?xW:l,c=nm(n),d=c?s?rW:rW.filter(function(p){return nm(p)===c}):Pv,f=d.filter(function(p){return u.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,m){return p[m]=Nv(e,{placement:m,boundary:i,rootBoundary:o,padding:a})[Ys(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function Lve(e){if(Ys(e)===V6)return[];var t=WE(e);return[oW(e),t,oW(t)]}function zve(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!0:a,l=r.fallbackPlacements,u=r.padding,c=r.boundary,d=r.rootBoundary,f=r.altBoundary,h=r.flipVariations,p=h===void 0?!0:h,m=r.allowedAutoPlacements,v=t.options.placement,g=Ys(v),y=g===v,b=l||(y||!p?[WE(v)]:Lve(v)),x=[v].concat(b).reduce(function(Y,K){return Y.concat(Ys(K)===V6?Pve(t,{placement:K,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:m}):K)},[]),S=t.rects.reference,E=t.rects.popper,I=new Map,k=!0,D=x[0],F=0;F<x.length;F++){var T=x[F],R=Ys(T),_=nm(T)===em,M=[io,da].indexOf(R)>=0,L=M?"width":"height",V=Nv(t,{placement:T,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),U=M?_?fa:oo:_?da:io;S[L]>E[L]&&(U=WE(U));var N=WE(U),H=[];if(o&&H.push(V[R]<=0),s&&H.push(V[U]<=0,V[N]<=0),H.every(function(Y){return Y})){D=T,k=!1;break}I.set(T,H)}if(k)for(var O=p?3:1,J=function(K){var te=x.find(function(se){var de=I.get(se);if(de)return de.slice(0,K).every(function(Se){return Se})});if(te)return D=te,"break"},B=O;B>0;B--){var z=J(B);if(z==="break")break}t.placement!==D&&(t.modifiersData[n]._skip=!0,t.placement=D,t.reset=!0)}}var Vve={name:"flip",enabled:!0,phase:"main",fn:zve,requiresIfExists:["offset"],data:{_skip:!1}};function sW(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function lW(e){return[io,fa,da,oo].some(function(t){return e[t]>=0})}function Hve(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Nv(t,{elementContext:"reference"}),s=Nv(t,{altBoundary:!0}),l=sW(a,n),u=sW(s,i,o),c=lW(l),d=lW(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var jve={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Hve};function $ve(e,t,r){var n=Ys(e),i=[oo,io].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[oo,fa].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function Uve(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,a=xW.reduce(function(c,d){return c[d]=$ve(d,t.rects,o),c},{}),s=a[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=a}var Wve={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Uve};function qve(e){var t=e.state,r=e.name;t.modifiersData[r]=IW({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Kve={name:"popperOffsets",enabled:!0,phase:"read",fn:qve,data:{}};function Yve(e){return e==="x"?"y":"x"}function Gve(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!1:a,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,d=r.padding,f=r.tether,h=f===void 0?!0:f,p=r.tetherOffset,m=p===void 0?0:p,v=Nv(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=Ys(t.placement),y=nm(t.placement),b=!y,x=$6(g),S=Yve(x),E=t.modifiersData.popperOffsets,I=t.rects.reference,k=t.rects.popper,D=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,F=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(E){if(o){var _,M=x==="y"?io:oo,L=x==="y"?da:fa,V=x==="y"?"height":"width",U=E[x],N=U+v[M],H=U-v[L],O=h?-k[V]/2:0,J=y===em?I[V]:k[V],B=y===em?-k[V]:-I[V],z=t.elements.arrow,Y=h&&z?j6(z):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:kW(),te=K[M],se=K[L],de=Mv(0,I[V],Y[V]),Se=b?I[V]/2-O-de-te-F.mainAxis:J-de-te-F.mainAxis,be=b?-I[V]/2+O+de+se+F.mainAxis:B+de+se+F.mainAxis,Ce=t.elements.arrow&&Lv(t.elements.arrow),pe=Ce?x==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,ve=(_=T?.[x])!=null?_:0,Ie=U+Se-ve-pe,lr=U+be-ve,re=Mv(h?qE(N,Ie):N,U,h?cf(H,lr):H);E[x]=re,R[x]=re-U}if(s){var ce,Te=x==="x"?io:oo,Xe=x==="x"?da:fa,At=E[S],Tt=S==="y"?"height":"width",mr=At+v[Te],kr=At-v[Xe],Ar=[io,oo].indexOf(g)!==-1,En=(ce=T?.[S])!=null?ce:0,Zs=Ar?mr:At-I[Tt]-k[Tt]-En+F.altAxis,el=Ar?At+I[Tt]+k[Tt]-En-F.altAxis:kr,eu=h&&Ar?wve(Zs,At,el):Mv(h?Zs:mr,At,h?el:kr);E[S]=eu,R[S]=eu-At}t.modifiersData[n]=R}}var Jve={name:"preventOverflow",enabled:!0,phase:"main",fn:Gve,requiresIfExists:["offset"]};function Qve(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Xve(e){return e===Bo(e)||!ca(e)?U6(e):Qve(e)}function Zve(e){var t=e.getBoundingClientRect(),r=tm(t.width)/e.offsetWidth||1,n=tm(t.height)/e.offsetHeight||1;return r!==1||n!==1}function e1e(e,t,r){r===void 0&&(r=!1);var n=ca(t),i=ca(t)&&Zve(t),o=Nc(t),a=rm(e,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Gs(t)!=="body"||q6(o))&&(s=Xve(t)),ca(t)?(l=rm(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=W6(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function t1e(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!r.has(s)){var l=t.get(s);l&&i(l)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function r1e(e){var t=t1e(e);return pve.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function n1e(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function i1e(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var uW={placement:"bottom",modifiers:[],strategy:"absolute"};function cW(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function o1e(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?uW:i;return function(s,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},uW,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(g){var y=typeof g=="function"?g(c.options):g;m(),c.options=Object.assign({},o,c.options,y),c.scrollParents={reference:df(s)?_v(s):s.contextElement?_v(s.contextElement):[],popper:_v(l)};var b=r1e(i1e([].concat(n,c.options.modifiers)));return c.orderedModifiers=b.filter(function(x){return x.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var g=c.elements,y=g.reference,b=g.popper;if(cW(y,b)){c.rects={reference:e1e(y,Lv(b),c.options.strategy==="fixed"),popper:j6(b)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(F){return c.modifiersData[F.name]=Object.assign({},F.data)});for(var x=0;x<c.orderedModifiers.length;x++){if(c.reset===!0){c.reset=!1,x=-1;continue}var S=c.orderedModifiers[x],E=S.fn,I=S.options,k=I===void 0?{}:I,D=S.name;typeof E=="function"&&(c=E({state:c,options:k,name:D,instance:h})||c)}}}},update:n1e(function(){return new Promise(function(v){h.forceUpdate(),v(c)})}),destroy:function(){m(),f=!0}};if(!cW(s,l))return h;h.setOptions(u).then(function(v){!f&&u.onFirstUpdate&&u.onFirstUpdate(v)});function p(){c.orderedModifiers.forEach(function(v){var g=v.name,y=v.options,b=y===void 0?{}:y,x=v.effect;if(typeof x=="function"){var S=x({state:c,name:g,instance:h,options:b}),E=function(){};d.push(S||E)}})}function m(){d.forEach(function(v){return v()}),d=[]}return h}}var a1e=[Ive,Kve,Tve,EW,Wve,Vve,Jve,Sve,jve],s1e=o1e({defaultModifiers:a1e}),l1e="tippy-box",FW="tippy-content",u1e="tippy-backdrop",RW="tippy-arrow",MW="tippy-svg-arrow",uf={passive:!0,capture:!0},_W=function(){return document.body};function M6(e,t,r){if(Array.isArray(e)){var n=e[t];return n??(Array.isArray(r)?r[t]:r)}return e}function K6(e,t){var r={}.toString.call(e);return r.indexOf("[object")===0&&r.indexOf(t+"]")>-1}function OW(e,t){return typeof e=="function"?e.apply(void 0,t):e}function dW(e,t){if(t===0)return e;var r;return function(n){clearTimeout(r),r=setTimeout(function(){e(n)},t)}}function c1e(e){return e.split(/\s+/).filter(Boolean)}function Zp(e){return[].concat(e)}function fW(e,t){e.indexOf(t)===-1&&e.push(t)}function d1e(e){return e.filter(function(t,r){return e.indexOf(t)===r})}function f1e(e){return e.split("-")[0]}function KE(e){return[].slice.call(e)}function hW(e){return Object.keys(e).reduce(function(t,r){return e[r]!==void 0&&(t[r]=e[r]),t},{})}function Ov(){return document.createElement("div")}function GE(e){return["Element","Fragment"].some(function(t){return K6(e,t)})}function h1e(e){return K6(e,"NodeList")}function p1e(e){return K6(e,"MouseEvent")}function m1e(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function g1e(e){return GE(e)?[e]:h1e(e)?KE(e):Array.isArray(e)?e:KE(document.querySelectorAll(e))}function _6(e,t){e.forEach(function(r){r&&(r.style.transitionDuration=t+"ms")})}function pW(e,t){e.forEach(function(r){r&&r.setAttribute("data-state",t)})}function v1e(e){var t,r=Zp(e),n=r[0];return n!=null&&(t=n.ownerDocument)!=null&&t.body?n.ownerDocument:document}function y1e(e,t){var r=t.clientX,n=t.clientY;return e.every(function(i){var o=i.popperRect,a=i.popperState,s=i.props,l=s.interactiveBorder,u=f1e(a.placement),c=a.modifiersData.offset;if(!c)return!0;var d=u==="bottom"?c.top.y:0,f=u==="top"?c.bottom.y:0,h=u==="right"?c.left.x:0,p=u==="left"?c.right.x:0,m=o.top-n+d>l,v=n-o.bottom-f>l,g=o.left-r+h>l,y=r-o.right-p>l;return m||v||g||y})}function O6(e,t,r){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[n](i,r)})}function mW(e,t){for(var r=t;r;){var n;if(e.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var Ks={isTouch:!1},gW=0;function w1e(){Ks.isTouch||(Ks.isTouch=!0,window.performance&&document.addEventListener("mousemove",BW))}function BW(){var e=performance.now();e-gW<20&&(Ks.isTouch=!1,document.removeEventListener("mousemove",BW)),gW=e}function b1e(){var e=document.activeElement;if(m1e(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function x1e(){document.addEventListener("touchstart",w1e,uf),window.addEventListener("blur",b1e)}var E1e=typeof window<"u"&&typeof document<"u",S1e=E1e?!!window.msCrypto:!1;var C1e={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},k1e={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},rs=Object.assign({appendTo:_W,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},C1e,k1e),A1e=Object.keys(rs),T1e=function(t){var r=Object.keys(t);r.forEach(function(n){rs[n]=t[n]})};function NW(e){var t=e.plugins||[],r=t.reduce(function(n,i){var o=i.name,a=i.defaultValue;if(o){var s;n[o]=e[o]!==void 0?e[o]:(s=rs[o])!=null?s:a}return n},{});return Object.assign({},e,r)}function D1e(e,t){var r=t?Object.keys(NW(Object.assign({},rs,{plugins:t}))):A1e,n=r.reduce(function(i,o){var a=(e.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return n}function vW(e,t){var r=Object.assign({},t,{content:OW(t.content,[e])},t.ignoreAttributes?{}:D1e(e,t.plugins));return r.aria=Object.assign({},rs.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?t.interactive:r.aria.expanded,content:r.aria.content==="auto"?t.interactive?null:"describedby":r.aria.content},r}var I1e=function(){return"innerHTML"};function L6(e,t){e[I1e()]=t}function yW(e){var t=Ov();return e===!0?t.className=RW:(t.className=MW,GE(e)?t.appendChild(e):L6(t,e)),t}function wW(e,t){GE(t.content)?(L6(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?L6(e,t.content):e.textContent=t.content)}function z6(e){var t=e.firstElementChild,r=KE(t.children);return{box:t,content:r.find(function(n){return n.classList.contains(FW)}),arrow:r.find(function(n){return n.classList.contains(RW)||n.classList.contains(MW)}),backdrop:r.find(function(n){return n.classList.contains(u1e)})}}function PW(e){var t=Ov(),r=Ov();r.className=l1e,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=Ov();n.className=FW,n.setAttribute("data-state","hidden"),wW(n,e.props),t.appendChild(r),r.appendChild(n),i(e.props,e.props);function i(o,a){var s=z6(t),l=s.box,u=s.content,c=s.arrow;a.theme?l.setAttribute("data-theme",a.theme):l.removeAttribute("data-theme"),typeof a.animation=="string"?l.setAttribute("data-animation",a.animation):l.removeAttribute("data-animation"),a.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?l.setAttribute("role",a.role):l.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&wW(u,e.props),a.arrow?c?o.arrow!==a.arrow&&(l.removeChild(c),l.appendChild(yW(a.arrow))):l.appendChild(yW(a.arrow)):c&&l.removeChild(c)}return{popper:t,onUpdate:i}}PW.$$tippy=!0;var F1e=1,UE=[],B6=[];function R1e(e,t){var r=vW(e,Object.assign({},rs,NW(hW(t)))),n,i,o,a=!1,s=!1,l=!1,u=!1,c,d,f,h=[],p=dW(Ie,r.interactiveDebounce),m,v=F1e++,g=null,y=d1e(r.plugins),b={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},x={id:v,reference:e,popper:Ov(),popperInstance:g,props:r,state:b,plugins:y,clearDelayTimeouts:Zs,setProps:el,setContent:eu,show:pf,hide:am,hideWithInteractivity:Wv,enable:Ar,disable:En,unmount:Wr,destroy:an};if(!r.render)return x;var S=r.render(x),E=S.popper,I=S.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+x.id,x.popper=E,e._tippy=x,E._tippy=x;var k=y.map(function(W){return W.fn(x)}),D=e.hasAttribute("aria-expanded");return Ce(),O(),U(),N("onCreate",[x]),r.showOnCreate&&mr(),E.addEventListener("mouseenter",function(){x.props.interactive&&x.state.isVisible&&x.clearDelayTimeouts()}),E.addEventListener("mouseleave",function(){x.props.interactive&&x.props.trigger.indexOf("mouseenter")>=0&&M().addEventListener("mousemove",p)}),x;function F(){var W=x.props.touch;return Array.isArray(W)?W:[W,0]}function T(){return F()[0]==="hold"}function R(){var W;return!!((W=x.props.render)!=null&&W.$$tippy)}function _(){return m||e}function M(){var W=_().parentNode;return W?v1e(W):document}function L(){return z6(E)}function V(W){return x.state.isMounted&&!x.state.isVisible||Ks.isTouch||c&&c.type==="focus"?0:M6(x.props.delay,W?0:1,rs.delay)}function U(W){W===void 0&&(W=!1),E.style.pointerEvents=x.props.interactive&&!W?"":"none",E.style.zIndex=""+x.props.zIndex}function N(W,we,Oe){if(Oe===void 0&&(Oe=!0),k.forEach(function(Ue){Ue[W]&&Ue[W].apply(Ue,we)}),Oe){var xt;(xt=x.props)[W].apply(xt,we)}}function H(){var W=x.props.aria;if(W.content){var we="aria-"+W.content,Oe=E.id,xt=Zp(x.props.triggerTarget||e);xt.forEach(function(Ue){var Nr=Ue.getAttribute(we);if(x.state.isVisible)Ue.setAttribute(we,Nr?Nr+" "+Oe:Oe);else{var sn=Nr&&Nr.replace(Oe,"").trim();sn?Ue.setAttribute(we,sn):Ue.removeAttribute(we)}})}}function O(){if(!(D||!x.props.aria.expanded)){var W=Zp(x.props.triggerTarget||e);W.forEach(function(we){x.props.interactive?we.setAttribute("aria-expanded",x.state.isVisible&&we===_()?"true":"false"):we.removeAttribute("aria-expanded")})}}function J(){M().removeEventListener("mousemove",p),UE=UE.filter(function(W){return W!==p})}function B(W){if(!(Ks.isTouch&&(l||W.type==="mousedown"))){var we=W.composedPath&&W.composedPath()[0]||W.target;if(!(x.props.interactive&&mW(E,we))){if(Zp(x.props.triggerTarget||e).some(function(Oe){return mW(Oe,we)})){if(Ks.isTouch||x.state.isVisible&&x.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[x,W]);x.props.hideOnClick===!0&&(x.clearDelayTimeouts(),x.hide(),s=!0,setTimeout(function(){s=!1}),x.state.isMounted||te())}}}function z(){l=!0}function Y(){l=!1}function K(){var W=M();W.addEventListener("mousedown",B,!0),W.addEventListener("touchend",B,uf),W.addEventListener("touchstart",Y,uf),W.addEventListener("touchmove",z,uf)}function te(){var W=M();W.removeEventListener("mousedown",B,!0),W.removeEventListener("touchend",B,uf),W.removeEventListener("touchstart",Y,uf),W.removeEventListener("touchmove",z,uf)}function se(W,we){Se(W,function(){!x.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&we()})}function de(W,we){Se(W,we)}function Se(W,we){var Oe=L().box;function xt(Ue){Ue.target===Oe&&(O6(Oe,"remove",xt),we())}if(W===0)return we();O6(Oe,"remove",d),O6(Oe,"add",xt),d=xt}function be(W,we,Oe){Oe===void 0&&(Oe=!1);var xt=Zp(x.props.triggerTarget||e);xt.forEach(function(Ue){Ue.addEventListener(W,we,Oe),h.push({node:Ue,eventType:W,handler:we,options:Oe})})}function Ce(){T()&&(be("touchstart",ve,{passive:!0}),be("touchend",lr,{passive:!0})),c1e(x.props.trigger).forEach(function(W){if(W!=="manual")switch(be(W,ve),W){case"mouseenter":be("mouseleave",lr);break;case"focus":be(S1e?"focusout":"blur",re);break;case"focusin":be("focusout",re);break}})}function pe(){h.forEach(function(W){var we=W.node,Oe=W.eventType,xt=W.handler,Ue=W.options;we.removeEventListener(Oe,xt,Ue)}),h=[]}function ve(W){var we,Oe=!1;if(!(!x.state.isEnabled||ce(W)||s)){var xt=((we=c)==null?void 0:we.type)==="focus";c=W,m=W.currentTarget,O(),!x.state.isVisible&&p1e(W)&&UE.forEach(function(Ue){return Ue(W)}),W.type==="click"&&(x.props.trigger.indexOf("mouseenter")<0||a)&&x.props.hideOnClick!==!1&&x.state.isVisible?Oe=!0:mr(W),W.type==="click"&&(a=!Oe),Oe&&!xt&&kr(W)}}function Ie(W){var we=W.target,Oe=_().contains(we)||E.contains(we);if(!(W.type==="mousemove"&&Oe)){var xt=Tt().concat(E).map(function(Ue){var Nr,sn=Ue._tippy,ha=(Nr=sn.popperInstance)==null?void 0:Nr.state;return ha?{popperRect:Ue.getBoundingClientRect(),popperState:ha,props:r}:null}).filter(Boolean);y1e(xt,W)&&(J(),kr(W))}}function lr(W){var we=ce(W)||x.props.trigger.indexOf("click")>=0&&a;if(!we){if(x.props.interactive){x.hideWithInteractivity(W);return}kr(W)}}function re(W){x.props.trigger.indexOf("focusin")<0&&W.target!==_()||x.props.interactive&&W.relatedTarget&&E.contains(W.relatedTarget)||kr(W)}function ce(W){return Ks.isTouch?T()!==W.type.indexOf("touch")>=0:!1}function Te(){Xe();var W=x.props,we=W.popperOptions,Oe=W.placement,xt=W.offset,Ue=W.getReferenceClientRect,Nr=W.moveTransition,sn=R()?z6(E).arrow:null,ha=Ue?{getBoundingClientRect:Ue,contextElement:Ue.contextElement||_()}:e,tu={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(zc){var tl=zc.state;if(R()){var EK=L(),cS=EK.box;["placement","reference-hidden","escaped"].forEach(function(qv){qv==="placement"?cS.setAttribute("data-placement",tl.placement):tl.attributes.popper["data-popper-"+qv]?cS.setAttribute("data-"+qv,""):cS.removeAttribute("data-"+qv)}),tl.attributes.popper={}}}},so=[{name:"offset",options:{offset:xt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Nr}},tu];R()&&sn&&so.push({name:"arrow",options:{element:sn,padding:3}}),so.push.apply(so,we?.modifiers||[]),x.popperInstance=s1e(ha,E,Object.assign({},we,{placement:Oe,onFirstUpdate:f,modifiers:so}))}function Xe(){x.popperInstance&&(x.popperInstance.destroy(),x.popperInstance=null)}function At(){var W=x.props.appendTo,we,Oe=_();x.props.interactive&&W===_W||W==="parent"?we=Oe.parentNode:we=OW(W,[Oe]),we.contains(E)||we.appendChild(E),x.state.isMounted=!0,Te()}function Tt(){return KE(E.querySelectorAll("[data-tippy-root]"))}function mr(W){x.clearDelayTimeouts(),W&&N("onTrigger",[x,W]),K();var we=V(!0),Oe=F(),xt=Oe[0],Ue=Oe[1];Ks.isTouch&&xt==="hold"&&Ue&&(we=Ue),we?n=setTimeout(function(){x.show()},we):x.show()}function kr(W){if(x.clearDelayTimeouts(),N("onUntrigger",[x,W]),!x.state.isVisible){te();return}if(!(x.props.trigger.indexOf("mouseenter")>=0&&x.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(W.type)>=0&&a)){var we=V(!1);we?i=setTimeout(function(){x.state.isVisible&&x.hide()},we):o=requestAnimationFrame(function(){x.hide()})}}function Ar(){x.state.isEnabled=!0}function En(){x.hide(),x.state.isEnabled=!1}function Zs(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(o)}function el(W){if(!x.state.isDestroyed){N("onBeforeUpdate",[x,W]),pe();var we=x.props,Oe=vW(e,Object.assign({},we,hW(W),{ignoreAttributes:!0}));x.props=Oe,Ce(),we.interactiveDebounce!==Oe.interactiveDebounce&&(J(),p=dW(Ie,Oe.interactiveDebounce)),we.triggerTarget&&!Oe.triggerTarget?Zp(we.triggerTarget).forEach(function(xt){xt.removeAttribute("aria-expanded")}):Oe.triggerTarget&&e.removeAttribute("aria-expanded"),O(),U(),I&&I(we,Oe),x.popperInstance&&(Te(),Tt().forEach(function(xt){requestAnimationFrame(xt._tippy.popperInstance.forceUpdate)})),N("onAfterUpdate",[x,W])}}function eu(W){x.setProps({content:W})}function pf(){var W=x.state.isVisible,we=x.state.isDestroyed,Oe=!x.state.isEnabled,xt=Ks.isTouch&&!x.props.touch,Ue=M6(x.props.duration,0,rs.duration);if(!(W||we||Oe||xt)&&!_().hasAttribute("disabled")&&(N("onShow",[x],!1),x.props.onShow(x)!==!1)){if(x.state.isVisible=!0,R()&&(E.style.visibility="visible"),U(),K(),x.state.isMounted||(E.style.transition="none"),R()){var Nr=L(),sn=Nr.box,ha=Nr.content;_6([sn,ha],0)}f=function(){var so;if(!(!x.state.isVisible||u)){if(u=!0,E.offsetHeight,E.style.transition=x.props.moveTransition,R()&&x.props.animation){var ru=L(),zc=ru.box,tl=ru.content;_6([zc,tl],Ue),pW([zc,tl],"visible")}H(),O(),fW(B6,x),(so=x.popperInstance)==null||so.forceUpdate(),N("onMount",[x]),x.props.animation&&R()&&de(Ue,function(){x.state.isShown=!0,N("onShown",[x])})}},At()}}function am(){var W=!x.state.isVisible,we=x.state.isDestroyed,Oe=!x.state.isEnabled,xt=M6(x.props.duration,1,rs.duration);if(!(W||we||Oe)&&(N("onHide",[x],!1),x.props.onHide(x)!==!1)){if(x.state.isVisible=!1,x.state.isShown=!1,u=!1,a=!1,R()&&(E.style.visibility="hidden"),J(),te(),U(!0),R()){var Ue=L(),Nr=Ue.box,sn=Ue.content;x.props.animation&&(_6([Nr,sn],xt),pW([Nr,sn],"hidden"))}H(),O(),x.props.animation?R()&&se(xt,x.unmount):x.unmount()}}function Wv(W){M().addEventListener("mousemove",p),fW(UE,p),p(W)}function Wr(){x.state.isVisible&&x.hide(),x.state.isMounted&&(Xe(),Tt().forEach(function(W){W._tippy.unmount()}),E.parentNode&&E.parentNode.removeChild(E),B6=B6.filter(function(W){return W!==x}),x.state.isMounted=!1,N("onHidden",[x]))}function an(){x.state.isDestroyed||(x.clearDelayTimeouts(),x.unmount(),pe(),delete e._tippy,x.state.isDestroyed=!0,N("onDestroy",[x]))}}function zv(e,t){t===void 0&&(t={});var r=rs.plugins.concat(t.plugins||[]);x1e();var n=Object.assign({},t,{plugins:r}),i=g1e(e);if(0)var o,a;var s=i.reduce(function(l,u){var c=u&&R1e(u,n);return c&&l.push(c),l},[]);return GE(e)?s[0]:s}zv.defaultProps=rs;zv.setDefaultProps=T1e;zv.currentInput=Ks;var ttt=Object.assign({},EW,{effect:function(t){var r=t.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});zv.setDefaultProps({render:PW});var M1e=zv,_1e=class{getTextContent(e){return F6(e,{textSerializers:HE(this.editor.schema)})}constructor({editor:e,element:t,view:r,tippyOptions:n={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:o,state:a})=>{let{selection:s}=a,{$anchor:l,empty:u}=s,c=l.depth===1,d=l.parent.isTextblock&&!l.parent.type.spec.code&&!l.parent.textContent&&l.parent.childCount===0&&!this.getTextContent(l.parent);return!(!o.hasFocus()||!u||!c||!d||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:o})=>{var a;if(this.preventHide){this.preventHide=!1;return}o?.relatedTarget&&(!((a=this.element.parentNode)===null||a===void 0)&&a.contains(o.relatedTarget))||o?.relatedTarget!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=o=>{this.blurHandler({event:o})},this.editor=e,this.element=t,this.view=r,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=n,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){let{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=M1e(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){var r,n,i;let{state:o}=e,{doc:a,selection:s}=o,{from:l,to:u}=s;if(t&&t.doc.eq(a)&&t.selection.eq(s))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:o,oldState:t}))){this.hide();return}(n=this.tippy)===null||n===void 0||n.setProps({getReferenceClientRect:((i=this.tippyOptions)===null||i===void 0?void 0:i.getReferenceClientRect)||(()=>QU(e,l,u))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}},Y6=e=>new Ur({key:typeof e.pluginKey=="string"?new xn(e.pluginKey):e.pluginKey,view:t=>new _1e({view:t,...e})}),LW=Pn.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Y6({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});var wt=A($(),1),lS=A(pi(),1);w();var G6=A(P(),1);function zW(e){return(0,G6.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,G6.jsx)("path",{fill:"currentColor",d:"M20 11H4c-.55 0-1 .45-1 1s.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1zM4 18h10c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM20 6H4c-.55 0-1 .45-1 1v.01c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1z"})})}var ui=A($(),1);w();w();var VW=A($(),1);function HW(){let[e,t]=(0,VW.useState)(void 0);return{options:e?.options,isActive:!!e,request(r){return new Promise((n,i)=>{t({options:r,resolve:n,reject:i})}).finally(()=>{t(void 0)})},resolve(r){e&&e.resolve(r)},reject(){e&&e.reject()}}}var jW=A($(),1),zn=A(P(),1),O1e={root:"alinea-PickLink"},B1e=j(O1e);function N1e(e){let t=!!e.link,r=wr("Pick link",{fields:{link:wp("Link",{required:!0,initialValue:e.link}),description:Kr("Description",{help:"Text to display inside the link element"}),title:Kr("Tooltip",{help:"Extra information that describes the link, shown on hover"}),blank:vp("Open link in new tab",{inline:!0})}});return Ba.options(r.description,n=>{let o=n(r.link)?.[Fe.type]==="url";return{hidden:!(e.requireDescription&&!(t||o))}}),Ba.options(r.blank,n=>({hidden:n(r.link)?.[Fe.type]==="url"})),r}function $W(){let e=HW();return{options:e.options,open:e.isActive,onClose:e.reject,resolve:e.resolve,pickLink:e.request}}function P1e({open:e,onClose:t,resolve:r,options:n={}}){let i=(0,jW.useMemo)(()=>N1e(n),[n]),o=Ch(i,{initialValue:n});function a(s){s.preventDefault(),s.stopPropagation();let l=o.data();return r(l)}return(0,zn.jsx)(zn.Fragment,{children:e&&(0,zn.jsx)("form",{onSubmit:a,children:(0,zn.jsxs)(ot,{gap:18,children:[(0,zn.jsx)("div",{children:(0,zn.jsx)(jr,{form:o,border:!1})}),(0,zn.jsxs)(q,{children:[n.hasLink&&(0,zn.jsx)(Jt,{icon:Ji,outline:!0,type:"button",onClick:()=>r(void 0),children:"Remove link"}),(0,zn.jsx)(Tn.Right,{children:(0,zn.jsxs)(q,{gap:16,children:[(0,zn.jsx)(Jt,{outline:!0,type:"button",onClick:t,children:"Cancel"}),(0,zn.jsx)(Jt,{children:"Confirm"})]})})]})]})})})}function UW({picker:e}){return e.open?(0,zn.jsx)(Go,{open:!0,onClose:e.onClose,className:B1e.root(),children:(0,zn.jsx)(P1e,{...e})}):null}w();w();var WW=ts.create({name:"link",priority:1e3,keepOnSplit:!1,addOptions(){return{HTMLAttributes:{rel:"noopener noreferrer nofollow"}}},addAttributes(){return{"data-id":{default:null},"data-entry":{default:null},"data-link":{default:null},href:{default:null},target:{default:this.options.HTMLAttributes.target},title:{default:null}}},parseHTML(){return[{tag:'a:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:e}){return["a",er(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{"Mod-k":()=>this.editor.commands.setLink({})}},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).run()}}});w();var L1e=ts.create({name:"small",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"small"}]},renderHTML({HTMLAttributes:e}){return["small",er(this.options.HTMLAttributes,e),0]},addCommands(){return{setSmall:()=>({commands:e})=>e.setMark(this.name),toggleSmall:()=>({commands:e})=>e.toggleMark(this.name),unsetSmall:()=>({commands:e})=>e.unsetMark(this.name)}}}),qW=L1e;var z1e=/^\s*>\s$/,V1e=Ln.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",er(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Qp({find:z1e,type:this.type})]}}),H1e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,j1e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,$1e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,U1e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,W1e=ts.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",er(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Jp({find:H1e,type:this.type}),Jp({find:$1e,type:this.type})]},addPasteRules(){return[Xp({find:j1e,type:this.type}),Xp({find:U1e,type:this.type})]}}),q1e="listItem",KW="textStyle",YW=/^\s*([-+*])\s$/,K1e=Ln.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",er(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(q1e,this.editor.getAttributes(KW)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Qp({find:YW,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Qp({find:YW,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(KW),editor:this.editor})),[e]}}),Y1e=Ln.create({name:"doc",topNode:!0,content:"block+"});function G1e(e={}){return new Ur({view(t){return new J1e(t,e)}})}var J1e=class{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(n=>{let i=o=>{this[n](o)};return e.dom.addEventListener(n,i),{name:n,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let a=e.nodeBefore,s=e.nodeAfter;if(a||s){let l=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(l){let u=l.getBoundingClientRect(),c=a?u.bottom:u.top;a&&s&&(c=(c+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:c-this.width/2,bottom:c+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let n=this.editorView.dom.offsetParent;this.element||(this.element=n.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let i,o;if(!n||n==document.body&&getComputedStyle(n).position=="static")i=-pageXOffset,o=-pageYOffset;else{let a=n.getBoundingClientRect();i=a.left-n.scrollLeft,o=a.top-n.scrollTop}this.element.style.left=r.left-i+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),n=r&&r.type.spec.disableDropCursor,i=typeof n=="function"?n(this.editorView,t,e):n;if(t&&!i){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=u6(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}},Q1e=Pn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[G1e(this.options)]}}),ao=class Pc extends Le{constructor(t){super(t,t)}map(t,r){let n=t.resolve(r.map(this.head));return Pc.valid(n)?new Pc(n):Le.near(n)}content(){return he.empty}eq(t){return t instanceof Pc&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Pc(t.resolve(r.pos))}getBookmark(){return new X1e(this.anchor)}static valid(t){let r=t.parent;if(r.isTextblock||!Z1e(t)||!eye(t))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,r,n=!1){e:for(;;){if(!n&&Pc.valid(t))return t;let i=t.pos,o=null;for(let a=t.depth;;a--){let s=t.node(a);if(r>0?t.indexAfter(a)<s.childCount:t.index(a)>0){o=s.child(r>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=r;let l=t.doc.resolve(i);if(Pc.valid(l))return l}for(;;){let a=r>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!Be.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*r),n=!1;continue e}break}o=a,i+=r;let s=t.doc.resolve(i);if(Pc.valid(s))return s}return null}}};ao.prototype.visible=!1;ao.findFrom=ao.findGapCursorFrom;Le.jsonID("gapcursor",ao);var X1e=class dq{constructor(t){this.pos=t}map(t){return new dq(t.map(this.pos))}resolve(t){let r=t.resolve(this.pos);return ao.valid(r)?new ao(r):Le.near(r)}};function Z1e(e){for(let t=e.depth;t>=0;t--){let r=e.index(t),n=e.node(t);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function eye(e){for(let t=e.depth;t>=0;t--){let r=e.indexAfter(t),n=e.node(t);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function tye(){return new Ur({props:{decorations:oye,createSelectionBetween(e,t,r){return t.pos==r.pos&&ao.valid(r)?new ao(r):null},handleClick:nye,handleKeyDown:rye,handleDOMEvents:{beforeinput:iye}}})}var rye=BE({ArrowLeft:JE("horiz",-1),ArrowRight:JE("horiz",1),ArrowUp:JE("vert",-1),ArrowDown:JE("vert",1)});function JE(e,t){let r=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(n,i,o){let a=n.selection,s=t>0?a.$to:a.$from,l=a.empty;if(a instanceof Ne){if(!o.endOfTextblock(r)||s.depth==0)return!1;l=!1,s=n.doc.resolve(t>0?s.after():s.before())}let u=ao.findGapCursorFrom(s,t,l);return u?(i&&i(n.tr.setSelection(new ao(u))),!0):!1}}function nye(e,t,r){if(!e||!e.editable)return!1;let n=e.state.doc.resolve(t);if(!ao.valid(n))return!1;let i=e.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&Be.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new ao(n))),!0)}function iye(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof ao))return!1;let{$from:r}=e.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(e.state.schema.nodes.text);if(!n)return!1;let i=X.empty;for(let a=n.length-1;a>=0;a--)i=X.from(n[a].createAndFill(null,i));let o=e.state.tr.replace(r.pos,r.pos,new he(i,0,0));return o.setSelection(Ne.near(o.doc.resolve(r.pos+1))),e.dispatch(o),!1}function oye(e){if(!(e.selection instanceof ao))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Fi.create(e.doc,[es.widget(e.selection.head,t,{key:"gapcursor"})])}var aye=Pn.create({name:"gapCursor",addProseMirrorPlugins(){return[tye()]},extendNodeSchema(e){var t;let r={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Je(Ee(e,"allowGapCursor",r)))!==null&&t!==void 0?t:null}}}),sye=Ln.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",er(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:r,editor:n})=>e.first([()=>e.exitCode(),()=>e.command(()=>{let{selection:i,storedMarks:o}=r;if(i.$from.parent.type.spec.isolating)return!1;let{keepMarks:a}=this.options,{splittableMarks:s}=n.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&a){let d=l.filter(f=>s.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),lye=Ln.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,er(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>eW({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),uye=Ln.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",er(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{let{selection:r}=t,{$from:n,$to:i}=r,o=e();return n.parentOffset===0?o.insertContentAt({from:Math.max(n.pos-1,0),to:i.pos},{type:this.name}):JU(r)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:a,dispatch:s})=>{var l;if(s){let{$to:u}=a.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(Ne.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(Be.create(a.doc,u.pos)):a.setSelection(Ne.create(a.doc,u.pos));else{let d=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(a.insert(c,d),a.setSelection(Ne.create(a.doc,c+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[ZU({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),cye=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,dye=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,fye=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,hye=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,pye=ts.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",er(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Jp({find:cye,type:this.type}),Jp({find:fye,type:this.type})]},addPasteRules(){return[Xp({find:dye,type:this.type}),Xp({find:hye,type:this.type})]}}),mye=Ln.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",er(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),gye="listItem",GW="textStyle",JW=/^(\d+)\.\s$/,vye=Ln.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){let{start:t,...r}=e;return t===1?["ol",er(this.options.HTMLAttributes,r),0]:["ol",er(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(gye,this.editor.getAttributes(GW)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Qp({find:JW,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Qp({find:JW,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(GW)}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1],editor:this.editor})),[e]}}),yye=Ln.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",er(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),wye=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,bye=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,xye=ts.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",er(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Jp({find:wye,type:this.type})]},addPasteRules(){return[Xp({find:bye,type:this.type})]}}),Eye=ts.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",er(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),Sye=ts.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",er(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),Q6,X6;if(typeof WeakMap<"u"){let e=new WeakMap;Q6=t=>e.get(t),X6=(t,r)=>(e.set(t,r),r)}else{let e=[],r=0;Q6=n=>{for(let i=0;i<e.length;i+=2)if(e[i]==n)return e[i+1]},X6=(n,i)=>(r==10&&(r=0),e[r++]=n,e[r++]=i)}var Br=class{constructor(e,t,r,n){this.width=e,this.height=t,this.map=r,this.problems=n}findCell(e){for(let t=0;t<this.map.length;t++){let r=this.map[t];if(r!=e)continue;let n=t%this.width,i=t/this.width|0,o=n+1,a=i+1;for(let s=1;o<this.width&&this.map[t+s]==r;s++)o++;for(let s=1;a<this.height&&this.map[t+this.width*s]==r;s++)a++;return{left:n,top:i,right:o,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,r){let{left:n,right:i,top:o,bottom:a}=this.findCell(e);return t=="horiz"?(r<0?n==0:i==this.width)?null:this.map[o*this.width+(r<0?n-1:i)]:(r<0?o==0:a==this.height)?null:this.map[n+this.width*(r<0?o-1:a)]}rectBetween(e,t){let{left:r,right:n,top:i,bottom:o}=this.findCell(e),{left:a,right:s,top:l,bottom:u}=this.findCell(t);return{left:Math.min(r,a),top:Math.min(i,l),right:Math.max(n,s),bottom:Math.max(o,u)}}cellsInRect(e){let t=[],r={};for(let n=e.top;n<e.bottom;n++)for(let i=e.left;i<e.right;i++){let o=n*this.width+i,a=this.map[o];r[a]||(r[a]=!0,!(i==e.left&&i&&this.map[o-1]==a||n==e.top&&n&&this.map[o-this.width]==a)&&t.push(a))}return t}positionAt(e,t,r){for(let n=0,i=0;;n++){let o=i+r.child(n).nodeSize;if(n==e){let a=t+e*this.width,s=(e+1)*this.width;for(;a<s&&this.map[a]<i;)a++;return a==s?o-1:this.map[a]}i=o}}static get(e){return Q6(e)||X6(e,Cye(e))}};function Cye(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);let t=kye(e),r=e.childCount,n=[],i=0,o=null,a=[];for(let u=0,c=t*r;u<c;u++)n[u]=0;for(let u=0,c=0;u<r;u++){let d=e.child(u);c++;for(let p=0;;p++){for(;i<n.length&&n[i]!=0;)i++;if(p==d.childCount)break;let m=d.child(p),{colspan:v,rowspan:g,colwidth:y}=m.attrs;for(let b=0;b<g;b++){if(b+u>=r){(o||(o=[])).push({type:"overlong_rowspan",pos:c,n:g-b});break}let x=i+b*t;for(let S=0;S<v;S++){n[x+S]==0?n[x+S]=c:(o||(o=[])).push({type:"collision",row:u,pos:c,n:v-S});let E=y&&y[S];if(E){let I=(x+S)%t*2,k=a[I];k==null||k!=E&&a[I+1]==1?(a[I]=E,a[I+1]=1):k==E&&a[I+1]++}}}i+=v,c+=m.nodeSize}let f=(u+1)*t,h=0;for(;i<f;)n[i++]==0&&h++;h&&(o||(o=[])).push({type:"missing",row:u,n:h}),c++}let s=new Br(t,r,n,o),l=!1;for(let u=0;!l&&u<a.length;u+=2)a[u]!=null&&a[u+1]<r&&(l=!0);return l&&Aye(s,a,e),s}function kye(e){let t=-1,r=!1;for(let n=0;n<e.childCount;n++){let i=e.child(n),o=0;if(r)for(let a=0;a<n;a++){let s=e.child(a);for(let l=0;l<s.childCount;l++){let u=s.child(l);a+u.attrs.rowspan>n&&(o+=u.attrs.colspan)}}for(let a=0;a<i.childCount;a++){let s=i.child(a);o+=s.attrs.colspan,s.attrs.rowspan>1&&(r=!0)}t==-1?t=o:t!=o&&(t=Math.max(t,o))}return t}function Aye(e,t,r){e.problems||(e.problems=[]);let n={};for(let i=0;i<e.map.length;i++){let o=e.map[i];if(n[o])continue;n[o]=!0;let a=r.nodeAt(o);if(!a)throw new RangeError(`No cell with offset ${o} found`);let s=null,l=a.attrs;for(let u=0;u<l.colspan;u++){let c=(i+u)%e.width,d=t[c*2];d!=null&&(!l.colwidth||l.colwidth[u]!=d)&&((s||(s=Tye(l)))[u]=d)}s&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}function Tye(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let r=0;r<e.colspan;r++)t.push(0);return t}function li(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(let r in e.nodes){let n=e.nodes[r],i=n.spec.tableRole;i&&(t[i]=n)}}return t}var Lc=new xn("selectingCells");function im(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function Dye(e){for(let t=e.depth;t>0;t--){let r=e.node(t).type.spec.tableRole;if(r==="cell"||r==="header_cell")return e.node(t)}return null}function ns(e){let t=e.selection.$head;for(let r=t.depth;r>0;r--)if(t.node(r).type.spec.tableRole=="row")return!0;return!1}function nS(e){let t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;let r=im(t.$head)||Iye(t.$head);if(r)return r;throw new RangeError(`No cell found around position ${t.head}`)}function Iye(e){for(let t=e.nodeAfter,r=e.pos;t;t=t.firstChild,r++){let n=t.type.spec.tableRole;if(n=="cell"||n=="header_cell")return e.doc.resolve(r)}for(let t=e.nodeBefore,r=e.pos;t;t=t.lastChild,r--){let n=t.type.spec.tableRole;if(n=="cell"||n=="header_cell")return e.doc.resolve(r-t.nodeSize)}}function Z6(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function Fye(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function nI(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function fq(e,t,r){let n=e.node(-1),i=Br.get(n),o=e.start(-1),a=i.nextCell(e.pos-o,t,r);return a==null?null:e.node(0).resolve(o+a)}function ff(e,t,r=1){let n={...e,colspan:e.colspan-r};return n.colwidth&&(n.colwidth=n.colwidth.slice(),n.colwidth.splice(t,r),n.colwidth.some(i=>i>0)||(n.colwidth=null)),n}function hq(e,t,r=1){let n={...e,colspan:e.colspan+r};if(n.colwidth){n.colwidth=n.colwidth.slice();for(let i=0;i<r;i++)n.colwidth.splice(t,0,0)}return n}function Rye(e,t,r){let n=li(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[r+i*e.width]).type!=n)return!1;return!0}var tr=class Ql extends Le{constructor(t,r=t){let n=t.node(-1),i=Br.get(n),o=t.start(-1),a=i.rectBetween(t.pos-o,r.pos-o),s=t.node(0),l=i.cellsInRect(a).filter(c=>c!=r.pos-o);l.unshift(r.pos-o);let u=l.map(c=>{let d=n.nodeAt(c);if(!d)throw RangeError(`No cell with offset ${c} found`);let f=o+c+1;return new d6(s.resolve(f),s.resolve(f+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=r}map(t,r){let n=t.resolve(r.map(this.$anchorCell.pos)),i=t.resolve(r.map(this.$headCell.pos));if(Z6(n)&&Z6(i)&&nI(n,i)){let o=this.$anchorCell.node(-1)!=n.node(-1);return o&&this.isRowSelection()?Ql.rowSelection(n,i):o&&this.isColSelection()?Ql.colSelection(n,i):new Ql(n,i)}return Ne.between(n,i)}content(){let t=this.$anchorCell.node(-1),r=Br.get(t),n=this.$anchorCell.start(-1),i=r.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},a=[];for(let l=i.top;l<i.bottom;l++){let u=[];for(let c=l*r.width+i.left,d=i.left;d<i.right;d++,c++){let f=r.map[c];if(o[f])continue;o[f]=!0;let h=r.findCell(f),p=t.nodeAt(f);if(!p)throw RangeError(`No cell with offset ${f} found`);let m=i.left-h.left,v=h.right-i.right;if(m>0||v>0){let g=p.attrs;if(m>0&&(g=ff(g,0,m)),v>0&&(g=ff(g,g.colspan-v,v)),h.left<i.left){if(p=p.type.createAndFill(g),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(g)}`)}else p=p.type.create(g,p.content)}if(h.top<i.top||h.bottom>i.bottom){let g={...p.attrs,rowspan:Math.min(h.bottom,i.bottom)-Math.max(h.top,i.top)};h.top<i.top?p=p.type.createAndFill(g):p=p.type.create(g,p.content)}u.push(p)}a.push(t.child(l).copy(X.from(u)))}let s=this.isColSelection()&&this.isRowSelection()?t:a;return new he(X.from(s),1,1)}replace(t,r=he.empty){let n=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:l}=i[a],u=t.mapping.slice(n);t.replace(u.map(s.pos),u.map(l.pos),a?he.empty:r)}let o=Le.findFrom(t.doc.resolve(t.mapping.slice(n).map(this.to)),-1);o&&t.setSelection(o)}replaceWith(t,r){this.replace(t,new he(X.from(r),0,0))}forEachCell(t){let r=this.$anchorCell.node(-1),n=Br.get(r),i=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<o.length;a++)t(r.nodeAt(o[a]),i+o[a])}isColSelection(){let t=this.$anchorCell.index(-1),r=this.$headCell.index(-1);if(Math.min(t,r)>0)return!1;let n=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=r+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,i)==this.$headCell.node(-1).childCount}static colSelection(t,r=t){let n=t.node(-1),i=Br.get(n),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(r.pos-o),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(r=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(r=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(t=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))),new Ql(t,r)}isRowSelection(){let t=this.$anchorCell.node(-1),r=Br.get(t),n=this.$anchorCell.start(-1),i=r.colCount(this.$anchorCell.pos-n),o=r.colCount(this.$headCell.pos-n);if(Math.min(i,o)>0)return!1;let a=i+this.$anchorCell.nodeAfter.attrs.colspan,s=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,s)==r.width}eq(t){return t instanceof Ql&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,r=t){let n=t.node(-1),i=Br.get(n),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(r.pos-o),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(r=l.resolve(o+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(r=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(t=l.resolve(o+i.map[i.width*(a.top+1)-1]))),new Ql(t,r)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,r){return new Ql(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,n=r){return new Ql(t.resolve(r),t.resolve(n))}getBookmark(){return new Mye(this.$anchorCell.pos,this.$headCell.pos)}};tr.prototype.visible=!1;Le.jsonID("cell",tr);var Mye=class pq{constructor(t,r){this.anchor=t,this.head=r}map(t){return new pq(t.map(this.anchor),t.map(this.head))}resolve(t){let r=t.resolve(this.anchor),n=t.resolve(this.head);return r.parent.type.spec.tableRole=="row"&&n.parent.type.spec.tableRole=="row"&&r.index()<r.parent.childCount&&n.index()<n.parent.childCount&&nI(r,n)?new tr(r,n):Le.near(n,1)}};function _ye(e){if(!(e.selection instanceof tr))return null;let t=[];return e.selection.forEachCell((r,n)=>{t.push(es.node(n,n+r.nodeSize,{class:"selectedCell"}))}),Fi.create(e.doc,t)}function Oye({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let r=e.pos,n=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,r++);for(let o=t.depth;o>=0&&!(t.before(o+1)>t.start(o));o--,n--);return r==n&&/row|table/.test(e.node(i).type.spec.tableRole)}function Bye({$from:e,$to:t}){let r,n;for(let i=e.depth;i>0;i--){let o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}for(let i=t.depth;i>0;i--){let o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}return r!==n&&t.parentOffset===0}function Nye(e,t,r){let n=(t||e).selection,i=(t||e).doc,o,a;if(n instanceof Be&&(a=n.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")o=tr.create(i,n.from);else if(a=="row"){let s=i.resolve(n.from+1);o=tr.rowSelection(s,s)}else if(!r){let s=Br.get(n.node),l=n.from+1,u=l+s.map[s.width*s.height-1];o=tr.create(i,l+1,u)}}else n instanceof Ne&&Oye(n)?o=Ne.create(i,n.from):n instanceof Ne&&Bye(n)&&(o=Ne.create(i,n.$from.start(),n.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}var Pye=new xn("fix-tables");function mq(e,t,r,n){let i=e.childCount,o=t.childCount;e:for(let a=0,s=0;a<o;a++){let l=t.child(a);for(let u=s,c=Math.min(i,a+3);u<c;u++)if(e.child(u)==l){s=u+1,r+=l.nodeSize;continue e}n(l,r),s<i&&e.child(s).sameMarkup(l)?mq(e.child(s),l,r+1,n):l.nodesBetween(0,l.content.size,n,r+1),r+=l.nodeSize}}function gq(e,t){let r,n=(i,o)=>{i.type.spec.tableRole=="table"&&(r=Lye(e,i,o,r))};return t?t.doc!=e.doc&&mq(t.doc,e.doc,0,n):e.doc.descendants(n),r}function Lye(e,t,r,n){let i=Br.get(t);if(!i.problems)return n;n||(n=e.tr);let o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){let u=i.problems[l];if(u.type=="collision"){let c=t.nodeAt(u.pos);if(!c)continue;let d=c.attrs;for(let f=0;f<d.rowspan;f++)o[u.row+f]+=u.n;n.setNodeMarkup(n.mapping.map(r+1+u.pos),null,ff(d,d.colspan-u.n,u.n))}else if(u.type=="missing")o[u.row]+=u.n;else if(u.type=="overlong_rowspan"){let c=t.nodeAt(u.pos);if(!c)continue;n.setNodeMarkup(n.mapping.map(r+1+u.pos),null,{...c.attrs,rowspan:c.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){let c=t.nodeAt(u.pos);if(!c)continue;n.setNodeMarkup(n.mapping.map(r+1+u.pos),null,{...c.attrs,colwidth:u.colwidth})}}let a,s;for(let l=0;l<o.length;l++)o[l]&&(a==null&&(a=l),s=l);for(let l=0,u=r+1;l<i.height;l++){let c=t.child(l),d=u+c.nodeSize,f=o[l];if(f>0){let h="cell";c.firstChild&&(h=c.firstChild.type.spec.tableRole);let p=[];for(let v=0;v<f;v++){let g=li(e.schema)[h].createAndFill();g&&p.push(g)}let m=(l==0||a==l-1)&&s==l?u+1:d-1;n.insert(n.mapping.map(m),p)}u=d}return n.setMeta(Pye,{fixTables:!0})}function Qs(e){let t=e.selection,r=nS(e),n=r.node(-1),i=r.start(-1),o=Br.get(n);return{...t instanceof tr?o.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):o.findCell(r.pos-i),tableStart:i,map:o,table:n}}function vq(e,{map:t,tableStart:r,table:n},i){let o=i>0?-1:0;Rye(t,n,i+o)&&(o=i==0||i==t.width?null:0);for(let a=0;a<t.height;a++){let s=a*t.width+i;if(i>0&&i<t.width&&t.map[s-1]==t.map[s]){let l=t.map[s],u=n.nodeAt(l);e.setNodeMarkup(e.mapping.map(r+l),null,hq(u.attrs,i-t.colCount(l))),a+=u.attrs.rowspan-1}else{let l=o==null?li(n.type.schema).cell:n.nodeAt(t.map[s+o]).type,u=t.positionAt(a,i,n);e.insert(e.mapping.map(r+u),l.createAndFill())}}return e}function zye(e,t){if(!ns(e))return!1;if(t){let r=Qs(e);t(vq(e.tr,r,r.left))}return!0}function Vye(e,t){if(!ns(e))return!1;if(t){let r=Qs(e);t(vq(e.tr,r,r.right))}return!0}function Hye(e,{map:t,table:r,tableStart:n},i){let o=e.mapping.maps.length;for(let a=0;a<t.height;){let s=a*t.width+i,l=t.map[s],u=r.nodeAt(l),c=u.attrs;if(i>0&&t.map[s-1]==l||i<t.width-1&&t.map[s+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(n+l),null,ff(c,i-t.colCount(l)));else{let d=e.mapping.slice(o).map(n+l);e.delete(d,d+u.nodeSize)}a+=c.rowspan}}function jye(e,t){if(!ns(e))return!1;if(t){let r=Qs(e),n=e.tr;if(r.left==0&&r.right==r.map.width)return!1;for(let i=r.right-1;Hye(n,r,i),i!=r.left;i--){let o=r.tableStart?n.doc.nodeAt(r.tableStart-1):n.doc;if(!o)throw RangeError("No table found");r.table=o,r.map=Br.get(o)}t(n)}return!0}function $ye(e,t,r){var n;let i=li(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(((n=t.nodeAt(e.map[o+r*e.width]))==null?void 0:n.type)!=i)return!1;return!0}function yq(e,{map:t,tableStart:r,table:n},i){var o;let a=r;for(let u=0;u<i;u++)a+=n.child(u).nodeSize;let s=[],l=i>0?-1:0;$ye(t,n,i+l)&&(l=i==0||i==t.height?null:0);for(let u=0,c=t.width*i;u<t.width;u++,c++)if(i>0&&i<t.height&&t.map[c]==t.map[c-t.width]){let d=t.map[c],f=n.nodeAt(d).attrs;e.setNodeMarkup(r+d,null,{...f,rowspan:f.rowspan+1}),u+=f.colspan-1}else{let d=l==null?li(n.type.schema).cell:(o=n.nodeAt(t.map[c+l*t.width]))==null?void 0:o.type,f=d?.createAndFill();f&&s.push(f)}return e.insert(a,li(n.type.schema).row.create(null,s)),e}function Uye(e,t){if(!ns(e))return!1;if(t){let r=Qs(e);t(yq(e.tr,r,r.top))}return!0}function Wye(e,t){if(!ns(e))return!1;if(t){let r=Qs(e);t(yq(e.tr,r,r.bottom))}return!0}function qye(e,{map:t,table:r,tableStart:n},i){let o=0;for(let u=0;u<i;u++)o+=r.child(u).nodeSize;let a=o+r.child(i).nodeSize,s=e.mapping.maps.length;e.delete(o+n,a+n);let l=new Set;for(let u=0,c=i*t.width;u<t.width;u++,c++){let d=t.map[c];if(!l.has(d)){if(l.add(d),i>0&&d==t.map[c-t.width]){let f=r.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(s).map(d+n),null,{...f,rowspan:f.rowspan-1}),u+=f.colspan-1}else if(i<t.height&&d==t.map[c+t.width]){let f=r.nodeAt(d),h=f.attrs,p=f.type.create({...h,rowspan:f.attrs.rowspan-1},f.content),m=t.positionAt(i+1,u,r);e.insert(e.mapping.slice(s).map(n+m),p),u+=h.colspan-1}}}}function Kye(e,t){if(!ns(e))return!1;if(t){let r=Qs(e),n=e.tr;if(r.top==0&&r.bottom==r.map.height)return!1;for(let i=r.bottom-1;qye(n,r,i),i!=r.top;i--){let o=r.tableStart?n.doc.nodeAt(r.tableStart-1):n.doc;if(!o)throw RangeError("No table found");r.table=o,r.map=Br.get(r.table)}t(n)}return!0}function QW(e){let t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function Yye({width:e,height:t,map:r},n){let i=n.top*e+n.left,o=i,a=(n.bottom-1)*e+n.left,s=i+(n.right-n.left-1);for(let l=n.top;l<n.bottom;l++){if(n.left>0&&r[o]==r[o-1]||n.right<e&&r[s]==r[s+1])return!0;o+=e,s+=e}for(let l=n.left;l<n.right;l++){if(n.top>0&&r[i]==r[i-e]||n.bottom<t&&r[a]==r[a+e])return!0;i++,a++}return!1}function XW(e,t){let r=e.selection;if(!(r instanceof tr)||r.$anchorCell.pos==r.$headCell.pos)return!1;let n=Qs(e),{map:i}=n;if(Yye(i,n))return!1;if(t){let o=e.tr,a={},s=X.empty,l,u;for(let c=n.top;c<n.bottom;c++)for(let d=n.left;d<n.right;d++){let f=i.map[c*i.width+d],h=n.table.nodeAt(f);if(!(a[f]||!h))if(a[f]=!0,l==null)l=f,u=h;else{QW(h)||(s=s.append(h.content));let p=o.mapping.map(f+n.tableStart);o.delete(p,p+h.nodeSize)}}if(l==null||u==null)return!0;if(o.setNodeMarkup(l+n.tableStart,null,{...hq(u.attrs,u.attrs.colspan,n.right-n.left-u.attrs.colspan),rowspan:n.bottom-n.top}),s.size){let c=l+1+u.content.size,d=QW(u)?l+1:c;o.replaceWith(d+n.tableStart,c+n.tableStart,s)}o.setSelection(new tr(o.doc.resolve(l+n.tableStart))),t(o)}return!0}function ZW(e,t){let r=li(e.schema);return Gye(({node:n})=>r[n.type.spec.tableRole])(e,t)}function Gye(e){return(t,r)=>{var n;let i=t.selection,o,a;if(i instanceof tr){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(o=Dye(i.$from),!o)return!1;a=(n=im(i.$from))==null?void 0:n.pos}if(o==null||a==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(r){let s=o.attrs,l=[],u=s.colwidth;s.rowspan>1&&(s={...s,rowspan:1}),s.colspan>1&&(s={...s,colspan:1});let c=Qs(t),d=t.tr;for(let h=0;h<c.right-c.left;h++)l.push(u?{...s,colwidth:u&&u[h]?[u[h]]:null}:s);let f;for(let h=c.top;h<c.bottom;h++){let p=c.map.positionAt(h,c.left,c.table);h==c.top&&(p+=o.nodeSize);for(let m=c.left,v=0;m<c.right;m++,v++)m==c.left&&h==c.top||d.insert(f=d.mapping.map(p+c.tableStart,1),e({node:o,row:h,col:m}).createAndFill(l[v]))}d.setNodeMarkup(a,e({node:o,row:c.top,col:c.left}),l[0]),i instanceof tr&&d.setSelection(new tr(d.doc.resolve(i.$anchorCell.pos),f?d.doc.resolve(f):void 0)),r(d)}return!0}}function Jye(e,t){return function(r,n){if(!ns(r))return!1;let i=nS(r);if(i.nodeAfter.attrs[e]===t)return!1;if(n){let o=r.tr;r.selection instanceof tr?r.selection.forEachCell((a,s)=>{a.attrs[e]!==t&&o.setNodeMarkup(s,null,{...a.attrs,[e]:t})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[e]:t}),n(o)}return!0}}function Qye(e){return function(t,r){if(!ns(t))return!1;if(r){let n=li(t.schema),i=Qs(t),o=t.tr,a=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),s=a.map(l=>i.table.nodeAt(l));for(let l=0;l<a.length;l++)s[l].type==n.header_cell&&o.setNodeMarkup(i.tableStart+a[l],n.cell,s[l].attrs);if(o.steps.length==0)for(let l=0;l<a.length;l++)o.setNodeMarkup(i.tableStart+a[l],n.header_cell,s[l].attrs);r(o)}return!0}}function eq(e,t,r){let n=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<n.length;i++){let o=t.table.nodeAt(n[i]);if(o&&o.type!==r.header_cell)return!1}return!0}function Vv(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?Qye(e):function(r,n){if(!ns(r))return!1;if(n){let i=li(r.schema),o=Qs(r),a=r.tr,s=eq("row",o,i),l=eq("column",o,i),c=(e==="column"?s:e==="row"?l:!1)?1:0,d=e=="column"?{left:0,top:c,right:1,bottom:o.map.height}:e=="row"?{left:c,top:0,right:o.map.width,bottom:1}:o,f=e=="column"?l?i.cell:i.header_cell:e=="row"?s?i.cell:i.header_cell:i.cell;o.map.cellsInRect(d).forEach(h=>{let p=h+o.tableStart,m=a.doc.nodeAt(p);m&&a.setNodeMarkup(p,f,m.attrs)}),n(a)}return!0}}var _tt=Vv("row",{useDeprecatedLogic:!0}),Ott=Vv("column",{useDeprecatedLogic:!0}),Xye=Vv("cell",{useDeprecatedLogic:!0});function Zye(e,t){if(t<0){let r=e.nodeBefore;if(r)return e.pos-r.nodeSize;for(let n=e.index(-1)-1,i=e.before();n>=0;n--){let o=e.node(-1).child(n),a=o.lastChild;if(a)return i-1-a.nodeSize;i-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;let r=e.node(-1);for(let n=e.indexAfter(-1),i=e.after();n<r.childCount;n++){let o=r.child(n);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function tq(e){return function(t,r){if(!ns(t))return!1;let n=Zye(nS(t),e);if(n==null)return!1;if(r){let i=t.doc.resolve(n);r(t.tr.setSelection(Ne.between(i,Fye(i))).scrollIntoView())}return!0}}function ewe(e,t){let r=e.selection.$anchor;for(let n=r.depth;n>0;n--)if(r.node(n).type.spec.tableRole=="table")return t&&t(e.tr.delete(r.before(n),r.after(n)).scrollIntoView()),!0;return!1}function QE(e,t){let r=e.selection;if(!(r instanceof tr))return!1;if(t){let n=e.tr,i=li(e.schema).cell.createAndFill().content;r.forEachCell((o,a)=>{o.content.eq(i)||n.replace(n.mapping.map(a+1),n.mapping.map(a+o.nodeSize-1),new he(i,0,0))}),n.docChanged&&t(n)}return!0}function twe(e){if(!e.size)return null;let{content:t,openStart:r,openEnd:n}=e;for(;t.childCount==1&&(r>0&&n>0||t.child(0).type.spec.tableRole=="table");)r--,n--,t=t.child(0).content;let i=t.child(0),o=i.type.spec.tableRole,a=i.type.schema,s=[];if(o=="row")for(let l=0;l<t.childCount;l++){let u=t.child(l).content,c=l?0:Math.max(0,r-1),d=l<t.childCount-1?0:Math.max(0,n-1);(c||d)&&(u=eI(li(a).row,new he(u,c,d)).content),s.push(u)}else if(o=="cell"||o=="header_cell")s.push(r||n?eI(li(a).row,new he(t,r,n)).content:t);else return null;return rwe(a,s)}function rwe(e,t){let r=[];for(let i=0;i<t.length;i++){let o=t[i];for(let a=o.childCount-1;a>=0;a--){let{rowspan:s,colspan:l}=o.child(a).attrs;for(let u=i;u<i+s;u++)r[u]=(r[u]||0)+l}}let n=0;for(let i=0;i<r.length;i++)n=Math.max(n,r[i]);for(let i=0;i<r.length;i++)if(i>=t.length&&t.push(X.empty),r[i]<n){let o=li(e).cell.createAndFill(),a=[];for(let s=r[i];s<n;s++)a.push(o);t[i]=t[i].append(X.from(a))}return{height:t.length,width:n,rows:t}}function eI(e,t){let r=e.createAndFill();return new c6(r).replace(0,r.content.size,t).doc}function nwe({width:e,height:t,rows:r},n,i){if(e!=n){let o=[],a=[];for(let s=0;s<r.length;s++){let l=r[s],u=[];for(let c=o[s]||0,d=0;c<n;d++){let f=l.child(d%l.childCount);c+f.attrs.colspan>n&&(f=f.type.createChecked(ff(f.attrs,f.attrs.colspan,c+f.attrs.colspan-n),f.content)),u.push(f),c+=f.attrs.colspan;for(let h=1;h<f.attrs.rowspan;h++)o[s+h]=(o[s+h]||0)+f.attrs.colspan}a.push(X.from(u))}r=a,e=n}if(t!=i){let o=[];for(let a=0,s=0;a<i;a++,s++){let l=[],u=r[s%t];for(let c=0;c<u.childCount;c++){let d=u.child(c);a+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}o.push(X.from(l))}r=o,t=i}return{width:e,height:t,rows:r}}function iwe(e,t,r,n,i,o,a){let s=e.doc.type.schema,l=li(s),u,c;if(i>t.width)for(let d=0,f=0;d<t.height;d++){let h=r.child(d);f+=h.nodeSize;let p=[],m;h.lastChild==null||h.lastChild.type==l.cell?m=u||(u=l.cell.createAndFill()):m=c||(c=l.header_cell.createAndFill());for(let v=t.width;v<i;v++)p.push(m);e.insert(e.mapping.slice(a).map(f-1+n),p)}if(o>t.height){let d=[];for(let p=0,m=(t.height-1)*t.width;p<Math.max(t.width,i);p++){let v=p>=t.width?!1:r.nodeAt(t.map[m+p]).type==l.header_cell;d.push(v?c||(c=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}let f=l.row.create(null,X.from(d)),h=[];for(let p=t.height;p<o;p++)h.push(f);e.insert(e.mapping.slice(a).map(n+r.nodeSize-2),h)}return!!(u||c)}function rq(e,t,r,n,i,o,a,s){if(a==0||a==t.height)return!1;let l=!1;for(let u=i;u<o;u++){let c=a*t.width+u,d=t.map[c];if(t.map[c-t.width]==d){l=!0;let f=r.nodeAt(d),{top:h,left:p}=t.findCell(d);e.setNodeMarkup(e.mapping.slice(s).map(d+n),null,{...f.attrs,rowspan:a-h}),e.insert(e.mapping.slice(s).map(t.positionAt(a,p,r)),f.type.createAndFill({...f.attrs,rowspan:h+f.attrs.rowspan-a})),u+=f.attrs.colspan-1}}return l}function nq(e,t,r,n,i,o,a,s){if(a==0||a==t.width)return!1;let l=!1;for(let u=i;u<o;u++){let c=u*t.width+a,d=t.map[c];if(t.map[c-1]==d){l=!0;let f=r.nodeAt(d),h=t.colCount(d),p=e.mapping.slice(s).map(d+n);e.setNodeMarkup(p,null,ff(f.attrs,a-h,f.attrs.colspan-(a-h))),e.insert(p+f.nodeSize,f.type.createAndFill(ff(f.attrs,0,a-h))),u+=f.attrs.rowspan-1}}return l}function iq(e,t,r,n,i){let o=r?e.doc.nodeAt(r-1):e.doc;if(!o)throw new Error("No table found");let a=Br.get(o),{top:s,left:l}=n,u=l+i.width,c=s+i.height,d=e.tr,f=0;function h(){if(o=r?d.doc.nodeAt(r-1):d.doc,!o)throw new Error("No table found");a=Br.get(o),f=d.mapping.maps.length}iwe(d,a,o,r,u,c,f)&&h(),rq(d,a,o,r,l,u,s,f)&&h(),rq(d,a,o,r,l,u,c,f)&&h(),nq(d,a,o,r,s,c,l,f)&&h(),nq(d,a,o,r,s,c,u,f)&&h();for(let p=s;p<c;p++){let m=a.positionAt(p,l,o),v=a.positionAt(p,u,o);d.replace(d.mapping.slice(f).map(m+r),d.mapping.slice(f).map(v+r),new he(i.rows[p-s],0,0))}h(),d.setSelection(new tr(d.doc.resolve(r+a.positionAt(s,l,o)),d.doc.resolve(r+a.positionAt(c-1,u-1,o)))),t(d)}var owe=BE({ArrowLeft:XE("horiz",-1),ArrowRight:XE("horiz",1),ArrowUp:XE("vert",-1),ArrowDown:XE("vert",1),"Shift-ArrowLeft":ZE("horiz",-1),"Shift-ArrowRight":ZE("horiz",1),"Shift-ArrowUp":ZE("vert",-1),"Shift-ArrowDown":ZE("vert",1),Backspace:QE,"Mod-Backspace":QE,Delete:QE,"Mod-Delete":QE});function tS(e,t,r){return r.eq(e.selection)?!1:(t&&t(e.tr.setSelection(r).scrollIntoView()),!0)}function XE(e,t){return(r,n,i)=>{if(!i)return!1;let o=r.selection;if(o instanceof tr)return tS(r,n,Le.near(o.$headCell,t));if(e!="horiz"&&!o.empty)return!1;let a=wq(i,e,t);if(a==null)return!1;if(e=="horiz")return tS(r,n,Le.near(r.doc.resolve(o.head+t),t));{let s=r.doc.resolve(a),l=fq(s,e,t),u;return l?u=Le.near(l,1):t<0?u=Le.near(r.doc.resolve(s.before(-1)),-1):u=Le.near(r.doc.resolve(s.after(-1)),1),tS(r,n,u)}}}function ZE(e,t){return(r,n,i)=>{if(!i)return!1;let o=r.selection,a;if(o instanceof tr)a=o;else{let l=wq(i,e,t);if(l==null)return!1;a=new tr(r.doc.resolve(l))}let s=fq(a.$headCell,e,t);return s?tS(r,n,new tr(a.$anchorCell,s)):!1}}function awe(e,t){let r=e.state.doc,n=im(r.resolve(t));return n?(e.dispatch(e.state.tr.setSelection(new tr(n))),!0):!1}function swe(e,t,r){if(!ns(e.state))return!1;let n=twe(r),i=e.state.selection;if(i instanceof tr){n||(n={width:1,height:1,rows:[X.from(eI(li(e.state.schema).cell,r))]});let o=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),s=Br.get(o).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return n=nwe(n,s.right-s.left,s.bottom-s.top),iq(e.state,e.dispatch,a,s,n),!0}else if(n){let o=nS(e.state),a=o.start(-1);return iq(e.state,e.dispatch,a,Br.get(o.node(-1)).findCell(o.pos-a),n),!0}else return!1}function lwe(e,t){var r;if(t.ctrlKey||t.metaKey)return;let n=oq(e,t.target),i;if(t.shiftKey&&e.state.selection instanceof tr)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&n&&(i=im(e.state.selection.$anchor))!=null&&((r=J6(e,t))==null?void 0:r.pos)!=i.pos)o(i,t),t.preventDefault();else if(!n)return;function o(l,u){let c=J6(e,u),d=Lc.getState(e.state)==null;if(!c||!nI(l,c))if(d)c=l;else return;let f=new tr(l,c);if(d||!e.state.selection.eq(f)){let h=e.state.tr.setSelection(f);d&&h.setMeta(Lc,l.pos),e.dispatch(h)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",s),Lc.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Lc,-1))}function s(l){let u=l,c=Lc.getState(e.state),d;if(c!=null)d=e.state.doc.resolve(c);else if(oq(e,u.target)!=n&&(d=J6(e,t),!d))return a();d&&o(d,u)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",s)}function wq(e,t,r){if(!(e.state.selection instanceof Ne))return null;let{$head:n}=e.state.selection;for(let i=n.depth-1;i>=0;i--){let o=n.node(i);if((r<0?n.index(i):n.indexAfter(i))!=(r<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){let s=n.before(i),l=t=="vert"?r>0?"down":"up":r>0?"right":"left";return e.endOfTextblock(l)?s:null}}return null}function oq(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function J6(e,t){let r=e.posAtCoords({left:t.clientX,top:t.clientY});return r&&r?im(e.state.doc.resolve(r.pos)):null}var uwe=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),tI(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,tI(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function tI(e,t,r,n,i,o){var a;let s=0,l=!0,u=t.firstChild,c=e.firstChild;if(c){for(let d=0,f=0;d<c.childCount;d++){let{colspan:h,colwidth:p}=c.child(d).attrs;for(let m=0;m<h;m++,f++){let v=i==f?o:p&&p[m],g=v?v+"px":"";if(s+=v||n,v||(l=!1),u)u.style.width!=g&&(u.style.width=g),u=u.nextSibling;else{let y=document.createElement("col");y.style.width=g,t.appendChild(y)}}}for(;u;){let d=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=d}l?(r.style.width=s+"px",r.style.minWidth=""):(r.style.width="",r.style.minWidth=s+"px")}}var No=new xn("tableColumnResizing");function cwe({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:r=100,View:n=uwe,lastColumnResizable:i=!0}={}){let o=new Ur({key:No,state:{init(a,s){var l,u;let c=(u=(l=o.spec)==null?void 0:l.props)==null?void 0:u.nodeViews,d=li(s.schema).table.name;return n&&c&&(c[d]=(f,h)=>new n(f,r,h)),new dwe(-1,!1)},apply(a,s){return s.apply(a)}},props:{attributes:a=>{let s=No.getState(a);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,s)=>{fwe(a,s,e,i)},mouseleave:a=>{hwe(a)},mousedown:(a,s)=>{pwe(a,s,t,r)}},decorations:a=>{let s=No.getState(a);if(s&&s.activeHandle>-1)return wwe(a,s.activeHandle)},nodeViews:{}}});return o}var dwe=class rS{constructor(t,r){this.activeHandle=t,this.dragging=r}apply(t){let r=this,n=t.getMeta(No);if(n&&n.setHandle!=null)return new rS(n.setHandle,!1);if(n&&n.setDragging!==void 0)return new rS(r.activeHandle,n.setDragging);if(r.activeHandle>-1&&t.docChanged){let i=t.mapping.map(r.activeHandle,-1);return Z6(t.doc.resolve(i))||(i=-1),new rS(i,r.dragging)}return r}};function fwe(e,t,r,n){let i=No.getState(e.state);if(i&&!i.dragging){let o=gwe(t.target),a=-1;if(o){let{left:s,right:l}=o.getBoundingClientRect();t.clientX-s<=r?a=aq(e,t,"left",r):l-t.clientX<=r&&(a=aq(e,t,"right",r))}if(a!=i.activeHandle){if(!n&&a!==-1){let s=e.state.doc.resolve(a),l=s.node(-1),u=Br.get(l),c=s.start(-1);if(u.colCount(s.pos-c)+s.nodeAfter.attrs.colspan-1==u.width-1)return}bq(e,a)}}}function hwe(e){let t=No.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&bq(e,-1)}function pwe(e,t,r,n){var i;let o=(i=e.dom.ownerDocument.defaultView)!=null?i:window,a=No.getState(e.state);if(!a||a.activeHandle==-1||a.dragging)return!1;let s=e.state.doc.nodeAt(a.activeHandle),l=mwe(e,a.activeHandle,s.attrs);e.dispatch(e.state.tr.setMeta(No,{setDragging:{startX:t.clientX,startWidth:l}}));function u(d){o.removeEventListener("mouseup",u),o.removeEventListener("mousemove",c);let f=No.getState(e.state);f?.dragging&&(vwe(e,f.activeHandle,sq(f.dragging,d,r)),e.dispatch(e.state.tr.setMeta(No,{setDragging:null})))}function c(d){if(!d.which)return u(d);let f=No.getState(e.state);if(f&&f.dragging){let h=sq(f.dragging,d,r);lq(e,f.activeHandle,h,n)}}return lq(e,a.activeHandle,l,n),o.addEventListener("mouseup",u),o.addEventListener("mousemove",c),t.preventDefault(),!0}function mwe(e,t,{colspan:r,colwidth:n}){let i=n&&n[n.length-1];if(i)return i;let o=e.domAtPos(t),s=o.node.childNodes[o.offset].offsetWidth,l=r;if(n)for(let u=0;u<r;u++)n[u]&&(s-=n[u],l--);return s/l}function gwe(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function aq(e,t,r,n){let i=r=="right"?-n:n,o=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!o)return-1;let{pos:a}=o,s=im(e.state.doc.resolve(a));if(!s)return-1;if(r=="right")return s.pos;let l=Br.get(s.node(-1)),u=s.start(-1),c=l.map.indexOf(s.pos-u);return c%l.width==0?-1:u+l.map[c-1]}function sq(e,t,r){let n=t.clientX-e.startX;return Math.max(r,e.startWidth+n)}function bq(e,t){e.dispatch(e.state.tr.setMeta(No,{setHandle:t}))}function vwe(e,t,r){let n=e.state.doc.resolve(t),i=n.node(-1),o=Br.get(i),a=n.start(-1),s=o.colCount(n.pos-a)+n.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let u=0;u<o.height;u++){let c=u*o.width+s;if(u&&o.map[c]==o.map[c-o.width])continue;let d=o.map[c],f=i.nodeAt(d).attrs,h=f.colspan==1?0:s-o.colCount(d);if(f.colwidth&&f.colwidth[h]==r)continue;let p=f.colwidth?f.colwidth.slice():ywe(f.colspan);p[h]=r,l.setNodeMarkup(a+d,null,{...f,colwidth:p})}l.docChanged&&e.dispatch(l)}function lq(e,t,r,n){let i=e.state.doc.resolve(t),o=i.node(-1),a=i.start(-1),s=Br.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1,l=e.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&tI(o,l.firstChild,l,n,s,r)}function ywe(e){return Array(e).fill(0)}function wwe(e,t){var r;let n=[],i=e.doc.resolve(t),o=i.node(-1);if(!o)return Fi.empty;let a=Br.get(o),s=i.start(-1),l=a.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;for(let u=0;u<a.height;u++){let c=l+u*a.width;if((l==a.width-1||a.map[c]!=a.map[c+1])&&(u==0||a.map[c]!=a.map[c-a.width])){let d=a.map[c],f=s+d+o.nodeAt(d).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",(r=No.getState(e))!=null&&r.dragging&&n.push(es.node(s+d,s+d+o.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),n.push(es.widget(f,h))}}return Fi.create(e.doc,n)}function bwe({allowTableNodeSelection:e=!1}={}){return new Ur({key:Lc,state:{init(){return null},apply(t,r){let n=t.getMeta(Lc);if(n!=null)return n==-1?null:n;if(r==null||!t.docChanged)return r;let{deleted:i,pos:o}=t.mapping.mapResult(r);return i?null:o}},props:{decorations:_ye,handleDOMEvents:{mousedown:lwe},createSelectionBetween(t){return Lc.getState(t.state)!=null?t.state.selection:null},handleTripleClick:awe,handleKeyDown:owe,handlePaste:swe},appendTransaction(t,r,n){return Nye(n,gq(n,r),e)}})}function rI(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function uq(e,t,r,n,i,o){var a;let s=0,l=!0,u=t.firstChild,c=e.firstChild;if(c!==null)for(let d=0,f=0;d<c.childCount;d+=1){let{colspan:h,colwidth:p}=c.child(d).attrs;for(let m=0;m<h;m+=1,f+=1){let v=i===f?o:p&&p[m],g=v?`${v}px`:"";if(s+=v||n,v||(l=!1),u){if(u.style.width!==g){let[y,b]=rI(n,v);u.style.setProperty(y,b)}u=u.nextSibling}else{let y=document.createElement("col"),[b,x]=rI(n,v);y.style.setProperty(b,x),t.appendChild(y)}}}for(;u;){let d=u.nextSibling;(a=u.parentNode)===null||a===void 0||a.removeChild(u),u=d}l?(r.style.width=`${s}px`,r.style.minWidth=""):(r.style.width="",r.style.minWidth=`${s}px`)}var xwe=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),uq(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,uq(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}};function Ewe(e,t,r,n){let i=0,o=!0,a=[],s=e.firstChild;if(!s)return{};for(let d=0,f=0;d<s.childCount;d+=1){let{colspan:h,colwidth:p}=s.child(d).attrs;for(let m=0;m<h;m+=1,f+=1){let v=r===f?n:p&&p[m];i+=v||t,v||(o=!1);let[g,y]=rI(t,v);a.push(["col",{style:`${g}: ${y}`}])}}let l=o?`${i}px`:"",u=o?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:u}}function cq(e,t){return t?e.createChecked(null,t):e.createAndFill()}function Swe(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;let t={};return Object.keys(e.nodes).forEach(r=>{let n=e.nodes[r];n.spec.tableRole&&(t[n.spec.tableRole]=n)}),e.cached.tableNodeTypes=t,t}function Cwe(e,t,r,n,i){let o=Swe(e),a=[],s=[];for(let u=0;u<r;u+=1){let c=cq(o.cell,i);if(c&&s.push(c),n){let d=cq(o.header_cell,i);d&&a.push(d)}}let l=[];for(let u=0;u<t;u+=1)l.push(o.row.createChecked(null,n&&u===0?a:s));return o.table.createChecked(null,l)}function kwe(e){return e instanceof tr}var eS=({editor:e})=>{let{selection:t}=e.state;if(!kwe(t))return!1;let r=0,n=D6(t.ranges[0].$from,o=>o.type.name==="table");return n?.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(r+=1)}),r===t.ranges.length?(e.commands.deleteTable(),!0):!1},Awe=Ln.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:xwe,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){let{colgroup:r,tableWidth:n,tableMinWidth:i}=Ewe(e,this.options.cellMinWidth);return["table",er(this.options.HTMLAttributes,t,{style:n?`width: ${n}`:`min-width: ${i}`}),r,["tbody",0]]},addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:r=!0}={})=>({tr:n,dispatch:i,editor:o})=>{let a=Cwe(o.schema,e,t,r);if(i){let s=n.selection.from+1;n.replaceSelectionWith(a).scrollIntoView().setSelection(Ne.near(n.doc.resolve(s)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>zye(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>Vye(e,t),deleteColumn:()=>({state:e,dispatch:t})=>jye(e,t),addRowBefore:()=>({state:e,dispatch:t})=>Uye(e,t),addRowAfter:()=>({state:e,dispatch:t})=>Wye(e,t),deleteRow:()=>({state:e,dispatch:t})=>Kye(e,t),deleteTable:()=>({state:e,dispatch:t})=>ewe(e,t),mergeCells:()=>({state:e,dispatch:t})=>XW(e,t),splitCell:()=>({state:e,dispatch:t})=>ZW(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>Vv("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>Vv("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>Xye(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>XW(e,t)?!0:ZW(e,t),setCellAttribute:(e,t)=>({state:r,dispatch:n})=>Jye(e,t)(r,n),goToNextCell:()=>({state:e,dispatch:t})=>tq(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>tq(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&gq(e),!0),setCellSelection:e=>({tr:t,dispatch:r})=>{if(r){let n=tr.create(t.doc,e.anchorCell,e.headCell);t.setSelection(n)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:eS,"Mod-Backspace":eS,Delete:eS,"Mod-Delete":eS}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[cwe({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],bwe({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){let t={name:e.name,options:e.options,storage:e.storage};return{tableRole:Je(Ee(e,"tableRole",t))}}}),Twe=Ln.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{let t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",er(this.options.HTMLAttributes,e),0]}}),Dwe=Ln.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{let t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",er(this.options.HTMLAttributes,e),0]}}),Iwe=Ln.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",er(this.options.HTMLAttributes,e),0]}}),Fwe=Ln.create({name:"text",group:"inline"}),Rwe=Pn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{let t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(r=>t.updateAttributes(r,{textAlign:e})).every(r=>r):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Mwe={hyphenate:"alinea-RichTextKit-hyphenate",link:"alinea-RichTextKit-link",p:"alinea-RichTextKit-p",h5:"alinea-RichTextKit-h5",h4:"alinea-RichTextKit-h4",h3:"alinea-RichTextKit-h3",heading:"alinea-RichTextKit-heading",h2:"alinea-RichTextKit-h2",h1:"alinea-RichTextKit-h1","is-flat":"alinea-RichTextKit-is-flat",isFlat:"alinea-RichTextKit-is-flat",monospace:"alinea-RichTextKit-monospace",small:"alinea-RichTextKit-small",paragraph:"alinea-RichTextKit-paragraph",list:"alinea-RichTextKit-list",listItem:"alinea-RichTextKit-listItem",blockquote:"alinea-RichTextKit-blockquote",table:"alinea-RichTextKit-table",td:"alinea-RichTextKit-td",th:"alinea-RichTextKit-th"},Js=j(Mwe),xq=Pn.create({name:"richTextKit",addExtensions(){return[Y1e,Fwe,yye.configure({HTMLAttributes:{class:Js.paragraph()}}),qW,W1e,pye,xye,uye,K1e.configure({HTMLAttributes:{class:Js.list()}}),vye.configure({HTMLAttributes:{class:Js.list()}}),mye.configure({HTMLAttributes:{class:Js.listItem()}}),V1e.configure({HTMLAttributes:{class:Js.blockquote()}}),sye,lye.configure({HTMLAttributes:{class:Js.heading()}}),Rwe.configure({types:["heading","paragraph"]}),Q1e,aye,WW.configure({HTMLAttributes:{class:Js.link()}}),LW,Sye,Eye,Awe.configure({HTMLAttributes:{class:Js.table()}}),Twe.configure({HTMLAttributes:{class:Js.td()}}),Dwe.configure({HTMLAttributes:{class:Js.th()}}),Iwe]}});w();w();var iI=A(P(),1);function oI(e){return(0,iI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,iI.jsx)("path",{fill:"currentColor",d:"M7 16c0 .55.45 1 1 1h8c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1zm-3 5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-8h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm3-5c0 .55.45 1 1 1h8c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"})})}w();var aI=A(P(),1);function sI(e){return(0,aI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,aI.jsx)("path",{fill:"currentColor",d:"M4 21h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-4h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-4h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-4h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"})})}w();var lI=A(P(),1);function uI(e){return(0,lI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,lI.jsx)("path",{fill:"currentColor",d:"M14 15H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0-8H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM4 13h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0 8h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"})})}w();var cI=A(P(),1);function dI(e){return(0,cI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,cI.jsx)("path",{fill:"currentColor",d:"M4 21h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm6-4h10c.55 0 1-.45 1-1s-.45-1-1-1H10c-.55 0-1 .45-1 1s.45 1 1 1zm-6-4h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm6-4h10c.55 0 1-.45 1-1s-.45-1-1-1H10c-.55 0-1 .45-1 1s.45 1 1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"})})}w();var fI=A(P(),1);function Eq(e){return(0,fI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,fI.jsx)("path",{fill:"currentColor",d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79c0-2.26-1.75-4-4-4H8c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h5.78c2.07 0 3.96-1.69 3.97-3.77c.01-1.53-.85-2.84-2.15-3.44zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"})})}w();var hI=A(P(),1);function Sq(e){return(0,hI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,hI.jsx)("path",{fill:"currentColor",d:"M18.5 8c.83 0 1.5-.67 1.5-1.5S19.33 5 18.5 5H6.39l3 3h1.83l-.55 1.28l2.09 2.09L14.21 8h4.29zm-1.06 10.88L4.12 5.56a.996.996 0 1 0-1.41 1.41l6.26 6.26l-1.65 3.84c-.39.92.28 1.93 1.27 1.93c.55 0 1.05-.33 1.27-.84l1.21-2.83l4.95 4.95c.39.39 1.02.39 1.41 0c.4-.38.4-1.01.01-1.4z"})})}w();var pI=A(P(),1);function Cq(e){return(0,pI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,pI.jsx)("path",{fill:"currentColor",d:"M10 5.5c0 .83.67 1.5 1.5 1.5h.71l-3.42 8H7.5c-.83 0-1.5.67-1.5 1.5S6.67 18 7.5 18h5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5h-.71l3.42-8h1.29c.83 0 1.5-.67 1.5-1.5S17.33 4 16.5 4h-5c-.83 0-1.5.67-1.5 1.5z"})})}w();var mI=A(P(),1);function kq(e){return(0,mI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,mI.jsx)("path",{fill:"currentColor",d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5s1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5S5.5 6.83 5.5 6S4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5s1.5-.68 1.5-1.5s-.67-1.5-1.5-1.5zM8 19h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zm0-6h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zM7 6c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1z"})})}w();var gI=A(P(),1);function Aq(e){return(0,gI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,gI.jsx)("path",{fill:"currentColor",d:"M8 7h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zm12 10H8c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1zm0-6H8c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1zM4.5 16h-2c-.28 0-.5.22-.5.5s.22.5.5.5H4v.5h-.5c-.28 0-.5.22-.5.5s.22.5.5.5H4v.5H2.5c-.28 0-.5.22-.5.5s.22.5.5.5h2c.28 0 .5-.22.5-.5v-3c0-.28-.22-.5-.5-.5zm-2-11H3v2.5c0 .28.22.5.5.5s.5-.22.5-.5v-3c0-.28-.22-.5-.5-.5h-1c-.28 0-.5.22-.5.5s.22.5.5.5zm2 5h-2c-.28 0-.5.22-.5.5s.22.5.5.5h1.3l-1.68 1.96a.49.49 0 0 0-.12.32v.22c0 .28.22.5.5.5h2c.28 0 .5-.22.5-.5s-.22-.5-.5-.5H3.2l1.68-1.96a.49.49 0 0 0 .12-.32v-.22c0-.28-.22-.5-.5-.5z"})})}w();var vI=A(P(),1);function Tq(e){return(0,vI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,vI.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 13H5c-.55 0-1-.45-1-1s.45-1 1-1h14c.55 0 1 .45 1 1s-.45 1-1 1z"})})}w();var yI=A(P(),1);function Dq(e){return(0,yI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,yI.jsx)("path",{fill:"currentColor",d:"M7.17 17c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94zm10 0c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94z"})})}w();var wI=A(P(),1);function Iq(e){return(0,wI.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,wI.jsx)("path",{fill:"currentColor",d:"M10.52 10.73L7.3 5.72a1.112 1.112 0 1 1 1.88-1.19l2.76 4.46h.12l2.74-4.45c.21-.34.57-.54.96-.54c.88 0 1.42.98.94 1.72l-3.23 5l3.55 5.55c.48.75-.06 1.73-.94 1.73c-.38 0-.74-.2-.95-.52l-3.07-4.89h-.12l-3.07 4.89c-.2.32-.56.52-.95.52c-.88 0-1.42-.97-.94-1.72zM23 19.5c0-.28-.22-.5-.5-.5H20v-1h2c.55 0 1-.45 1-1v-1c0-.55-.45-1-1-1h-2.5c-.28 0-.5.22-.5.5s.22.5.5.5H22v1h-2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1h2.5c.28 0 .5-.22.5-.5"})})}w();var bI=A(P(),1);function Fq(e){return(0,bI.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,bI.jsx)("path",{fill:"currentColor",d:"M10.51 12.73L7.3 7.72a1.112 1.112 0 1 1 1.88-1.19l2.76 4.46h.12l2.74-4.45c.2-.34.56-.54.95-.54c.88 0 1.42.98.94 1.72l-3.23 5l3.55 5.55c.49.75-.05 1.73-.93 1.73c-.38 0-.74-.2-.95-.52l-3.07-4.89h-.12l-3.07 4.89c-.21.32-.56.52-.95.52c-.88 0-1.42-.97-.94-1.72zM23 8.5c0-.28-.22-.5-.5-.5H20V7h2c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1h-2.5c-.28 0-.5.22-.5.5s.22.5.5.5H22v1h-2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1h2.5c.28 0 .5-.22.5-.5"})})}w();var Hv=A(P(),1);function Rq(e){return(0,Hv.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[(0,Hv.jsx)("path",{fill:"currentColor",d:"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"}),(0,Hv.jsx)("path",{fill:"currentColor",d:"m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"})]})}w();var xI=A(P(),1);function Mq(e){return(0,xI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,xI.jsx)("path",{fill:"currentColor",d:"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"})})}w();var EI=A(P(),1);function _q(e){return(0,EI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,EI.jsx)("path",{fill:"currentColor",d:"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"})})}w();var SI=A(P(),1);function Oq(e){return(0,SI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,SI.jsx)("path",{fill:"currentColor",d:"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"})})}w();var CI=A(P(),1);function Bq(e){return(0,CI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,CI.jsx)("path",{fill:"currentColor",d:"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"})})}w();var kI=A(P(),1);function Nq(e){return(0,kI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,kI.jsx)("path",{fill:"currentColor",d:"M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"})})}w();var AI=A(P(),1);function Pq(e){return(0,AI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,AI.jsx)("path",{fill:"currentColor",d:"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"})})}w();var TI=A(P(),1);function Lq(e){return(0,TI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,TI.jsx)("path",{fill:"currentColor",d:"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"})})}w();var DI=A(P(),1);function zq(e){return(0,DI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,DI.jsx)("path",{fill:"currentColor",d:"M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"})})}var $q=A($(),1);w();function Vq(e){switch(e[Fe.type]){case"url":{let t=e;return{"data-id":t[Fe.id],"data-entry":void 0,"data-link":"url",href:t._url,target:t._target}}case"entry":{let t=e;return{"data-id":t[Fe.id],"data-entry":t[Vt.entry],"data-link":"entry",href:void 0,target:void 0}}case"file":{let t=e;return{"data-id":t[Fe.id],"data-entry":t[Vt.entry],"data-link":"file",href:void 0,target:void 0}}default:throw new Error(`Unexpected reference type: ${e[Fe.type]}`)}}function Hq(e){let t=e["data-id"];return t?e["data-entry"]?{[Fe.id]:t,[Fe.type]:e["data-link"]==="file"?"file":"entry",[Vt.entry]:e["data-entry"]}:{[Fe.id]:t,[Fe.type]:"url",[Cr.url]:e.href,[Cr.target]:e.target}:e.href?{[Fe.id]:_t(),[Fe.type]:"url",[Cr.url]:e.href,[Cr.target]:e.target}:void 0}var Z=A(P(),1),_we={root:"alinea-RichTextToolbar","root-separator":"alinea-RichTextToolbar-separator",rootSeparator:"alinea-RichTextToolbar-separator","root-dropdown":"alinea-RichTextToolbar-dropdown",rootDropdown:"alinea-RichTextToolbar-dropdown"},Xl=j(_we),Uq=(e=>(e.paragraph="Normal text",e.h1="Heading 1",e.h2="Heading 2",e.h3="Heading 3",e.h4="Heading 4",e.h5="Heading 5",e))(Uq||{}),jq=()=>(0,Z.jsx)("hr",{style:{border:"none",marginBlock:"2px",borderTop:"1px solid var(--alinea-outline)"}}),Wq=(0,$q.forwardRef)(function({pickLink:t,editor:r,focusToggle:n,enableTables:i},o){function a(){return r.chain().focus(null,{scrollIntoView:!1})}let s=r.isActive("heading",{level:1})?"h1":r.isActive("heading",{level:2})?"h2":r.isActive("heading",{level:3})?"h3":r.isActive("heading",{level:4})?"h4":r.isActive("heading",{level:5})?"h5":"paragraph",l=r.isActive("table");function u(){let c=r.getAttributes("link"),d=Hq(c),{view:f,state:h}=r,{from:p,to:m}=f.state.selection,v=p!==m;return t({link:d,title:c.title,blank:c.target==="_blank",hasLink:!!d,requireDescription:!v}).then(g=>{if(!g||!g.link){a().unsetLink().run();return}let y=g.link,b={title:g.title,...Vq(y),target:y._target??(g.blank?"_blank":void 0)};d?a().extendMarkRange("link").setLink(b).run():v?a().setLink(b).run():a().insertContent({type:"text",text:g.title||y._title||y._url||"",marks:[{type:"link",attrs:b}]}).run()}).catch(console.error)}return(0,Z.jsx)(Ld.Slot,{children:(0,Z.jsx)("div",{ref:o,tabIndex:-1,className:Xl.root(),onFocus:c=>n(c.currentTarget),onBlur:c=>n(c.relatedTarget),children:(0,Z.jsxs)(q,{gap:10,center:!0,style:{height:"100%",padding:`${Me(4)} 0`},children:[(0,Z.jsxs)(fe.Root,{top:!0,children:[(0,Z.jsx)(fe.Trigger,{title:"Heading/paragraph",className:Xl.root.dropdown(),children:(0,Z.jsxs)(q,{gap:10,center:!0,children:[(0,Z.jsx)("span",{children:Uq[s]}),(0,Z.jsx)(ee,{icon:ti})]})}),(0,Z.jsxs)(fe.Items,{children:[(0,Z.jsx)(fe.Item,{onClick:()=>a().clearNodes().run(),children:(0,Z.jsx)(Et.P,{children:"Normal text"})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().setHeading({level:1}).run(),children:(0,Z.jsx)(Et.H1,{flat:!0,children:"Heading 1"})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().setHeading({level:2}).run(),children:(0,Z.jsx)(Et.H2,{flat:!0,children:"Heading 2"})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().setHeading({level:3}).run(),children:(0,Z.jsx)(Et.H3,{flat:!0,children:"Heading 3"})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().setHeading({level:4}).run(),children:(0,Z.jsx)(Et.H4,{flat:!0,children:"Heading 4"})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().setHeading({level:5}).run(),children:(0,Z.jsx)(Et.H5,{flat:!0,children:"Heading 5"})})]})]}),i&&(0,Z.jsxs)(fe.Root,{top:!0,children:[(0,Z.jsx)(fe.Trigger,{title:"Table",className:Xl.root.dropdown(),children:(0,Z.jsxs)(q,{gap:10,center:!0,children:[(0,Z.jsx)("span",{children:"Table"}),(0,Z.jsx)(ee,{icon:ti})]})}),(0,Z.jsx)(fe.Items,{children:l?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(fe.Item,{onClick:()=>a().addRowBefore().run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{icon:zq,size:20}),"Insert row before"]})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().addRowAfter().run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{icon:Lq,size:20}),"Insert row after"]})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().deleteRow().run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{icon:_q,size:20}),"Delete row"]})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().toggleHeaderRow().run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{icon:Oq,size:20}),"Toggle header row"]})}),(0,Z.jsx)(jq,{}),(0,Z.jsx)(fe.Item,{onClick:()=>a().addColumnBefore().run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{icon:Pq,size:20}),"Insert column before"]})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().addColumnAfter().run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{icon:Nq,size:20}),"Insert column after"]})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().deleteColumn().run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{icon:Mq,size:20}),"Delete column"]})}),(0,Z.jsx)(jq,{}),(0,Z.jsx)(fe.Item,{onClick:()=>a().deleteTable().run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{icon:Rq,size:20}),"Delete table"]})})]}):(0,Z.jsx)(fe.Item,{onClick:()=>a().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{icon:Bq,size:20}),"Insert table"]})})})]}),(0,Z.jsx)("div",{className:Xl.root.separator()}),(0,Z.jsx)(je,{icon:Eq,size:18,title:"Bold",onClick:c=>{c.preventDefault(),a().toggleBold().run()},active:r.isActive("bold")}),(0,Z.jsx)(je,{icon:Cq,size:18,title:"Italic",onClick:c=>{c.preventDefault(),a().toggleItalic().run()},active:r.isActive("italic")}),(0,Z.jsxs)(fe.Root,{top:!0,children:[(0,Z.jsx)(fe.Trigger,{title:"Alignment",className:Xl.root.dropdown(),children:(0,Z.jsxs)(q,{gap:10,center:!0,children:[(0,Z.jsx)(ee,{icon:r.isActive({textAlign:"center"})?oI:r.isActive({textAlign:"right"})?dI:r.isActive({textAlign:"justify"})?sI:uI,size:18}),(0,Z.jsx)(ee,{icon:ti})]})}),(0,Z.jsxs)(fe.Items,{children:[(0,Z.jsx)(fe.Item,{onClick:()=>a().setTextAlign("left").run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{round:!0,icon:uI,title:"Align left",active:r.isActive({textAlign:"left"})}),(0,Z.jsx)("span",{children:"Left"})]})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().setTextAlign("center").run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{round:!0,icon:oI,title:"Align center",active:r.isActive({textAlign:"center"})}),(0,Z.jsx)("span",{children:"Center"})]})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().setTextAlign("right").run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{round:!0,icon:dI,title:"Align right",active:r.isActive({textAlign:"right"})}),(0,Z.jsx)("span",{children:"Right"})]})}),(0,Z.jsx)(fe.Item,{onClick:()=>a().setTextAlign("justify").run(),children:(0,Z.jsxs)(q,{gap:8,center:!0,children:[(0,Z.jsx)(ee,{round:!0,icon:sI,title:"Align justify",active:r.isActive({textAlign:"justify"})}),(0,Z.jsx)("span",{children:"Justify"})]})})]})]}),(0,Z.jsx)(je,{icon:Sq,size:18,title:"Clear format",onClick:c=>{c.preventDefault(),a().unsetAllMarks().run(),a().unsetTextAlign().run()}}),(0,Z.jsx)("div",{className:Xl.root.separator()}),(0,Z.jsx)(je,{icon:kq,size:18,title:"Bullet list",onClick:c=>{c.preventDefault(),a().toggleBulletList().run()},active:r.isActive("bulletList")}),(0,Z.jsx)(je,{icon:Aq,size:18,title:"Ordered list",onClick:c=>{c.preventDefault(),a().toggleOrderedList().run()},active:r.isActive("orderedList")}),(0,Z.jsx)("div",{className:Xl.root.separator()}),(0,Z.jsx)(je,{icon:Sc,size:18,title:"Link",onClick:u,active:r.isActive("link")}),(0,Z.jsx)("div",{className:Xl.root.separator()}),(0,Z.jsx)(je,{icon:Dq,size:18,title:"Blockquote",onClick:c=>{c.preventDefault(),a().toggleBlockquote().run()},active:r.isActive("blockquote")}),(0,Z.jsx)(je,{icon:Tq,size:18,title:"Horizontal Rule",onClick:c=>{c.preventDefault(),a().setHorizontalRule().run()}}),(0,Z.jsx)("div",{className:Xl.root.separator()}),(0,Z.jsx)(je,{icon:aa,size:18,title:"Small",onClick:c=>{c.preventDefault(),a().toggleSmall().run()},active:r.isActive("small")}),(0,Z.jsx)(je,{icon:Iq,size:18,title:"Subscript",onClick:c=>{c.preventDefault(),a().toggleSubscript().run()},active:r.isActive("subscript")}),(0,Z.jsx)(je,{icon:Fq,size:18,title:"Superscript",onClick:c=>{c.preventDefault(),a().toggleSuperscript().run()},active:r.isActive("superscript")})]})})})});var kt=A(P(),1),Owe=()=>{let e=!0;return(t,r)=>{if(e){e=!1;try{t()}finally{e=!0}}else r!==void 0&&r()}},Bwe=/[\uD800-\uDBFF]/,Nwe=/[\uDC00-\uDFFF]/,Pwe=(e,t)=>{let r=0,n=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;for(r>0&&Bwe.test(e[r-1])&&r--;n+r<e.length&&n+r<t.length&&e[e.length-n-1]===t[t.length-n-1];)n++;return n>0&&Nwe.test(e[e.length-n])&&n--,{index:r,remove:e.length-r-n,insert:t.slice(r,t.length-n)}},Lwe=Pwe,rn=new xn("y-sync"),Zl=new xn("y-undo"),Snt=new xn("yjs-cursor"),oS=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&t.sv.get(e.id.client)>e.id.clock&&!fd(t.ds,e.id),zwe=[{light:"#ecd44433",dark:"#ecd444"}],Vwe=(e,t,r)=>{if(!e.has(r)){if(e.size<t.length){let n=ml();e.forEach(i=>n.add(i)),t=t.filter(i=>!n.has(i))}e.set(r,C8(t))}return e.get(r)},Hwe=(e,{colors:t=zwe,colorMapping:r=new Map,permanentUserData:n=null,onFirstRender:i=()=>{},mapping:o}={})=>{let a=!1,s=new $we(e,o),l=new Ur({props:{editable:u=>{let c=rn.getState(u);return c.snapshot==null&&c.prevSnapshot==null}},key:rn,state:{init:(u,c)=>({type:e,doc:e.doc,binding:s,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:t,colorMapping:r,permanentUserData:n}),apply:(u,c)=>{let d=u.getMeta(rn);if(d!==void 0){c=Object.assign({},c);for(let f in d)c[f]=d[f]}return c.addToHistory=u.getMeta("addToHistory")!==!1,c.isChangeOrigin=d!==void 0&&!!d.isChangeOrigin,c.isUndoRedoOperation=d!==void 0&&!!d.isChangeOrigin&&!!d.isUndoRedoOperation,s.prosemirrorView!==null&&d!==void 0&&(d.snapshot!=null||d.prevSnapshot!=null)&&U5(0,()=>{s.prosemirrorView!=null&&(d.restore==null?s._renderSnapshot(d.snapshot,d.prevSnapshot,c):(s._renderSnapshot(d.snapshot,d.snapshot,c),delete c.restore,delete c.snapshot,delete c.prevSnapshot,s.mux(()=>{s._prosemirrorChanged(s.prosemirrorView.state.doc)})))}),c}},view:u=>(s.initView(u),o==null&&s._forceRerender(),i(),{update:()=>{let c=l.getState(u.state);if(c.snapshot==null&&c.prevSnapshot==null&&(a||u.state.doc.content.findDiffStart(u.state.doc.type.createAndFill().content)!==null)){if(a=!0,c.addToHistory===!1&&!c.isChangeOrigin){let d=Zl.getState(u.state),f=d&&d.undoManager;f&&f.stopCapturing()}s.mux(()=>{c.doc.transact(d=>{d.meta.set("addToHistory",c.addToHistory),s._prosemirrorChanged(u.state.doc)},rn)})}},destroy:()=>{s.destroy()}})});return l},jwe=(e,t,r)=>{if(t!==null&&t.anchor!==null&&t.head!==null){let n=Gq(r.doc,r.type,t.anchor,r.mapping),i=Gq(r.doc,r.type,t.head,r.mapping);n!==null&&i!==null&&(e=e.setSelection(Ne.create(e.doc,n,i)))}},RI=(e,t)=>({anchor:Yq(t.selection.anchor,e.type,e.mapping),head:Yq(t.selection.head,e.type,e.mapping)}),$we=class{constructor(e,t=new Map){this.type=e,this.prosemirrorView=null,this.mux=Owe(),this.mapping=t,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=RI(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(T8&&this._domSelectionInView===null&&(U5(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){let e=this.prosemirrorView._root.getSelection();if(e==null||e.anchorNode==null)return!1;let t=this.prosemirrorView._root.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset),t.getClientRects().length===0&&t.startContainer&&t.collapsed&&t.selectNodeContents(t.startContainer);let n=t.getBoundingClientRect(),i=xl.documentElement;return n.bottom>=0&&n.right>=0&&n.left<=(window.innerWidth||i.clientWidth||0)&&n.top<=(window.innerHeight||i.clientHeight||0)}renderSnapshot(e,t){t||(t=Cw(bw(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(rn,{snapshot:e,prevSnapshot:t}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{let e=this.type.toArray().map(r=>iS(r,this.prosemirrorView.state.schema,this.mapping)).filter(r=>r!==null),t=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new he(X.from(e),0,0));t.setMeta(rn,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(t)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{let e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,t=this.type.toArray().map(n=>iS(n,this.prosemirrorView.state.schema,this.mapping)).filter(n=>n!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new he(X.from(t),0,0));if(e){let n=Ou(Da(e.anchor,0),r.doc.content.size),i=Ou(Da(e.head,0),r.doc.content.size);r.setSelection(Ne.create(r.doc,n,i))}this.prosemirrorView.dispatch(r.setMeta(rn,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,t,r){let n=this.doc;e||(e=kw(this.doc)),(e instanceof Uint8Array||t instanceof Uint8Array)&&((!(e instanceof Uint8Array)||!(t instanceof Uint8Array))&&gi(),n=new Fa({gc:!1}),xw(n,t),t=kw(n),xw(n,e),e=kw(n)),this.mapping.clear(),this.mux(()=>{n.transact(i=>{let o=r.permanentUserData;o&&o.dss.forEach(u=>{wl(i,u,c=>{})});let a=(u,c)=>{let d=u==="added"?o.getUserByClientId(c.client):o.getUserByDeletedId(c);return{user:d,type:u,color:Vwe(r.colorMapping,r.colors,d)}},s=tA(this.type,new Sw(t.ds,e.sv)).map(u=>!u._item.deleted||oS(u._item,e)||oS(u._item,t)?iS(u,this.prosemirrorView.state.schema,new Map,e,t,a):null).filter(u=>u!==null),l=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new he(X.from(s),0,0));this.prosemirrorView.dispatch(l.setMeta(rn,{isChangeOrigin:!0}))},rn)})}_typeChanged(e,t){if(this.prosemirrorView==null)return;let r=rn.getState(this.prosemirrorView.state);if(e.length===0||r.snapshot!=null||r.prevSnapshot!=null){this.renderSnapshot(r.snapshot,r.prevSnapshot);return}this.mux(()=>{let n=(a,s)=>this.mapping.delete(s);wl(t,t.deleteSet,a=>{if(a.constructor===jt){let s=a.content.type;s&&this.mapping.delete(s)}}),t.changed.forEach(n),t.changedParentTypes.forEach(n);let i=this.type.toArray().map(a=>Xq(a,this.prosemirrorView.state.schema,this.mapping)).filter(a=>a!==null),o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new he(X.from(i),0,0));jwe(o,this.beforeTransactionSelection,this),o=o.setMeta(rn,{isChangeOrigin:!0,isUndoRedoOperation:t.origin instanceof J5}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&o.scrollIntoView(),this.prosemirrorView.dispatch(o)})}_prosemirrorChanged(e){this.doc.transact(()=>{_I(this.doc,this.type,e,this.mapping),this.beforeTransactionSelection=RI(this,this.prosemirrorView.state)},rn)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}},Xq=(e,t,r,n,i,o)=>{let a=r.get(e);if(a===void 0){if(e instanceof yi)return iS(e,t,r,n,i,o);throw vo()}return a},iS=(e,t,r,n,i,o)=>{let a=[],s=l=>{if(l.constructor===yi){let u=Xq(l,t,r,n,i,o);u!==null&&a.push(u)}else{let u=l._item.right?.content.type;u instanceof zu&&!u._item.deleted&&u._item.id.client===u.doc.clientID&&(l.applyDelta([{retain:l.length},...u.toDelta()]),u.doc.transact(d=>{u._item.delete(d)}));let c=Uwe(l,t,r,n,i,o);c!==null&&c.forEach(d=>{d!==null&&a.push(d)})}};n===void 0||i===void 0?e.toArray().forEach(s):tA(e,new Sw(i.ds,n.sv)).forEach(s);try{let l=e.getAttributes(n);n!==void 0&&(oS(e._item,n)?oS(e._item,i)||(l.ychange=o?o("added",e._item.id):{type:"added"}):l.ychange=o?o("removed",e._item.id):{type:"removed"});let u=t.node(e.nodeName,l,a);return r.set(e,u),u}catch{return e.doc.transact(u=>{e._item.delete(u)},rn),r.delete(e),null}},Uwe=(e,t,r,n,i,o)=>{let a=[],s=e.toDelta(n,i,o);try{for(let l=0;l<s.length;l++){let u=s[l],c=[];for(let d in u.attributes)c.push(t.mark(d,u.attributes[d]));a.push(t.text(u.insert,c))}}catch{return e.doc.transact(u=>{e._item.delete(u)},rn),null}return a},Wwe=(e,t)=>{let r=new wi,n=e.map(i=>({insert:i.text,attributes:eK(i.marks)}));return r.applyDelta(n),t.set(r,e),r},qwe=(e,t)=>{let r=new yi(e.type.name);for(let n in e.attrs){let i=e.attrs[n];i!==null&&n!=="ychange"&&r.setAttribute(n,i)}return r.insert(0,sS(e).map(n=>MI(n,t))),t.set(r,e),r},MI=(e,t)=>e instanceof Array?Wwe(e,t):qwe(e,t),qq=e=>typeof e=="object"&&e!==null,NI=(e,t)=>{let r=Object.keys(e).filter(i=>e[i]!==null),n=r.length===Object.keys(t).filter(i=>t[i]!==null).length;for(let i=0;i<r.length&&n;i++){let o=r[i],a=e[o],s=t[o];n=o==="ychange"||a===s||qq(a)&&qq(s)&&NI(a,s)}return n},sS=e=>{let t=e.content.content,r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i.isText){let o=[];for(let a=t[n];n<t.length&&a.isText;a=t[++n])o.push(a);n--,r.push(o)}else r.push(i)}return r},Zq=(e,t)=>{let r=e.toDelta();return r.length===t.length&&r.every((n,i)=>n.insert===t[i].text&&j5(n.attributes||{}).length===t[i].marks.length&&t[i].marks.every(o=>NI(n.attributes[o.type.name]||{},o.attrs)))},jv=(e,t)=>{if(e instanceof yi&&!(t instanceof Array)&&OI(e,t)){let r=sS(t);return e._length===r.length&&NI(e.getAttributes(),t.attrs)&&e.toArray().every((n,i)=>jv(n,r[i]))}return e instanceof wi&&t instanceof Array&&Zq(e,t)},aS=(e,t)=>e===t||e instanceof Array&&t instanceof Array&&e.length===t.length&&e.every((r,n)=>t[n]===r),Kq=(e,t,r)=>{let n=e.toArray(),i=sS(t),o=i.length,a=n.length,s=Ou(a,o),l=0,u=0,c=!1;for(;l<s;l++){let d=n[l],f=i[l];if(aS(r.get(d),f))c=!0;else if(!jv(d,f))break}for(;l+u<s;u++){let d=n[a-u-1],f=i[o-u-1];if(aS(r.get(d),f))c=!0;else if(!jv(d,f))break}return{equalityFactor:l+u,foundMappedChild:c}},Kwe=e=>{let t="",r=e._start,n={};for(;r!==null;)r.deleted||(r.countable&&r.content instanceof bl?t+=r.content.str:r.content instanceof Zr&&(n[r.content.key]=null)),r=r.right;return{str:t,nAttrs:n}},Ywe=(e,t,r)=>{r.set(e,t);let{nAttrs:n,str:i}=Kwe(e),o=t.map(u=>({insert:u.text,attributes:Object.assign({},n,eK(u.marks))})),{insert:a,remove:s,index:l}=Lwe(i,o.map(u=>u.insert).join(""));e.delete(l,s),e.insert(l,a),e.applyDelta(o.map(u=>({retain:u.insert.length,attributes:u.attributes})))},eK=e=>{let t={};return e.forEach(r=>{r.type.name!=="ychange"&&(t[r.type.name]=r.attrs)}),t},_I=(e,t,r,n)=>{if(t instanceof yi&&t.nodeName!==r.type.name)throw new Error("node name mismatch!");if(n.set(t,r),t instanceof yi){let d=t.getAttributes(),f=r.attrs;for(let h in f)f[h]!==null?d[h]!==f[h]&&h!=="ychange"&&t.setAttribute(h,f[h]):t.removeAttribute(h);for(let h in d)f[h]===void 0&&t.removeAttribute(h)}let i=sS(r),o=i.length,a=t.toArray(),s=a.length,l=Ou(o,s),u=0,c=0;for(;u<l;u++){let d=a[u],f=i[u];if(!aS(n.get(d),f))if(jv(d,f))n.set(d,f);else break}for(;c+u+1<l;c++){let d=a[s-c-1],f=i[o-c-1];if(!aS(n.get(d),f))if(jv(d,f))n.set(d,f);else break}e.transact(()=>{for(;s-u-c>0&&o-u-c>0;){let f=a[u],h=i[u],p=a[s-c-1],m=i[o-c-1];if(f instanceof wi&&h instanceof Array)Zq(f,h)||Ywe(f,h,n),u+=1;else{let v=f instanceof yi&&OI(f,h),g=p instanceof yi&&OI(p,m);if(v&&g){let y=Kq(f,h,n),b=Kq(p,m,n);y.foundMappedChild&&!b.foundMappedChild?g=!1:!y.foundMappedChild&&b.foundMappedChild||y.equalityFactor<b.equalityFactor?v=!1:g=!1}v?(_I(e,f,h,n),u+=1):g?(_I(e,p,m,n),c+=1):(n.delete(t.get(u)),t.delete(u,1),t.insert(u,[MI(h,n)]),u+=1)}}let d=s-u-c;if(s===1&&o===0&&a[0]instanceof wi?(n.delete(a[0]),a[0].delete(0,a[0].length)):d>0&&(t.slice(u,u+d).forEach(f=>n.delete(f)),t.delete(u,d)),u+c<o){let f=[];for(let h=u;h<o-c;h++)f.push(MI(i[h],n));t.insert(u,f)}},rn)},OI=(e,t)=>!(t instanceof Array)&&e.nodeName===t.type.name,Yq=(e,t,r)=>{if(e===0)return Ew(t,0,-1);let n=t._first===null?null:t._first.content.type;for(;n!==null&&t!==n;){if(n instanceof wi){if(n._length>=e)return Ew(n,e,-1);if(e-=n._length,n._item!==null&&n._item.next!==null)n=n._item.next.content.type;else{do n=n._item===null?null:n._item.parent,e--;while(n!==t&&n!==null&&n._item!==null&&n._item.next===null);n!==null&&n!==t&&(n=n._item===null?null:n._item.next.content.type)}}else{let i=(r.get(n)||{nodeSize:0}).nodeSize;if(n._first!==null&&e<i)n=n._first.content.type,e--;else{if(e===1&&n._length===0&&i>1)return new M0(n._item===null?null:n._item.id,n._item===null?uh(n):null,null);if(e-=i,n._item!==null&&n._item.next!==null)n=n._item.next.content.type;else{if(e===0)return n=n._item===null?n:n._item.parent,new M0(n._item===null?null:n._item.id,n._item===null?uh(n):null,null);do n=n._item.parent,e--;while(n!==t&&n._item.next===null);n!==t&&(n=n._item.next.content.type)}}}if(n===null)throw gi();if(e===0&&n.constructor!==wi&&n!==t)return Gwe(n._item.parent,n._item)}return Ew(t,t._length,-1)},Gwe=(e,t)=>{let r=null,n=null;return e._item===null?n=uh(e):r=We(e._item.id.client,e._item.id.clock),new M0(r,n,t.id)},Gq=(e,t,r,n)=>{let i=W8(r,e);if(i===null||i.type!==t&&!ah(t,i.type._item))return null;let o=i.type,a=0;if(o.constructor===wi)a=i.index;else if(o._item===null||!o._item.deleted){let s=o._first,l=0;for(;l<o._length&&l<i.index&&s!==null;){if(!s.deleted){let u=s.content.type;l++,u instanceof wi?a+=u._length:a+=n.get(u).nodeSize}s=s.right}a+=1}for(;o!==t&&o._item!==null;){let s=o._item.parent;if(s._item===null||!s._item.deleted){a+=1;let l=s._first;for(;l!==null;){let u=l.content.type;if(u===o)break;l.deleted||(u instanceof wi?a+=u._length:a+=n.get(u).nodeSize),l=l.right}}o=s}return a-1};function Jwe(e){let t=e.toArray();function r(n){let i;if(!n.nodeName)i=n.toDelta().map(a=>{let s={type:"text",text:a.insert};return a.attributes&&(s.marks=Object.keys(a.attributes).map(l=>{let u=a.attributes[l],c={type:l};return Object.keys(u)&&(c.attrs=u),c})),s});else{i={type:n.nodeName};let o=n.getAttributes();Object.keys(o).length&&(i.attrs=o);let a=n.toArray();a.length&&(i.content=a.map(r).flat())}return i}return{type:"doc",content:t.map(r)}}var Qwe=e=>{let t=Zl.getState(e).undoManager;if(t!=null)return t.undo(),!0},Xwe=e=>{let t=Zl.getState(e).undoManager;if(t!=null)return t.redo(),!0},Zwe=new Set(["paragraph"]),ebe=(e,t)=>!(e instanceof jt)||!(e.content instanceof bs)||!(e.content.type instanceof zu||e.content.type instanceof yi&&t.has(e.content.type.nodeName))||e.content.type._length===0,tbe=({protectedNodes:e=Zwe,trackedOrigins:t=[],undoManager:r=null}={})=>new Ur({key:Zl,state:{init:(n,i)=>{let o=rn.getState(i),a=r||new J5(o.type,{trackedOrigins:new Set([rn].concat(t)),deleteFilter:s=>ebe(s,e),captureTransaction:s=>s.meta.get("addToHistory")!==!1});return{undoManager:a,prevSel:null,hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}},apply:(n,i,o,a)=>{let s=rn.getState(a).binding,l=i.undoManager,u=l.undoStack.length>0,c=l.redoStack.length>0;return s?{undoManager:l,prevSel:RI(s,o),hasUndoOps:u,hasRedoOps:c}:u!==i.hasUndoOps||c!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):i}},view:n=>{let i=rn.getState(n.state),o=Zl.getState(n.state).undoManager;return o.on("stack-item-added",({stackItem:a})=>{let s=i.binding;s&&a.meta.set(s,Zl.getState(n.state).prevSel)}),o.on("stack-item-popped",({stackItem:a})=>{let s=i.binding;s&&(s.beforeTransactionSelection=a.meta.get(s)||s.beforeTransactionSelection)}),{destroy:()=>{o.destroy()}}}}),rbe=Pn.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},addStorage(){return{isDisabled:!1}},onCreate(){this.editor.extensionManager.extensions.find(e=>e.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:e,state:t,dispatch:r})=>(e.setMeta("preventDispatch",!0),Zl.getState(t).undoManager.undoStack.length===0?!1:r?Qwe(t):!0),redo:()=>({tr:e,state:t,dispatch:r})=>(e.setMeta("preventDispatch",!0),Zl.getState(t).undoManager.redoStack.length===0?!1:r?Xwe(t):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){var e;let t=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),r=tbe(this.options.yUndoOptions),n=r.spec.view;r.spec.view=a=>{let{undoManager:s}=Zl.getState(a.state);s.restore&&(s.restore(),s.restore=()=>{});let l=n?n(a):void 0;return{destroy:()=>{let u=s.trackedOrigins.has(s),c=s._observers;s.restore=()=>{u&&s.trackedOrigins.add(s),s.doc.on("afterTransaction",s.afterTransactionHandler),s._observers=c},l?.destroy&&l.destroy()}}};let i={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender},o=Hwe(t,i);return this.editor.options.enableContentCheck&&((e=t.doc)===null||e===void 0||e.on("beforeTransaction",()=>{try{let a=Jwe(t);if(a.content.length===0)return;this.editor.schema.nodeFromJSON(a).check()}catch(a){return this.editor.emit("contentError",{error:a,editor:this.editor,disableCollaboration:()=>{var s;(s=t.doc)===null||s===void 0||s.destroy(),this.storage.isDisabled=!0}}),!1}})),[o,r,this.editor.options.enableContentCheck&&new Ur({key:new xn("filterInvalidContent"),filterTransaction:()=>{var a;return this.storage.isDisabled&&((a=t.doc)===null||a===void 0||a.destroy()),!0}})].filter(Boolean)}}),tK={exports:{}},II={},Jq;function nbe(){if(Jq)return II;Jq=1;var e=wt.default;function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,o=e.useLayoutEffect,a=e.useDebugValue;function s(d,f){var h=f(),p=n({inst:{value:h,getSnapshot:f}}),m=p[0].inst,v=p[1];return o(function(){m.value=h,m.getSnapshot=f,l(m)&&v({inst:m})},[d,h,f]),i(function(){return l(m)&&v({inst:m}),d(function(){l(m)&&v({inst:m})})},[d]),a(h),h}function l(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!r(d,h)}catch{return!0}}function u(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return II.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:c,II}tK.exports=nbe();var rK=tK.exports,ibe=(...e)=>t=>{e.forEach(r=>{typeof r=="function"?r(t):r&&(r.current=t)})},obe=({contentComponent:e})=>{let t=rK.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return wt.default.createElement(wt.default.Fragment,null,Object.values(t))};function abe(){let e=new Set,t={};return{subscribe(r){return e.add(r),()=>{e.delete(r)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(r,n){t={...t,[r]:lS.default.createPortal(n.reactElement,n.element,r)},e.forEach(i=>i())},removeRenderer(r){let n={...t};delete n[r],t=n,e.forEach(i=>i())}}}var sbe=class extends wt.default.Component{constructor(e){var t;super(e),this.editorContentRef=wt.default.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;let t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=abe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){let e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;let t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){let{editor:e,innerRef:t,...r}=this.props;return wt.default.createElement(wt.default.Fragment,null,wt.default.createElement("div",{ref:ibe(t,this.editorContentRef),...r}),e?.contentComponent&&wt.default.createElement(obe,{contentComponent:e.contentComponent}))}},lbe=(0,wt.forwardRef)((e,t)=>{let r=wt.default.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return wt.default.createElement(sbe,{key:r,innerRef:t,...e})}),ube=wt.default.memo(lbe),nK={exports:{}},FI={},Qq;function cbe(){if(Qq)return FI;Qq=1;var e=wt.default,t=rK;function r(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,o=e.useRef,a=e.useEffect,s=e.useMemo,l=e.useDebugValue;return FI.useSyncExternalStoreWithSelector=function(u,c,d,f,h){var p=o(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=s(function(){function g(E){if(!y){if(y=!0,b=E,E=f(E),h!==void 0&&m.hasValue){var I=m.value;if(h(I,E))return x=I}return x=E}if(I=x,n(b,E))return I;var k=f(E);return h!==void 0&&h(I,k)?I:(b=E,x=k)}var y=!1,b,x,S=d===void 0?null:d;return[function(){return g(c())},S===null?void 0:function(){return g(S())}]},[c,d,f,h]);var v=i(u,p[0],p[1]);return a(function(){m.hasValue=!0,m.value=v},[v]),l(v),v},FI}nK.exports=cbe();var Tnt=nK.exports;var dbe=typeof window>"u",Dnt=dbe||!!(typeof window<"u"&&window.next),iK=(0,wt.createContext)({editor:null}),Int=iK.Consumer,fbe=()=>(0,wt.useContext)(iK),hbe=e=>{let[t,r]=(0,wt.useState)(null),{editor:n}=fbe();return(0,wt.useEffect)(()=>{var i;if(!t||!((i=e.editor)===null||i===void 0)&&i.isDestroyed||n?.isDestroyed)return;let{pluginKey:o="floatingMenu",editor:a,tippyOptions:s={},shouldShow:l=null}=e,u=a||n;if(!u){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}let c=Y6({pluginKey:o,editor:u,element:t,tippyOptions:s,shouldShow:l});return u.registerPlugin(c),()=>{u.unregisterPlugin(o)}},[e.editor,n,t]),wt.default.createElement("div",{ref:r,className:e.className,style:{visibility:"hidden"}},e.children)},oK=(0,wt.createContext)({onDragStart:void 0}),pbe=()=>(0,wt.useContext)(oK),mbe=wt.default.forwardRef((e,t)=>{let{onDragStart:r}=pbe(),n=e.as||"div";return wt.default.createElement(n,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...e.style}})});function gbe(e){return!!(typeof e=="function"&&e.prototype&&e.prototype.isReactComponent)}function vbe(e){var t;return typeof e=="object"&&((t=e.$$typeof)===null||t===void 0?void 0:t.toString())==="Symbol(react.forward_ref)"}var ybe=class{constructor(e,{editor:t,props:r={},as:n="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=r,this.element=document.createElement(n),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?(0,lS.flushSync)(()=>{this.render()}):this.render()}render(){var e;let t=this.component,r=this.props,n=this.editor;(gbe(t)||vbe(t))&&(r.ref=i=>{this.ref=i}),this.reactElement=wt.default.createElement(t,{...r}),(e=n?.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;let t=this.editor;(e=t?.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}},wbe=class extends tW{mount(){let e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(l={})=>this.updateAttributes(l),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){let l=u=>u.charAt(0).toUpperCase()+u.substring(1);this.component.displayName=l(this.extension.name)}let n={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:l=>{l&&this.contentDOMElement&&l.firstChild!==this.contentDOMElement&&l.appendChild(this.contentDOMElement)}},i=this.component,o=wt.default.memo(l=>wt.default.createElement(oK.Provider,{value:n},wt.default.createElement(i,l)));o.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);let{className:s=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new ybe(o,{editor:this.editor,props:e,as:a,className:`node-${this.node.type.name} ${s}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){let{from:e,to:t}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&t>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,r){let n=i=>{this.renderer.updateProps(i),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){let i=this.node,o=this.decorations,a=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=r,this.options.update({oldNode:i,oldDecorations:o,newNode:e,newDecorations:t,oldInnerDecorations:a,innerDecorations:r,updateProps:()=>n({node:e,decorations:t,innerDecorations:r})})}return e===this.node&&this.decorations===t&&this.innerDecorations===r||(this.node=e,this.decorations=t,this.innerDecorations=r,n({node:e,decorations:t,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){let t=this.editor.extensionManager.attributes,r=Cv(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}};function bbe(e,t){return r=>r.editor.contentComponent?new wbe(e,r,t):{}}var xbe={hyphenate:"alinea-RichTextField-hyphenate",link:"alinea-RichTextField-link",p:"alinea-RichTextField-p",h5:"alinea-RichTextField-h5",h4:"alinea-RichTextField-h4",h3:"alinea-RichTextField-h3",h2:"alinea-RichTextField-h2",h1:"alinea-RichTextField-h1","is-flat":"alinea-RichTextField-is-flat",isFlat:"alinea-RichTextField-is-flat",monospace:"alinea-RichTextField-monospace",small:"alinea-RichTextField-small","root-editor":"alinea-RichTextField-editor",rootEditor:"alinea-RichTextField-editor","is-focus":"alinea-RichTextField-is-focus",isFocus:"alinea-RichTextField-is-focus","is-readonly":"alinea-RichTextField-is-readonly",isReadonly:"alinea-RichTextField-is-readonly","insert-trigger":"alinea-RichTextField-insert-trigger",insertTrigger:"alinea-RichTextField-insert-trigger"},BI=j(xbe);function Ebe(e,t,r){function n({node:i,deleteNode:o}){let{[Qt.id]:a}=i.attrs,s=tt(r),{readOnly:l}=kl(e);return(0,kt.jsx)(Na,{field:e,type:r,rowId:a,readOnly:l,children:(0,kt.jsx)(mbe,{children:(0,kt.jsxs)(vt.Root,{style:{margin:`${Me(18)} 0`},children:[(0,kt.jsxs)(vt.Header,{children:[(0,kt.jsx)(vt.Options,{children:(0,kt.jsx)(je,{icon:s.icon||Qg,"data-drag-handle":!0,style:{cursor:"grab"}})}),(0,kt.jsx)(vt.Title,{children:(0,kt.jsx)(Ze,{label:me.label(r)})}),(0,kt.jsx)(vt.Options,{children:(0,kt.jsx)(je,{icon:Ji,onClick:o})})]}),(0,kt.jsx)(vt.Content,{children:(0,kt.jsx)(jr,{type:r})})]})})})}return Ln.create({name:t,group:"block",atom:!0,draggable:!0,parseHTML(){return[{tag:t}]},renderHTML({HTMLAttributes:i}){return[t,er(i)]},addNodeView(){return bbe(n)},addAttributes(){return{[Qt.id]:{default:null}}}})}function Sbe(e,t){return t?ue(t).map(([r,n])=>Ebe(e,r,n)):[]}function Cbe({editor:e,schema:t,onInsert:r}){let n=_t();if(!t)return null;let i=ue(t).map(([o,a])=>(0,kt.jsx)(fe.Item,{onClick:()=>{r(n,o),e.chain().focus().insertContent({type:o,attrs:{[Qt.id]:n}}).run()},children:(0,kt.jsxs)(q,{center:!0,gap:8,children:[(0,kt.jsx)(ee,{icon:tt(a).icon??K0}),(0,kt.jsx)(Ze,{label:me.label(a)})]})},o));return(0,kt.jsx)(hbe,{editor:e,tippyOptions:{zIndex:1,maxWidth:"none"},children:(0,kt.jsxs)(fe.Root,{bottom:!0,children:[(0,kt.jsxs)(fe.Trigger,{className:BI.insert.trigger(),children:[(0,kt.jsx)(ee,{icon:K0}),(0,kt.jsx)("span",{children:"Insert block"})]}),(0,kt.jsx)(fe.Items,{children:i})]})})}function aK({field:e}){let{value:t,mutator:r,options:n,error:i}=Pt(e),o=Ow(),{fragment:a,insert:s}=r,l=$W(),{readOnly:u,schema:c,enableTables:d}=n,[f,h]=(0,ui.useState)(!1),p=(0,ui.useRef)(null),m=(0,ui.useRef)(null),v=(0,ui.useCallback)(function(D){let F=D||document.activeElement,T=()=>m.current?.querySelector(`.${BI.root.editor()} > .ProseMirror`),R=p.current?.contains(F)||F===T()||!1;h(R)},[h,m,p]),g=(0,ui.useMemo)(()=>Sbe(e,c),[e,c]),y=(0,ui.useMemo)(()=>[rbe.configure({fragment:a}),xq,...g],[a,g]),b=(0,ui.useMemo)(()=>({type:"doc",content:t.map(sK)}),[a]),x=(0,ui.useCallback)(({event:k})=>v(k.currentTarget),[v]),S=(0,ui.useCallback)(({event:k})=>v(k.relatedTarget),[v]),E=!n.readOnly&&!u,I=(0,ui.useMemo)(()=>{let k=a.doc,D;return k.transact(()=>{D=new XU({content:b,onFocus:x,onBlur:S,extensions:y,editable:E})},"self"),D},[a]);return Qh(()=>{I.setOptions({editable:E})},[E]),(0,ui.useEffect)(()=>(I.on("transaction",o),()=>I.destroy()),[I]),(0,kt.jsxs)(kt.Fragment,{children:[E&&f&&(0,kt.jsx)(Wq,{ref:p,editor:I,focusToggle:v,pickLink:l.pickLink,enableTables:d}),(0,kt.jsx)(UW,{picker:l}),(0,kt.jsxs)(Ke,{...n,focused:f,icon:zW,empty:I.isEmpty,ref:m,error:i,children:[(0,kt.jsx)(Cbe,{editor:I,schema:c,onInsert:s}),(0,kt.jsx)(ube,{className:BI.root.editor({focus:f,readonly:n.readOnly}),editor:I})]})]})}function sK(e){if(Re.isText(e))return{type:"text",text:e[Ta.text],marks:e[Ta.marks]?.map(t=>{let{[ms.type]:r,...n}=t,i=Object.fromEntries(ue(n).map(([o,a])=>o.startsWith("_")?[`data-${o.slice(1)}`,a]:[o,a]));return{type:r,attrs:i}})};if(Re.isElement(e)){let{[Re.type]:t,[Fu.content]:r,...n}=e;return{type:t,content:r?.map(sK),attrs:n}}if(Re.isBlock(e)){let{[Re.type]:t}=e;return{type:t,attrs:{[Qt.id]:e[Qt.id]}}}throw new TypeError("Invalid node")}w();w();var PI=A(P(),1);function lK(e){return(0,PI.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,PI.jsx)("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm-.35 12.65l-2.79-2.79c-.32-.32-.1-.86.35-.86h5.59c.45 0 .67.54.35.85l-2.79 2.79c-.2.2-.52.2-.71.01z"})})}var nn=A(P(),1),kbe={root:"alinea-SelectField","is-open":"alinea-SelectField-is-open",isOpen:"alinea-SelectField-is-open","root-input":"alinea-SelectField-input",rootInput:"alinea-SelectField-input","root-input-button":"alinea-SelectField-input-button",rootInputButton:"alinea-SelectField-input-button","root-input-label":"alinea-SelectField-input-label",rootInputLabel:"alinea-SelectField-input-label","is-placeholder":"alinea-SelectField-is-placeholder",isPlaceholder:"alinea-SelectField-is-placeholder","root-input-icon":"alinea-SelectField-input-icon",rootInputIcon:"alinea-SelectField-input-icon","root-input-delete":"alinea-SelectField-input-delete",rootInputDelete:"alinea-SelectField-input-delete","root-dropdown":"alinea-SelectField-dropdown",rootDropdown:"alinea-SelectField-dropdown","root-dropdown-inner":"alinea-SelectField-dropdown-inner",rootDropdownInner:"alinea-SelectField-dropdown-inner","root-dropdown-option":"alinea-SelectField-dropdown-option",rootDropdownOption:"alinea-SelectField-dropdown-option","is-active":"alinea-SelectField-is-active",isActive:"alinea-SelectField-is-active","is-selected":"alinea-SelectField-is-selected",isSelected:"alinea-SelectField-is-selected","root-dropdown-option-icon":"alinea-SelectField-dropdown-option-icon",rootDropdownOptionIcon:"alinea-SelectField-dropdown-option-icon"},Xs=j(kbe);function uK({field:e}){let{value:t=null,mutator:r,label:n,options:i,error:o}=Pt(e),{readOnly:a}=i,s=i.options,{x:l,y:u,reference:c,floating:d,refs:f,strategy:h}=Mb({whileElementsMounted:Fb,strategy:"fixed",placement:"bottom-start",middleware:[Tb(4),Ab(),DP({apply({rects:p}){f.floating.current&&Object.assign(f.floating.current.style,{width:`${p.reference.width}px`})}})]});return(0,nn.jsx)(Ke,{...i,error:o,icon:lK,children:(0,nn.jsx)("div",{className:Xs.root({readOnly:a}),children:(0,nn.jsx)(Bs,{value:t,onChange:r,disabled:i.readOnly,children:({open:p})=>(0,nn.jsxs)("div",{children:[(0,nn.jsxs)("div",{className:Xs.root.input({open:p}),children:[(0,nn.jsxs)(Bs.Button,{ref:c,className:Xs.root.input.button(),children:[(0,nn.jsx)("span",{className:Xs.root.input.label({placeholder:!t}),children:(0,nn.jsx)(Ze,{label:(t?s[t]:i.placeholder)||n})}),(0,nn.jsx)(ee,{icon:ti,className:Xs.root.input.icon()})]}),t&&!i.required&&(0,nn.jsx)(je,{icon:Ji,onClick:()=>r(null),className:Xs.root.input.delete()})]}),(0,nn.jsx)(Bs.Options,{ref:d,style:{position:h,top:`${u||0}px`,left:`${l||0}px`},className:Xs.root.dropdown(),children:(0,nn.jsx)("div",{className:Xs.root.dropdown.inner(),children:Object.entries(s).map(([m,v])=>(0,nn.jsx)(Bs.Option,{value:m,children:({active:g,selected:y})=>(0,nn.jsxs)(q,{center:!0,gap:4,className:Xs.root.dropdown.option({active:g,selected:y}),children:[(0,nn.jsx)(Ze,{label:v}),(0,nn.jsx)("div",{className:Xs.root.dropdown.option.icon(),children:y&&(0,nn.jsx)(ee,{size:18,icon:Ma})})]})},m))})})]})})})})}w();var cK=A($(),1),hf=A(P(),1),Abe={"root-input":"alinea-TextField-input",rootInput:"alinea-TextField-input"},Tbe=j(Abe);function dK({field:e}){let{value:t,mutator:r,label:n,options:i,error:o}=Pt(e),[a,s]=(0,cK.useState)(!1),{multiline:l,inline:u,iconLeft:c,iconRight:d,autoFocus:f,readOnly:h}=i,p=l?Cp:"input",m=u?n:"";return(0,hf.jsx)(Ke,{asLabel:!0,...i,error:o,empty:t==="",focused:a,icon:aa,children:(0,hf.jsxs)(q,{center:!0,gap:8,children:[c&&(0,hf.jsx)(c,{}),(0,hf.jsx)(p,{className:Tbe.root.input({readOnly:h}),type:"text",value:t||"",onChange:g=>r(g.currentTarget.value),onFocus:()=>s(!0),onBlur:()=>s(!1),placeholder:m,autoFocus:f,readOnly:i.readOnly}),d&&(0,hf.jsx)(d,{})]})})}w();var LI=A(P(),1),Dbe={"root-input":"alinea-TimeField-input",rootInput:"alinea-TimeField-input"},Ibe=j(Dbe);function fK({field:e}){let{options:t,value:r,mutator:n,error:i}=Pt(e),{minValue:o,maxValue:a,readOnly:s,step:l,autoFocus:u}=t;return(0,LI.jsx)(Ke,{asLabel:!0,...t,error:i,icon:N2,children:(0,LI.jsx)("input",{className:Ibe.root.input(),type:"time",value:r??"",onChange:c=>n(c.currentTarget.value),readOnly:s,min:o,max:a,step:l||60})})}w();var hK=A($(),1);var on=A(P(),1),Fbe={root:"alinea-MediaExplorer","root-inner":"alinea-MediaExplorer-inner",rootInner:"alinea-MediaExplorer-inner","root-inner-header":"alinea-MediaExplorer-inner-header",rootInnerHeader:"alinea-MediaExplorer-inner-header","root-inner-content":"alinea-MediaExplorer-inner-content",rootInnerContent:"alinea-MediaExplorer-inner-content","root-title":"alinea-MediaExplorer-title",rootTitle:"alinea-MediaExplorer-title","root-list":"alinea-MediaExplorer-list",rootList:"alinea-MediaExplorer-list"},uS=j(Fbe);function pK({editor:e}){let t=dr(),r=e?.entryId,n=bi(),i=Qn(),o=Ls(),a=(0,hK.useMemo)(()=>({_root:i.name,_workspace:n.name,_parentId:r??null}),[n,i,r]),{data:s}=qn(["explorer","media","total",a],async()=>{let h={select:void 0,orderBy:[{desc:G.type},{desc:G.id}],filter:a};return{...r&&await o.first({select:{title:G.title,parent:G.parentId},id:r,status:"preferDraft"}),query:h}},{suspense:!0,keepPreviousData:!0}),{query:l}=s,u=s?.title||i.label,c=Bt(),d=en(),f=s?.parent?c.entry({id:s.parent}):e?c.root({root:i.name}):void 0;return(0,on.jsx)(on.Fragment,{children:(0,on.jsxs)(Fs,{className:uS.root(),scrollable:!1,children:[e&&(0,on.jsx)(up,{editable:!1,editor:e}),(0,on.jsxs)("div",{className:uS.root.inner(),children:[(0,on.jsx)(q,{style:{flexGrow:1,minHeight:0},children:(0,on.jsxs)(ot,{style:{height:"100%",width:"100%"},children:[(0,on.jsxs)("header",{className:uS.root.inner.header(),children:[(0,on.jsx)(ji,{children:(0,on.jsx)("title",{children:String(u)})}),(0,on.jsxs)(q,{center:!0,gap:18,children:[f&&(0,on.jsx)(Pw,{icon:gc,href:f}),(0,on.jsx)("h1",{className:uS.root.title(),children:(0,on.jsx)(Ze,{label:u})})]})]}),(0,on.jsx)(hp,{query:l,type:"thumb",virtualized:!0,onNavigate:h=>d(c.entry({id:h}))})]})}),(0,on.jsx)(lp,{destination:{parentId:r,workspace:n.name,root:i.name,directory:Wu(t,n.name)}})]})]})})}w();w();var Rbe=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Mbe=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],_be=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Obe=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],mK=(e,t,r)=>{let n=e;return typeof t=="string"||Array.isArray(t)?n=e.toLocaleString(t,r):(t===!0||r!==void 0)&&(n=e.toLocaleString(void 0,r)),n};function $v(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t={bits:!1,binary:!1,space:!0,...t};let r=t.bits?t.binary?Obe:_be:t.binary?Mbe:Rbe,n=t.space?" ":"";if(t.signed&&e===0)return` 0${n}${r[0]}`;let i=e<0,o=i?"-":t.signed?"+":"";i&&(e=-e);let a;if(t.minimumFractionDigits!==void 0&&(a={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(a={maximumFractionDigits:t.maximumFractionDigits,...a}),e<1){let c=mK(e,t.locale,a);return o+c+n+r[0]}let s=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),r.length-1);e/=(t.binary?1024:1e3)**s,a||(e=e.toPrecision(3));let l=mK(Number(e),t.locale,a),u=r[s];return o+l+n+u}w();var Uv="@alinea.location";w();var gK=A($(),1);var bt=A(P(),1),Bbe={root:"alinea-FileEntry",image:"alinea-FileEntry-image","image-col":"alinea-FileEntry-image-col",imageCol:"alinea-FileEntry-image-col","image-preview":"alinea-FileEntry-image-preview",imagePreview:"alinea-FileEntry-image-preview","image-preview-focus":"alinea-FileEntry-image-preview-focus",imagePreviewFocus:"alinea-FileEntry-image-preview-focus","image-preview-img":"alinea-FileEntry-image-preview-img",imagePreviewImg:"alinea-FileEntry-image-preview-img"},om=j(Bbe);function Nbe({type:e,editor:t}){let r=t.activeVersion,{value:n={x:.5,y:.5},mutator:i}=Pt(e.focus),[o,a]=(0,gK.useState)({}),{x:s=n.x,y:l=n.y}=o;return(0,bt.jsxs)(La,{className:om.image(),children:[(0,bt.jsx)("div",{className:om.image.col(),style:{backgroundImage:r.data.averageColor&&`linear-gradient(45deg, ${hh(r.data.averageColor,.6)} 0%, ${hh(r.data.averageColor,.8)} 100%)`},children:(0,bt.jsxs)("div",{className:om.image.preview(),onMouseMove:u=>{let c=u.currentTarget.getBoundingClientRect(),d=(u.clientX-c.left)/c.width,f=(u.clientY-c.top)/c.height;a({x:d,y:f})},onMouseOut:()=>a({}),onClick:u=>{u.preventDefault();let c=u.currentTarget.getBoundingClientRect(),d=(u.clientX-c.left)/c.width,f=(u.clientY-c.top)/c.height;i({x:d,y:f})},children:[(0,bt.jsx)("img",{className:om.image.preview.img(),src:r.data.preview}),(0,bt.jsx)("div",{className:om.image.preview.focus(),style:{left:`${n.x*100}%`,top:`${n.y*100}%`},children:(0,bt.jsx)(Pbe,{})})]})}),(0,bt.jsxs)("div",{style:{minWidth:0},children:[(0,bt.jsx)(rb,{field:e.title}),(0,bt.jsx)(Ke,{label:"Extension",children:r.data.extension}),(0,bt.jsx)(Ke,{label:"File size",children:$v(r.data.size)}),(0,bt.jsxs)(Ke,{label:"Dimensions",children:[r.data.width," x ",r.data.height," pixels"]}),(0,bt.jsx)(Ke,{label:"URL",children:(0,bt.jsx)(Et.Monospace,{children:Uv in r.data?r.data[Uv]:r.data.location})}),(0,bt.jsxs)(Ke,{label:"Focus",help:"Click on the image to change the focus point",children:["(",s.toFixed(2),", ",l.toFixed(2),")"]})]})]})}function Pbe(){return(0,bt.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 16",style:{display:"block"},children:[(0,bt.jsx)("path",{fill:"var(--alinea-background)",d:"M12 3C9.19 3 6 5.11 6 9.13c0 2.68 2 5.49 6 8.44c4-2.95 6-5.77 6-8.44C18 5.11 14.81 3 12 3z"}),(0,bt.jsx)("path",{fill:"var(--alinea-foreground)",d:"M12 4c1.93 0 5 1.4 5 5.15c0 2.16-1.72 4.67-5 7.32c-3.28-2.65-5-5.17-5-7.32C7 5.4 10.07 4 12 4m0-2C8.73 2 5 4.46 5 9.15c0 3.12 2.33 6.41 7 9.85c4.67-3.44 7-6.73 7-9.85C19 4.46 15.27 2 12 2z"}),(0,bt.jsx)("path",{fill:"var(--alinea-foreground)",d:"M12 7c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z"})]})}function Lbe({type:e,editor:t}){let r=t.activeVersion;return(0,bt.jsxs)(La,{children:[(0,bt.jsx)(rb,{field:e.title}),(0,bt.jsx)(Ke,{label:"Extension",children:r.data.extension}),(0,bt.jsx)(Ke,{label:"File size",children:$v(r.data.size)}),(0,bt.jsx)(Ke,{label:"URL",children:(0,bt.jsx)(Et.Monospace,{children:Uv in r.data?r.data[Uv]:r.data.location})})]})}function vK(e){let t=Bt(),{editor:r}=e,n=oe(r.form);return(0,bt.jsxs)(Fs,{className:om.root(),children:[(0,bt.jsx)(up,{editable:!1,editor:r}),(0,bt.jsx)(Bx,{editor:r,backLink:r.activeVersion.parentId?t.entry({id:r.activeVersion.parentId,workspace:r.activeVersion.workspace}):t.entry({id:void 0})}),(0,bt.jsx)(bd,{form:n,children:(0,bt.jsx)(Fs.Container,{children:Fx(r.activeVersion.data.extension)?(0,bt.jsx)(Nbe,{...e}):(0,bt.jsx)(Lbe,{...e})})})]})}w();var yK=A($(),1),sr=A(P(),1),zbe={row:"alinea-FileSummary-row","row-preview":"alinea-FileSummary-row-preview",rowPreview:"alinea-FileSummary-row-preview","row-preview-image":"alinea-FileSummary-row-preview-image",rowPreviewImage:"alinea-FileSummary-row-preview-image","row-preview-icon":"alinea-FileSummary-row-preview-icon",rowPreviewIcon:"alinea-FileSummary-row-preview-icon",thumb:"alinea-FileSummary-thumb","thumb-preview":"alinea-FileSummary-thumb-preview",thumbPreview:"alinea-FileSummary-thumb-preview","thumb-preview-image":"alinea-FileSummary-thumb-preview-image",thumbPreviewImage:"alinea-FileSummary-thumb-preview-image","is-cover":"alinea-FileSummary-is-cover",isCover:"alinea-FileSummary-is-cover","thumb-preview-icon":"alinea-FileSummary-thumb-preview-icon",thumbPreviewIcon:"alinea-FileSummary-thumb-preview-icon","thumb-preview-extension":"alinea-FileSummary-thumb-preview-extension",thumbPreviewExtension:"alinea-FileSummary-thumb-preview-extension","thumb-footer":"alinea-FileSummary-thumb-footer",thumbFooter:"alinea-FileSummary-thumb-footer","thumb-footer-title":"alinea-FileSummary-thumb-footer-title",thumbFooterTitle:"alinea-FileSummary-thumb-footer-title","thumb-footer-details":"alinea-FileSummary-thumb-footer-details",thumbFooterDetails:"alinea-FileSummary-thumb-footer-details","thumb-footer-details-divider":"alinea-FileSummary-thumb-footer-details-divider",thumbFooterDetailsDivider:"alinea-FileSummary-thumb-footer-details-divider"},is=j(zbe);function wK(e){return(0,sr.jsxs)(q,{center:!0,full:!0,gap:10,className:is.row(),children:[(0,sr.jsx)("div",{className:is.row.preview(),children:e.preview?(0,sr.jsx)("img",{src:e.preview,className:is.row.preview.image()}):(0,sr.jsx)("div",{className:is.row.preview.icon(),children:(0,sr.jsx)(kd,{})})}),(0,sr.jsxs)(ot,{children:[e.parents.length>0&&(0,sr.jsx)(ta,{children:(0,sr.jsx)(Et.Small,{children:(0,sr.jsx)(q,{center:!0,gap:3,children:e.parents.map(({id:t,title:r})=>(0,sr.jsx)(yK.Fragment,{children:r},t)).reduce((t,r,n)=>[t,(0,sr.jsx)(qa,{},n),r])})})}),(0,sr.jsx)(ta,{children:(0,sr.jsx)(Ze,{label:e.title})})]}),e.extension&&(0,sr.jsx)($i,{style:{marginLeft:"auto"},children:e.extension.slice(1).toUpperCase()})]})}function bK(e){return(0,sr.jsxs)("div",{className:is.thumb(),title:e.title,children:[(0,sr.jsx)("div",{className:is.thumb.preview(),style:{backgroundImage:e.averageColor&&`linear-gradient(45deg, ${hh(e.averageColor,.6)} 0%, ${hh(e.averageColor,.8)} 100%)`},children:e.preview?(0,sr.jsx)("img",{src:e.preview,className:is.thumb.preview.image()}):(0,sr.jsx)("div",{className:is.thumb.preview.icon(),children:(0,sr.jsx)(kd,{style:{fontSize:Me(36)}})})}),(0,sr.jsxs)("div",{className:is.thumb.footer(),children:[(0,sr.jsx)("p",{className:is.thumb.footer.title(),children:e.title}),(0,sr.jsxs)("p",{className:is.thumb.footer.details(),children:[e.extension?.slice(1).toUpperCase(),e.width&&e.height&&` - ${e.width}x${e.height}`,e.size&&(0,sr.jsx)("span",{style:{marginLeft:"auto"},children:$v(e.size)})]})]})]})}var xK={"alinea/field/check/CheckField.view#CheckInput":jV,"alinea/field/code/CodeField.view#CodeInput":WV,"alinea/field/date/DateField.view#DateInput":qV,"alinea/field/hidden/HiddenField.view#HiddenInput":KV,"alinea/field/json/JsonField.view#JsonInput":YV,"alinea/field/link/LinkField.view#SingleLinkInput":AH,"alinea/field/link/LinkField.view#MultipleLinksInput":TH,"alinea/field/list/ListField.view#ListInput":OH,"alinea/field/metadata/MetadataField.view#MetadataInput":BH,"alinea/field/number/NumberField.view#NumberInput":PH,"alinea/field/object/ObjectField.view#ObjectInput":zH,"alinea/field/path/PathField.view#PathInput":HH,"alinea/field/richtext/RichTextField.view#RichTextInput":aK,"alinea/field/select/SelectField.view#SelectInput":uK,"alinea/field/tabs/Tabs.view#TabsView":fP,"alinea/field/text/TextField.view#TextInput":dK,"alinea/field/time/TimeField.view#TimeInput":fK,"alinea/dashboard/view/MediaExplorer#MediaExplorer":pK,"alinea/dashboard/view/media/FileEntry#FileEntry":vK,"alinea/dashboard/view/media/FileSummary#FileSummaryRow":wK,"alinea/dashboard/view/media/FileSummary#FileSummaryThumb":bK};var Vbe=new URL(import.meta.url).searchParams,Hbe=Vbe.get("handlerUrl");NV(Hbe,VV,xK);
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

alinea/dist/chunks/chunk-RSX2DILK.js:
  (*! Bundled license information:
  
  comlink/dist/esm/comlink.mjs:
    (**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: Apache-2.0
     *)
  *)

alinea/dist/dashboard/view/explorer/Explorer.js:
  (*! Bundled license information:
  
  react-is/cjs/react-is.production.min.js:
    (** @license React v16.13.1
     * react-is.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     *)
  
  react-is/cjs/react-is.development.js:
    (** @license React v16.13.1
     * react-is.development.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     *)
  
  object-assign/index.js:
    (*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    *)
  
  react-tiny-virtual-list/build/react-tiny-virtual-list.es.js:
    (*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0
    
    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.
    
    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** *)
  *)

alinea/dist/field/richtext/RichTextField.view.js:
  (*! Bundled license information:
  
  @tiptap/react/dist/index.js:
    (**
     * @license React
     * use-sync-external-store-shim.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     *)
    (**
     * @license React
     * use-sync-external-store-shim.development.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     *)
  
  @tiptap/react/dist/index.js:
    (**
     * @license React
     * use-sync-external-store-shim/with-selector.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     *)
    (**
     * @license React
     * use-sync-external-store-shim/with-selector.development.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     *)
  *)
*/
